webpackJsonp([1],{0:function(e,t,n){n(1),e.exports=n(869)},536:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=(0,u["default"])({duration:!0}),n=!1,a=void 0;a=n?(0,o.applyMiddleware)(l["default"],y["default"],f["default"],t):(0,o.applyMiddleware)(l["default"],y["default"],f["default"]);var r=(0,o.createStore)(d["default"],e,a);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(461),i=n(537),l=a(i),s=n(538),u=a(s),c=n(539),d=a(c),p=n(617),f=a(p),h=n(618),y=a(h)},539:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(461),o=n(540),i=a(o),l=n(581),s=a(l),u=n(587),c=a(u),d=n(588),p=a(d),f=n(589),h=a(f),y=n(590),m=a(y),b=n(592),g=a(b),v=n(593),E=a(v),A=n(594),O=a(A),w=n(595),_=a(w),x=n(597),P=a(x),C=n(598),S=a(C),k=n(599),R=a(k),T=n(600),D=a(T),M=n(601),L=a(M),N=n(602),j=a(N),I=n(603),F=a(I),B=n(614),V=a(B),G=n(615),H=a(G),U=n(616),W=a(U),z=(0,r.combineReducers)({explorer:s["default"],appBar:i["default"],contextPane:h["default"],pathInfoPanel:g["default"],reportsPanel:m["default"],funnelsPanel:O["default"],totalsPanel:E["default"],messageBar:_["default"],mutable:(0,r.combineReducers)({treeData:c["default"],mapListData:L["default"]}),mapView:p["default"],layoutSelector:P["default"],appMain:S["default"],help:R["default"],dashboard:D["default"],settings:j["default"],pageAnalyzer:F["default"],mapSelector:V["default"],dateRangeSelector:H["default"],visualFilters:W["default"]});t["default"]=z},540:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].appBar:arguments[0],t=arguments[1];switch(t.type){case i["default"].APP_BAR.TOGGLE_SELECTOR:var n=e.activeSelector===t.payload.activeSelector?"":t.payload.activeSelector;return Object.assign({},e,{activeSelector:n});case i["default"].EXPLORER.DOWNLOAD_SUCCESS:case i["default"].EXPLORER.DOWNLOAD_ERROR:case i["default"].EXPLORER.COPY_TO_CLIPBOARD_SUCCESS:case i["default"].EXPLORER.COPY_TO_CLIPBOARD_ERROR:case i["default"].EXPLORER.TOGGLE_SETTINGS:case i["default"].EXPLORER.APPLY_FILTER:case i["default"].EXPLORER.SELECT_MAP_LAYOUT:case i["default"].EXPLORER.APPLY_SELECTIONS:return Object.assign({},e,{activeSelector:""});case i["default"].APP_BAR.SET_FILTER:return Object.assign({},e,{activeSelector:c.selectorNames.visualFilters});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(579),c=(a(u),n(580))},541:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={EXPLORER:{APPLY_SELECTIONS:"EXPLORER_APPLY_SELECTIONS",APPLY_FILTER:"APPLY_FILTER",TREEDATA_FETCHING:"TREEDATA_FETCHING",TREEDATA_FETCH_SUCCESS:"TREEDATA_FETCH_SUCCESS",TREEDATA_FETCH_ERROR:"TREEDATA_FETCH_ERROR",STATE_LOAD_SUCCESS:"EXPLORER_STATE_LOAD_SUCCESS",STATE_LOAD_ERROR:"EXPLORER_STATE_LOAD_ERROR",STATE_LOADING:"EXPLORER_STATE_LOADING",STATE_SAVE_SUCCESS:"EXPLORER_STATE_SAVE_SUCCESS",STATE_SAVE_ERROR:"EXPLORER_STATE_SAVE_ERROR",STATE_SAVING:"EXPLORER_STATE_SAVING",TOGGLE_CONTEXT_PANE:"EXPLORER_TOGGLE_CONTEXT_PANE",SELECT_MAP_LAYOUT:"EXPLORER_SELECT_MAP_LAYOUT",CHANGE_CONTEXT_PANE_PANEL:"EXPLORER_CHANGE_CONTEXT_PANE_PANEL",TOGGLE_HELP:"EXPLORER_TOGGLE_HELP",TOGGLE_HELP_ON_LOAD:"EXPLORER_TOGGLE_HELP_ON_LOAD",PATHCONTACTS_FETCHING:"EXPLORER_PATHCONTACTS_FETCHING",PATHCONTACTS_FETCH_SUCCESS:"EXPLORER_PATHCONTACTS_FETCH_SUCCESS",PATHCONTACTS_FETCH_ERROR:"EXPLORER_PATHCONTACTS_FETCH_ERROR",FUNNELS_FETCHING:"EXPLORER_FUNNELS_FETCHING",FUNNELS_FETCH_SUCCESS:"EXPLORER_FUNNELS_FETCH_SUCCESS",FUNNELS_FETCH_ERROR:"EXPLORER_FUNNELS_FETCH_ERROR",FUNNELS_SAVE:"EXPLORER_FUNNELS_SAVE",FUNNELS_SAVE_SUCCESS:"EXPLORER_FUNNELS_SAVE_SUCCESS",FUNNELS_SAVE_ERROR:"EXPLORER_FUNNELS_SAVE_ERROR",ROOTNODE_DATA_FETCHING:"EXPLORER_ROOTNODE_DATA_FETCHING",ROOTNODE_DATA_FETCH_SUCCESS:"EXPLORER_ROOTNODE_DATA_FETCH_SUCCESS",ROOTNODE_DATA_FETCH_ERROR:"EXPLORER_ROOTNODE_DATA_FETCH_ERROR",DOWNLOAD_MAP_DATA:"EXPLORER_DOWNLOAD_MAP_DATA",COPY_TO_CLIPBOARD:"EXPLORER_COPY_TO_CLIPBOARD",COPY_TO_CLIPBOARD_SUCCESS:"EXPLORER_COPY_TO_CLIPBOARD_SUCCESS",COPY_TO_CLIPBOARD_ERROR:"EXPLORER_COPY_TO_CLIPBOARD_ERROR",DOWNLOAD_SUCCESS:"EXPLORER_DOWNLOAD_SUCCESS",DOWNLOAD_ERROR:"EXPLORER_DOWNLOAD_ERROR",TOGGLE_TRANSITIONS:"TOGGLE_TRANSITIONS",ITEM_DATA_FETCHING:"EXPLORER_ITEM_DATA_FETCHING",ITEM_DATA_FETCH_SUCCESS:"EXPLORER_ITEM_DATA_FETCH_SUCCESS",ITEM_DATA_FETCH_ERROR:"EXPLORER_ITEM_DATA_FETCH_ERROR",TOGGLE_SETTINGS:"TOGGLE_SETTINGS",CHANGE_SETTING:"CHANGE_SETTING",UNSUPPORTED_BROWSER:"EXPLORER_UNSUPPORTED_BROWSER"},MAPVIEW:{NODE_CLICK:"NODE_CLICK",PATH_SELECT:"PATH_SELECT",NODE_DBLCLICK:"NODE_DBLCLICK",NODE_MOUSE_OVER:"NODE_MOUSE_OVER",NODE_MOUSE_OUT:"NODE_MOUSE_OUT",NODE_COLLAPSER_CLICK:"NODE_COLLAPSER_CLICK",COLUMN_HEADER_CLICK:"COLUMN_HEADER_CLICK",TOGGLE_LABELS:"TOGGLE_LABELS",TOGGLE_LEGEND:"TOGGLE_LEGEND"},APP_BAR:{TOGGLE_SELECTOR:"TOGGLE_SELECTOR",SET_FILTER:"SET_FILTER",MAPLIST_FETCH:"APP_BAR_MAPLIST_FETCH",NODE_GROUPING_OPTIONS_FETCH:"APP_BAR_NODE_GROUPING_OPTIONS_FETCH",PRESET_DATE_RANGES_FETCH:"APP_BAR_PRESET_DATE_RANGES_FETCH"},MESSAGE_BAR:{TOGGLE_ISOPEN:"MESSAGE_BAR_TOGGLE_ISOPEN",DISMISS_MESSAGE:"MESSAGE_BAR_DISMISS_MESSAGE",ADD_MESSAGE:"MESSAGE_BAR_ADD_MESSAGE",APPLY_CHANGES:"MESSAGE_BAR_APPLY_CHANGES",DISMISS_ALL_MESSAGES:"MESSAGE_BAR_DISMISS_ALL_MESSAGES"},DASHBOARD:{COMPARISON_DATA_FETCHING:"DASHBOARD_COMPARISON_DATA_FETCHING",COMPARISON_DATA_FETCH_SUCCESS:"DASHBOARD_COMPARISON_DATA_FETCH_SUCCESS",COMPARISON_DATA_FETCH_ERROR:"DASHBOARD_COMPARISON_DATA_FETCH_ERROR",TREND_DATA_FETCHING:"DASHBOARD_TREND_DATA_FETCHING",TREND_DATA_FETCH_SUCCESS:"DASHBOARD_TREND_DATA_FETCH_SUCCESS",TREND_DATA_FETCH_ERROR:"DASHBOARD_TREND_DATA_FETCH_ERROR",TREND_DATA_FETCH_WARNING:"DASHBOARD_TREND_DATA_FETCH_WARNING",SET_FAVORITE_FUNNEL:"DASHBOARD_SET_FAVORITE_FUNNEL"},MAP_SELECTOR:{TOGGLE_FAVORITE_MAP:"MAP_SELECTOR_TOGGLE_FAVORITE_MAP",TOGGLE_NODE:"MAP_SELECTOR_TOGGLE_NODE",SET_SELECTED_NODE:"MAP_SELECTOR_SET_SELECTED_NODE",SELECT_GROUPING_OPTION:"MAP_SELECTOR_SELECT_GROUPING_OPTION"},CONTEXT_PANE:{SELECT_FUNNEL:"CONTEXT_PANE_SELECT_FUNNEL"},AUTHENTICATION:{AUTH_TICKET_STATUS_FETCHING:"AUTHENTICATION_AUTH_TICKET_STATUS_FETCHING",AUTH_TICKET_STATUS_FETCH_SUCCESS:"AUTHENTICATION_AUTH_TICKET_STATUS_FETCH_SUCCESS",AUTH_TICKET_STATUS_FETCH_ERROR:"AUTHENTICATION_AUTH_TICKET_STATUS_FETCH_ERROR"},PAGE_ANALYZER:{PAGE_ANALYZER_PATHSET_READY:"PAGE_ANALYZER_PATHSET_READY"}};t["default"]=n},542:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=(n(543),n(553),n(559)),o=(a(r),{explorer:{mapId:"",mapName:"",startDate:"",endDate:"",groupingOption:"",appliedPathFilter:[],appliedMetricFilter:[],datePreset:"",favoriteFunnels:[],funnels:null},pageAnalyzer:{pageId:null,pageName:"",pathSet:null,scales:null,totals:{pathCount:null,visits:null,value:null}},appBar:{activeSelector:""},mapSelector:{selectedMapInfo:{},transientMapInfo:{},nodeGroupingOptions:[],favorites:[],mapInfoVisible:!0,dataVersion:!1,groupingOption:""},dateRangeSelector:{blockedDateRanges:[],presetDateRanges:[]},visualFilters:{tempPathFilter:[],tempMetricFilter:[]},contextPane:{visible:!0},reportsPanel:{visible:!1,contacts:[]},pathInfoPanel:{visible:!1,nodeId:-1,itemId:null,contacts:[]},funnelsPanel:{visible:!1,loading:!1,funnels:[],selectedFunnel:null,favoriteFunnel:null},totalsPanel:{visible:!0},layoutSelector:{selectedLayout:"dashboard"},messageBar:{messages:[],isOpen:!1,timerVisible:!1,resetTimer:!1,timerPaused:!1},mutable:{treeData:{},mapListData:{data:null,selectedMapInfo:{}}},mapView:{sortBy:"metric",sortColIndex:0,sortAsc:!1,selectedNodeId:-1,mouseNodeId:-1,popoverPosition:{},showLabels:null,showLegend:null,compactLayout:!0,loading:!1,enableTransitions:null},appMain:{loading:!1,unsupportedBrowser:!1},help:{visible:!1,dontShowOnStartup:!1,anchor:""},dashboard:{comparisonData:null,comparisonDataLoading:!1,trendData:null,trendDataLoading:!1,treeDataLoading:!1,funnelsLoading:!1,favoriteFunnel:null,showOutcomeMetrics:null},settings:{visible:!1,enableTransitions:!0,dontShowOnStartup:!1,showLabels:!1,showLegend:!0,showOutcomeMetricsOnDashboard:!1,allowBlockedDateSelection:!0}});t["default"]=o},543:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function o(e){return e?e.toLowerCase().replace("{","").replace("}",""):null}function i(e,t){for(var n=[],a=0;a<e.length;a++){var r=e[a],o=(0,N["default"])(t,{recordId:r.recordId});o&&(r=o.merge(r)),n.push(r)}return n}function l(e){var t=arguments.length<=1||void 0===arguments[1]?".2s":arguments[1];return e?Math.abs(e)<1e3?B["default"].round(e,2):"string"==typeof t?B["default"].format(t)(e):"function"==typeof t?t(e):e:e}function s(e){return"/sitecore/shell/Applications/Content%20Manager/default.aspx?fo="+e}function u(){var e="Marketing+Control+Panel",t="People%2f16x16%2fmegaphone.png",n="{09CF9489-8F71-4A16-B707-4F013D8CDEFB}";return"/sitecore/shell/Applications/Content%20Manager/default.aspx?he="+e+"&pa=0&ic="+t+"&ro="+n+"&sc_bw=1&mo=templateworkspace"}function c(e,t){return"/sitecore/client/applications/pathanalyzer/pageanalyzer?id="+e+"&name="+t}function d(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}function p(e){return"?"+Object.keys(e).map(function(t){var n=void 0;return n=Array.isArray(e[t])?e[t].join("|"):e[t],t+"="+encodeURIComponent(n)}).join("&")}function f(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function h(){var e=window.location.hash.substring(1),t=y(e);return t}function y(e){var t={},n=e.split("?");if(n=n.length>1?n[1].split("&"):n[0].split("&"))return n.forEach(function(e){var n=e.split("=");2===n.length&&(t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}),t}function m(e){for(var t=this.cookiePrefix+e,n=document.cookie,a=n.split(";"),r=0;r<a.length;r++){var o=a[r].trim().split("=");if(o[0]===t)return o[1]}return null}function b(e,t){document.cookie=this.cookiePrefix+e+"="+t+";path=/;"}function g(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;for(var a in e)if(!(a in t)||e[a]!==t[a]){if(n&&(E(e[a])||E(t[a])))continue;return!1}for(var a in t)if(!(a in e)||e[a]!==t[a]){if(n&&(E(e[a])||E(t[a])))continue;return!1}return!0}function v(e,t){var n=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;for(var a in e)if(a in t&&e[a]!==t[a]){if(n&&(E(e[a])||E(t[a])))continue;return!1}return!0}function E(e){return null!==e&&("function"==typeof e||"object"===("undefined"==typeof e?"undefined":M(e)))}function A(){var e=document.getElementsByName("__RequestVerificationToken");return e.length&&0!==e.length?e[0].value:""}function O(e){var t=void 0,n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}function w(e){return encodeURIComponent(e)}function _(e,t,n){if(!e)return e;var a=t;return Array.isArray(t)||(a=[t]),a.forEach(function(t){if(t.indexOf(".")===-1&&e.hasOwnProperty(t))delete e[t];else{var n=t.split(".");_(e[n.shift()],n.join("."))}}),e}function x(e,t,n){if(!e)return e;var a=t;Array.isArray(t)||(a=[t]);var r={};return a.forEach(function(t){if(t.indexOf(".")===-1&&e.hasOwnProperty(t))r[t]=e[t];else{var n=t.split("."),a=n.shift(),o=x(e[a],n.join("."));o&&(r[a]=o)}}),r}function P(e,t){for(var n=B["default"].max(e,function(e){return e.nodes.length}),a=[],r=[],o=0;o<n;o++)r.push(o+1);return t.forEach(function(e){r.push(e.label)}),a.push(r),e.forEach(function(e){for(var t=[],r=0;r<n;r++)r<e.nodes.length?t.push(e.nodes[r].name):t.push(null);a.push(t.concat(e.values))}),"sep=,\n"+B["default"].csv.format(a)}function C(e,t){if(document.createEvent){var n=new Event(t);e.dispatchEvent(n)}else{var a=document.createEventObject();e.fireEvent("on"+t,a)}}function S(e){try{var t=JSON.parse(e);if(t&&"object"===("undefined"==typeof t?"undefined":M(t))&&null!==t)return t}catch(n){}return!1}function k(e,t,n){var a=arguments.length<=3||void 0===arguments[3]||arguments[3];if(e.length<=t)return e;var r=(e.length>t&&n?n:"",t-n.length),o=void 0;if(a){var i=e.lastIndexOf(" ",r+1);o=i>0?i:r}else o=r;var l=e.substr(0,o);return l+n}function R(e){return e.status>=200&&e.status<300?e:e.text().then(function(t){var n=T(t),a=new Error(n?n:t?t:e.statusText);throw a.response=e,a})}function T(e){var t=S(e);if(!t)return null;var n=void 0;return t.Message&&(n=t.Message+" "),t.ModelState&&Object.keys(t.ModelState).forEach(function(e){n+=t.ModelState[e]+" "}),n}function D(){return I["default"].msie&&I["default"].version<=10}Object.defineProperty(t,"__esModule",{value:!0});var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.newGuid=r,t.parseGuid=o,t.mergeNodes=i,t.formatMetricValue=l,t.getItemLink=s,t.getMarketingCenterLink=u,t.getPageAnalyzerLink=c,t.stopEventBubble=d,t.jsonToQueryString=p,t.arraysAreEqual=f,t.getHashParams=h,t.getQueryParameters=y,t.getSessionValue=m,t.setSessionValue=b,t.shallowEqual=g,t.shallowEqualSameKeysOnly=v,t.isObject=E,t.getRequestVerificationToken=A,t.getVendorTransitionEvent=O,t.urlEncode=w,t.deleteKeysFromObject=_,t.extractKeysFromObject=x,t.getCSV=P,t.triggerEvent=C,t.tryParseJson=S,t.truncate=k,t.checkStatus=R,t.getJsonErrorMessage=T,t.isUnsupportedBrowser=D;var L=n(544),N=a(L),j=n(503),I=a(j),F=n(552),B=a(F)},553:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.layouts=t.layoutKeys=void 0;var r=n(554),o=a(r),i=t.layoutKeys={dashboard:"dashboard",radial:"radial",vertical:"vertical",horizontal:"horizontal",table:"table"};t.layouts=[{key:i.dashboard,componentName:"Dashboard",displayName:o["default"].translate("Dashboard"),iconStyle:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwNJREFUeNrsWT1y2kAUFpsUSccMB4hSUAdOYDhB4ASGExhOkKRMBT6B8AkgXTrkE5iewsoFGJXpkreaT571erXa1T7Zjd7MG8FIenzv7fv5domiTjrppJO3lF6ogeFw2KfLhPSKdATtVzyek56g96Tp+XzO38QBAj6jyzXpLDAGB9I7cuTwKg4Q8AVdvpHGzNmQkf4gR3atOEDAZZpskCIukiJNIqTXxPE9mV5rciRlc4DAS+Arj8DsCMBSs5HQZeFhY0s21kEOoECPHlEvUoF++HOFvUfP1JOrMbUVurCAl6AfPMGXudzknkkKDMDi7gC9ECPyTQo1bnjP9s4RmOodQNrsDb1cFtUSaiuwmGysDHZXNQ7Y7BeYgM1eA/TQ3tDbZVfYGgBtagDd4fN1TRdytX+g5+aVDmA47VssSo6in6tDT2ipk7RclBxFn6ippNbAqoLDcBWlbIky0lNwoqb2++pMEkr0byxFmRiWN/F04JaWPsOEvQ20f1Ouwvua6JeyQBtrQg1U0lbKl0D75Sp87zEWozV9KPJjJbr/OGpHFr/AlGsTvJRfGinkEJl6I8HA512ZaSlfGe3OBPKtTck1ajxhtH0lLOmTovWxRR+dw5ccnizUJTY5UPRritoUhaf37cb575muOaj0WGLBDDmZHDC99DQBsfxzpvz3Sde5mnrA9CKYwrCTehFtGGpCGzI1GB4rkJm2lMC2sznQrxkePlGXqzbWNkiuNpxx6A7MTBsHUFvXH1+jfg7qatLnYrPu6kDFniLWV9G0Akd12Djwfp2vb6tu4p7r+c9GdQKYjnoge8w0YoxIRw57bZazJMHU69U0CX7GZ0YIhQG+ipj2tQFyL2o26L7gXA6uOLlXyk2nM9RBbon+A9dvFXS63C1xUdyqM5zAsybjDu/pVAKRefQcVnU8RrbLP/j+KfI7F3WxL/la/k5+u1wufweDwUdGqvsBrHMCHTH3gp8E/rc+yLZMxyRtSwaszycxCm8ZSJ3blgJj6N9SnXTSSSd88l+AAQAAwTS6+QZ3iAAAAABJRU5ErkJggg==')",backgroundSize:"16px 16px"}},{key:i.radial,componentName:"RadialLayout",displayName:o["default"].translate("Radial"),iconStyle:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABk0lEQVR42u1YO24CMRAFCcEixOYGdNujcA5uwAWQtlpRpKRJmxOkjLhHGrqtcgHoyA1SBCUz0qw0WA5i2QmeWWzpSciD1+/58zx2pxNLLLpKlmUJoACUgC9CSXWJdvITwAfg5w9gbKJ55M+R5yISjQIKRhKXTQ5ICTnVVfFCo4CSEcw98ZzFS40C+AinnvgDnyGLAlLtAswvIfOb2LaNmj/IWpFKtC2pmwOeCXOLAtZs7a+jgCjgDgWMAX3C2Br5IbnQEwF/D62QXwA+Pacw1i20k19dkAuttJKfAb4Z0R3ghbBj9fifR40CNozkO2DEYiOqq+IbjQIOjODUE5+y+EGjgCMj2PPEeyx+jDMQ98Ap+S46i+NCe+ZCe9eFsI0W8kvAW91zANtg25DEB4BX9ynlkpPYeWLBbwxums/QvXfrENxWd97/aiuazzQZxSazJ5rPNF3H1+6fcx+8uZOQg8nkUaG8XKzfUKepWL+h8hmxftswA+b3QB03mAkKqOV+Ku+1ov2GelkQ7TfU247pN6Vryi+hG2Ee5g9yIwAAAABJRU5ErkJggg==')",backgroundSize:"16px 16px"}},{key:i.vertical,componentName:"VerticalLayout",displayName:o["default"].translate("Vertical"),iconStyle:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5dJREFUeNrsWE1IVFEUfjOW/UxgBbVwMQY1s0mKjBKKWkSbdBEoRGSNC0FoRFzkoC3dlOFMEEkgtHH6NdBN9LOQFi5aFESBtnBclIuggtpUTJFN34nvxW14b948vfPbu/Bx7rvv3HO/c979e8eXyWSMSi5+o8KL54DnwP/uwCqz4vP5tBkNhUJNEP3AEWAL8BF4AsRTqdQLXePIDuozt1FdDoC8EB8GaixeLwGDcCJelg6A/GmIG3monoETN3U44Nc4bdZBJJSmGWAPsJpyRnmXoL6+NaChHAW2sr4ItCDKX/n8EoRbIOeABuqJ/v1y2oV2KvVJhfyfwucpG33vHNBR5pR6O6ZMIGuNyHObjX5ZrIFp4APndxB4CNJ9kLNAI3CF89+g3rSOQb1tNGuhCqkYDyzD5iCL6SCvfQ0g+juAszxlm4E7wHvgF6U8N8t70RP9splCIFPDg+oAcA8YANE3FnrbIC4BJ4CnwGHoLa1kCulaxDGSl3IcuACytXJ5Az4DARCVO1Id3xvUj/HeVLovAKK7IZ4BtWw6D7LDaF+PunmYfUNbgPqDEBfZ/gPYj3evSrKIQWYNRFIhL9NixKHbCPUM9kvSTkkW8RCwi/UvQKfTnOb7Tuob7D9UdAcQtYP8afm7DkBuIc/tdoHz3yz9tFccBzDYBohx5aflMTDm0swY+xm0M067RfkCsrtsZ/0T0IWousqQUb+L/Q3aixfcAUTpGES30tQDMu+WeXJLvx6lqZv2C+MAjG+GuC67LpsmQOLuCq8f0n/C3NbFPscpyG30GlDPenb0sstP4Kp5kDnYFTuHaLue45zUepAhKqIQ4VVArsytiN4jjXcpmToPeNUekPPBaV1ZZiVgaC1EFOhQfvvk5+MWI7MJOAXjiRxk9kKcc5sXQj/pc5tfzZYDbKQtHYCBIKPQaDPGLCO/WKi8kBsO/zgQDocl8s9zdFQN7DOjoPOHhl8/bw7z8/NpdReKKh2/A73ARt4ge9lmUCdaoLyQFYc68rDkoO5CHerRjgiNKs+jGNDgrmLqXs6RF3prkxd6zf9lu7yQaw5+mzxN0iI6SYecjto2ZZMXmnRhIy8OVZUXUvM0EQvdiENOR21rs8kLtbuwkRcHdQ3IHttkXtY435JKx3iWbq68UINNXijokBdyzaF6tlESauVLw+EQSRciL7QcDq6vEnbkdVwlsr6Eu6tENexCngOeA54DFVh+CzAAXdrHRMXviw4AAAAASUVORK5CYII=')",backgroundSize:"16px 16px"}},{key:i.horizontal,componentName:"HorizontalLayout",displayName:o["default"].translate("Horizontal"),iconStyle:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA21JREFUeNrUWT1oFEEUvj3jb4QQwRhSxELvmgQ1higoWNloCkEbuWgsFCGnV+VSWAhamwjBYBRsvBhQQTuNhVhYCCo5FUxzZ6NFMIqpDF6KcH4PnvgYdm93dm9ndwc+Zm7e23dv5s28efPGqtfrqSSXFieCZVlGFMhkMptQ5YEhoIe7F4BZ4Ha1Wq1Rh9NEW44EAwOA8t2ongG9DiyfgUEM4lvsBsAz/76B8nIQA5VKpWZHTEe4fPNC+VWgALQxCtyXYp689h4wUIZEu4hlMiV+T8FCVN8SvDfjZoEe0Z6xoZcceGMzAFl8+/IoB7Ag2sM29GEH3uj3ANa3xX5+P3eN85ovCeXHxSezjueVSTcKJbfR4QTMAY+a4UaNDQDKH0N1D+gCloA+YH3QgyxtYLlsBe6wol3c3QHkSDGaXWAUKLPvX+U29Q0wTyqSJQTFD6O6D+wS3YvABSg2p+WmHPRsCWnWN6K6TgcUsE6QaN1fgvK/Qo9GAyi/l73JHtG9zIo/NBZO+1CcZnqMZ36DIL0AzkP5RaP3AUW5zaiOKvH6Syj1h+m7ea0fEp/95gHdBV89iPxAmxjCz6CaYM8hyw/yFPiTB+AZYf/+r7wBzoH2xcPkuMpvtInTLsKLHGh12JCpb4Z48CfTaD9mF3gFOOJReU/yfVkgm83SMf9OeJGvwFNunwR2cnsNOAiQZ2mD4p88LktVPvn7J9w+BXQL+QdwEpd194B0ga+B41Buhf/8KqrnNNPMQ6bOae4/HfnEm9O1wHdUO/hnH4R/VGZwH6oP/HMJ9E70UQA24qL4NHiL4NWSDwt06lpguxKT2MUpKi/N4BaXAawEkK+1iX+Ktl2w1WvD2+5h6bQHkK81gFeiPQmTtgrzUnvShpfWaqsLigHkB/JCjbyEHy/Uj+qtVy+HPTCvfZCxD77hossYlKYbFQVqJ4Br9A361jyeA57k+05sxf0k9nQfiEMsFHpqMexo1FhuNKz7gNHkbhg3skiy0ybuxKGnVSgrwUmqiyRWpBLJPU4k5oEjrLxQ4jNzRpO7mMll4DR7qaY8cET5xDQvkrsF5YGD6JdT/x84yrBAf+QWUIp8tCjZ0BP1wOHb3HF54DhrQ4/vAweX5D1wKJs02e/EfMIOOlzo1YOsFjsLKJZofiiRlJJOJbz8FWAAUrgEBE6oRV0AAAAASUVORK5CYII=')",backgroundSize:"16px 16px"}},{key:i.table,componentName:"TableLayout",displayName:o["default"].translate("Table"),iconStyle:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAnklEQVR42u2ZwQ2AIAxFnYQbaxBWYgM2YwSX8Uq0JHrQBNKLgvp+8k8NpO9Q+hOmCSGEhpO11olncRavnZ33Xpy2eSNeBmj86tKT0QCEAZs/HDQAcWCACAAADwLEikstVWrp5rN6gEa9elGvswAAAMAXX6HX7wFmAAAAAOi+B4jTxGmGGAAAiNPEaWYAAAAA+F+c9o1l0tueL1iEztoAynpnq0ipA5UAAAAASUVORK5CYII=')",backgroundSize:"16px 16px"}}]},554:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(555)["default"];t.ResourceManager=a,t["default"]=new a},555:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(556),l=a(i),s=n(559),u=a(s),c=function(){function e(){r(this,e),this._dictionary=l["default"].dictionary}return o(e,[{key:"translate",value:function(e){if(!this._dictionary)throw"Dictionary not found";var t=this._dictionary[e];return t?t:e}},{key:"configureLocale",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(!e){e="en";var t=document.getElementById("PathExplorerContainer");if(t){var n=t.getAttribute("data-sc-culture-twoletterisocode");n&&(e=n)}}u["default"].locale(e)}}]),e}();t["default"]=c},556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(557)["default"];t.DataProvider=a,t["default"]=new a},557:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function _(e,t,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:_(r,t,n)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(n)},c=n(558),d=a(c),p=n(572),f=a(p),h=n(543),y=n(576),m=a(y),b=n(559),g=a(b),v=n(542),E=(a(v),n(578)),A=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this))}return l(t,e),s(t,[{key:"saveFunnel",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Explorer/SaveFunnel",r=(0,h.getRequestVerificationToken)();return""===r?void n("request verification token not found"):(0,m["default"])(a,{method:"POST",headers:{"X-RequestVerificationToken":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.statusText}).then(function(e){t(e)})["catch"](function(e){n(e)})}},{key:"getAllFunnels",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Explorer/LoadAllFunnels",r=(0,h.getRequestVerificationToken)();return""===r?void n("request verification token not found"):(0,m["default"])(a,{method:"GET",headers:{"X-RequestVerificationToken":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.json()}).then(function(e){t(e.data)})["catch"](function(e){n(e)})}},{key:"loadState",value:function(e,n){var a=this,r=this.loadInitialState(),o="/sitecore/api/PathAnalyzer/Explorer/LoadPathExplorerState",i=(0,h.getRequestVerificationToken)();return""===i?void n("request verification token not found"):(0,m["default"])(o,{method:"GET",headers:{"X-RequestVerificationToken":i,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.json()}).then(function(n){if(n){var o=JSON.parse(n);o.explorer&&(r=a.processPersistedState(r,o))}r=u(Object.getPrototypeOf(t.prototype),"processPageAnalyzerState",a).call(a,r),e(r)})["catch"](function(e){n(e,r)})}},{key:"loadInitialState",value:function(){var e={},n=document.getElementById("PathExplorerContainer");n&&(e=JSON.parse(n.getAttribute("data-sc-initialstate")));var a=u(Object.getPrototypeOf(t.prototype),"processInitialState",this).call(this,e);return a}},{key:"saveState",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Explorer/SavePathExplorerState",r=(0,h.getRequestVerificationToken)();return""===r?void n("request verification token not found"):(0,m["default"])(a,{method:"POST",headers:{"X-RequestVerificationToken":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.statusText}).then(function(e){t(e)})["catch"](function(e){n(e)})}},{key:"getContactsByPath",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/ContactsByPath";e.path=this.getPathForContactsSearch(e.path);var r=this,o=new w(a,e,function(e){t(r.sortContacts(e.data))},function(e){n(e)});o.execute()}},{key:"getTree",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/tree",r=this,o=new O(a,e,function(e){var n=new f["default"](e.root);t({treeData:n,originalNodeCount:e.onc,filteredNodeCount:e.fnc,dataGaps:r.convertDataGapDates(e.gaps)})},function(e){n(e)});o.execute()}},{key:"getComparisonData",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Tree/GetRootNode",r=Object.assign({},e,{mapId:E.mapIds.allSiteExperience}),o=new O(a,r,function(e){t(e.root)},function(e){n(e)});o.execute()}},{key:"getTrendData",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Tree/GetRootNode",r=e.endDate.diff(e.startDate,"days"),o=Object.assign({},e,{startDate:(0,g["default"])(e.startDate).subtract(r,"days"),endDate:(0,g["default"])(e.startDate)}),i=new O(a,o,function(e){t(e.root)},function(e){n(e)});i.execute()}},{key:"getItemData",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Item",r=(0,h.getRequestVerificationToken)();if(""===r)return void n("request verification token not found");var o=(0,h.jsonToQueryString)(e);return(0,m["default"])(""+a+o,{method:"GET",headers:{"X-RequestVerificationToken":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.json()}).then(function(n){var a=n;a.id=e.itemId,t(a)})["catch"](function(e){n(e)})}},{key:"checkAuthTicket",value:function(e,t,n){var a="/sitecore/api/PathAnalyzer/Authentication/IsAuthenticationTicketExpired",r=(0,h.getRequestVerificationToken)();return""===r?void n("request verification token not found"):(0,m["default"])(a,{method:"GET",headers:{"X-RequestVerificationToken":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.json()}).then(function(n){n?e():t()})["catch"](function(e){n(e)})}},{key:"dictionary",get:function(){if(void 0===this._dictionary){var e=document.getElementsByClassName("sc-stringDictionaryDomain");e.length&&0!==e.length&&null!==e[0].getAttribute("data-sc-values")?this._dictionary=JSON.parse(e[0].getAttribute("data-sc-values")):this._dictionary={}}return this._dictionary}},{key:"mapListData",get:function(){if(void 0===this._mapListData){var e=document.getElementById("PathExplorerContainer");if(void 0!==e){var t=JSON.parse(e.getAttribute("data-sc-maplistdata"));this.processMapListData(t),this._mapListData=t}else this._mapListData={}}return this._mapListData}},{key:"nodeGroupingOptionsData",get:function(){if(void 0===this._nodeGroupingOptions){var e=document.getElementById("PathExplorerContainer");return void 0!==e?this._nodeGroupingOptions=JSON.parse(e.getAttribute("data-sc-nodegroupingoptions")):this._nodeGroupingOptions={},this._nodeGroupingOptions}return this._nodeGroupingOptions}}]),t}(d["default"]),O=function(){function e(t,n,a,r){o(this,e),this.dataUrl=t,this.params=n,this.onSuccess=a,this.onError=r}return s(e,[{key:"getToken",value:function(){return(0,h.getRequestVerificationToken)()}},{key:"hasRequiredParams",value:function(e,t){return!Object.keys(e).some(function(n){return t.indexOf(n)!==-1&&void 0===e[n]})}},{key:"getQueryString",value:function(e){var t="{00000000-0000-0000-0000-000000000000}";""!==e.groupingOption&&(t=e.groupingOption);var n=(0,h.jsonToQueryString)({treeDefinitionId:e.mapId,start:e.startDate.clone().format("YYYYMMDD[T]000000"),end:e.endDate.clone().add(1,"days").format("YYYYMMDD[T]000000"),language:"en",group:t,filter:e.filter});return console.log("getTree params",n),n}},{key:"execute",value:function(){var e=this.getToken();if(""===e)return void this.onError("request verification token not found");var t=this.hasRequiredParams(this.params,this.requiredParams);if(!t)return void this.onError("some request parameters are undefined");var n=this.getQueryString(this.params),a=this;return(0,m["default"])(""+this.dataUrl+n,{method:"GET",headers:{"X-RequestVerificationToken":e,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin"}).then(h.checkStatus).then(function(e){return e.json()}).then(function(e){a.onSuccess(e)})["catch"](function(e){a.onError(e)})}},{key:"requiredParams",get:function(){return["endDate","startDate","mapId"]}}]),e}(),w=function(e){function t(e,n,a,r){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e,n,a,r))}return l(t,e),s(t,[{key:"getQueryString",value:function(e){var n=u(Object.getPrototypeOf(t.prototype),"getQueryString",this).call(this,e);return n+="&path="+(0,h.urlEncode)(e.path)}},{key:"execute",value:function(){u(Object.getPrototypeOf(t.prototype),"execute",this).call(this)}},{key:"requiredParams",get:function(){return[].concat(r(u(Object.getPrototypeOf(t.prototype),"requiredParams",this)),["path"])}}]),t}(O);t["default"]=A},558:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(559),l=a(i),s=n(564),u=a(s),c=n(569),d=a(c),p=n(542),f=a(p),h=n(543),y=n(554),m=a(y),b=function(){function e(){if(r(this,e),this.constructor===e)throw new Error("DataProviderBase is an abstract class and should not be instantiated")}return o(e,[{key:"sortContacts",value:function(e){return e&&e.length>1&&e.sort(function(e,t){var n=e.Visits+Math.abs(e.Value),a=t.Visits+Math.abs(t.Value);return n<a?1:n>a?-1:0}),e}},{key:"getPathForContactsSearch",value:function(e){return e.slice(1).map(function(e){return e.rid}).join("_")}},{key:"processMapListData",value:function(e,t){var n=this;e.createdOn&&(e.createdOn=(0,l["default"])(e.createdOn)),e.uid||(e.uid=(0,h.newGuid)()),e.description&&(e.description=window.decodeURIComponent(e.description)),t&&(e.parent=t),e.children&&!function(){var t=n,a=Object.assign({},e,{children:[]});e.children.forEach(function(e){return t.processMapListData(e,a)})}()}},{key:"convertDataGapDates",value:function(e){if(!e)return[];return e.map(function(e){var t=(0,l["default"])(e.startDate,"YYYY-MM-DD"),n=(0,l["default"])(e.endDate,"YYYY-MM-DD");return{startDate:t,endDate:n}})}},{key:"processInitialState",value:function(e){var t={explorer:Object.assign({},f["default"].explorer)};return(0,u["default"])(t.explorer,e),t.explorer.startDate=(0,l["default"])(t.explorer.startDate,"YYYYMMDD[T]HHmmss"),
t.explorer.endDate=(0,l["default"])(t.explorer.endDate,"YYYYMMDD[T]HHmmss"),t}},{key:"processPersistedState",value:function(e,t){return(0,u["default"])(e,t),e.explorer.startDate=(0,l["default"])(e.explorer.startDate),e.explorer.endDate=(0,l["default"])(e.explorer.endDate),e}},{key:"processPageAnalyzerState",value:function(e){var t=d["default"].parse(decodeURIComponent(location.search));return e.pageAnalyzer||(e.pageAnalyzer={}),e.pageAnalyzer.pageId=(0,h.parseGuid)(t.id),e.pageAnalyzer.pageName=t.name,e}},{key:"getPresetDateRanges",value:function(){var e=[{id:"today",label:m["default"].translate("Today"),startDate:(0,l["default"])(),endDate:(0,l["default"])()},{id:"last7days",label:m["default"].translate("Last 7 days"),startDate:(0,l["default"])().subtract(7,"days"),endDate:(0,l["default"])()},{id:"last30days",label:m["default"].translate("Last 30 days"),startDate:(0,l["default"])().subtract(30,"days"),endDate:(0,l["default"])()},{id:"last60days",label:m["default"].translate("Last 60 days"),startDate:(0,l["default"])().subtract(60,"days"),endDate:(0,l["default"])()},{id:"last90days",label:m["default"].translate("Last 90 days"),startDate:(0,l["default"])().subtract(90,"days"),endDate:(0,l["default"])()}];return e}}]),e}();t["default"]=b},560:function(e,t,n){function a(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./da":561,"./de":562,"./ja":563};a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=560},572:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.sortPages=t.VisibilityModes=void 0;var o=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{!a&&l["return"]&&l["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(552),s=a(l),u=n(554),c=a(u),d=n(573),p=a(d),f=n(574),h=a(f),y=n(575),m=a(y),b=6,g=[4,20],v=[10,10],E=[1,20],A="#FFFFFF",O="#F1EEF6",w="#999999",_=["#da3b1f","#ec9d8d","#90b67d","#698e57"],x="2f169111-f86b-4f24-8826-fbb232a9de23",P="b73ed479-49cf-4710-9771-3e531f44e602",C=[12,7,6,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],S=function(e){return e.sc},k=function(e,t){return S(t)-S(e)},R=t.VisibilityModes={All:{hidden:!0,collapsedChildren:!0},VisibleOnly:{hidden:!1,collapsedChildren:!1},VisibleAndCollapsedChildren:{hidden:!1,collapsedChildren:!0}},T=["ec","ev"],D=function N(e){for(var t=function(){var t=e.children[0];e.children=t.children,T.forEach(function(n){e[n]=e[n]+t[n]})};e.children&&1===e.children.length&&e.rid===e.children[0].rid;)t();e.children&&e.children.forEach(function(e){return N(e)})},M=t.sortPages=function(e,t){var n=e.name.toLowerCase(),a=t.name.toLowerCase();return n<a?-1:n>a?1:0},L=function(){function e(t){function n(e){if(0===e.depth)return A;if(u.zeroValue)return w;var t=e.sv/e.sc-e.parent.sv/e.parent.sc;if(0===t)return O;var n=e.parent?e.parent._colorDomain:[],a=s["default"].scale.threshold().domain(n).range(_);return a(t)}function a(e){var t=[];if(!e.children||e.children.length<=0)return null;e.children.forEach(function(n){t.push(n.sv/n.sc-e.sv/e.sc)});var n=s["default"].extent(t),a=o(n,2),r=a[0],i=a[1];r>=0&&(r=-1e-6),i<=0&&(i=1e-6);var l=1e-6,u=r<0?r+l:r-l,c=i<0?i+l:i-l;return[u,0,c]}var i=this,l=arguments.length<=1||void 0===arguments[1]||arguments[1];r(this,e),t.rid=P,l&&D(t);var u=this,c=this.root=new p["default"](t);this._visibilityMode=R.All,this._nodeCount=0;var d=0,f=s["default"].layout.tree().nodes(c),y=s["default"].layout.tree().links(f),m=s["default"].extent(f,function(e){return Math.abs(e.sv)});this.zeroValue=0===m[0]&&0===m[1];var x=this.zeroValue?s["default"].scale.sqrt().domain(m).range(v):s["default"].scale.sqrt().domain(m).range(g),C=s["default"].extent(f,function(e){return Math.abs(e.sc)}),S=s["default"].scale.sqrt().domain(C).range(E),T=this._nodesById=new Map;f.forEach(function(e){e._id=++d,e._collapsed=e.depth===b&&void 0!==e.children,e._hidden=!1,e._pathHighlighted=!1,e._filterHighlighted=!1,e._outLinks=[],e._angle=0,e._radius=x(Math.abs(e.sv)),e._colorDomain=a(e),e._color=n(e),e._tree=u,T.set(e._id,e),u._nodeCount+=1}),y.forEach(function(e){var t=new h["default"](e);t._thickness=S(Math.abs(e.target.sc))}),this.traverse(function(e){var t=e.children;t&&t.sort(k)},R.All),this._synthetic=[],this._nodeId=d,this._nodeRadiusScale=x,this._getNodeColor=n,this._pageById=new Map,this.getPages().forEach(function(e){i._pageById.set(e.rid,e)}),this._pagesAfterNode=new Map,this.traverse(function(e){var t=new Set;i.traverse(function(n){n!==e&&t.add(i.getPageForNode(n))},R.All,e);var n=[];t.forEach(function(e){n.push(e)}),e===i.root&&n.sort(M),i._pagesAfterNode.set(e,n)},R.All)}return i(e,[{key:"traverse",value:function t(e){function t(e,n){e(n),n.children&&n.children.forEach(function(n){t(e,n)})}var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],a=arguments.length<=2||void 0===arguments[2]?null:arguments[2];a||(a=this.root);var r=this.visibilityMode;n&&(this.visibilityMode=n),t(e,a),n&&(this.visibilityMode=r)}},{key:"getVisibleElements",value:function(){var e=[],t=[];return this.traverse(function(n){e.push(n),n._inLink&&t.push(n._inLink)},R.VisibleOnly),{nodes:e,links:t}}},{key:"findNode",value:function(e){return this._nodesById.get(e)}},{key:"getPaths",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?R.VisibleAndCollapsedChildren:arguments[1],n=[],a=this._synthetic.length>0;return a&&this.removePostFilter(),this.traverse(function(t){t.ec>0&&t.depth>0&&n.push(new m["default"](t,e))},t),a&&this.applyPostFilter(),n}},{key:"getPages",value:function(){var e={};this.traverse(function(t){t._synthetic||t.rid===P||(e.hasOwnProperty(t.rid)?e[t.rid].nodes.push(t):e[t.rid]={name:t.name,rid:t.rid,nodes:[t]})},R.All);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},{key:"applyPostFilter",value:function(){var e=this;if(this._synthetic.length>0)throw"Second call to applyPostFilter() before call to removePostFilter()";this.traverse(function(t){var n=t.children;if(n){for(var a=[],r=0;r<n.length;r++)r>=C[t.depth]&&a.push(n[r]);a.length<2||e.createSyntheticNode(t,a)}},R.VisibleAndCollapsedChildren)}},{key:"createSyntheticNode",value:function(e,t){var n=null;t.forEach(function(e){e._hidden=!0,n=null===n?e:p["default"].merge(n,e)});var a=new p["default"](n);a.parent=e,this._nodeId++,a._id=this._nodeId,a._outLinks=[],a._angle=0,a._radius=this._nodeRadiusScale(Math.abs(a.sv)),a._color=this._getNodeColor(a),a._tree=this,a.name=c["default"].translate("{0} other nodes").replace("{0}",t.length),a.depth=e.depth+1,a.rid=x,a._synthetic=!0,a._nodes=t;new h["default"]({source:e,target:a});e._children.push(a),this._nodesById.set(a._id,a),this._synthetic.push(a)}},{key:"removePostFilter",value:function(){var e=this;this._synthetic.forEach(function(t){t.parent._children.pop(),t.parent._outLinks.pop(),e._nodesById["delete"](t._id)}),this._synthetic=[]}},{key:"getPageForNode",value:function(e){return this._pageById.get(e.rid)}},{key:"getPagesAfterNode",value:function(e){return this._pagesAfterNode.get(e)}},{key:"maxNodeRadius",get:function(){return g[1]}},{key:"nodeCount",get:function(){return this._nodeCount}},{key:"visibilityMode",get:function(){return this._visibilityMode},set:function(e){this._visibilityMode=e}},{key:"nodes",get:function(){var e=[];return this.traverse(function(t){return e.push(t)},R.All),e}},{key:"hasData",get:function(){return void 0!==this.root&&void 0!==this.root._children&&this.root._children.length>0}}]),e}();t["default"]=L},573:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(554),l=a(i),s=function(){function e(t){r(this,e);for(var n in t)t.hasOwnProperty(n)&&"children"!==n&&(this[n]=t[n]);t.children&&t.children.length>0&&(this._children=t.children.map(function(t){return new e(t)}))}return o(e,null,[{key:"getId",value:function(e){return e._id}},{key:"merge",value:function(e,t){return{sc:e.sc+t.sc,sv:e.sv+t.sv,ec:e.ec+t.ec,ev:e.ev+t.ev,oc:e.oc+t.oc,mv:e.mv+t.mv,evp:e.evp+t.evp}}}]),o(e,[{key:"same",value:function(e){return e&&e._id===this._id}},{key:"hasDescendant",value:function(e){if(!this._children)return!1;var t=!1;return this._children.forEach(function(n){!t&&n.same(e)&&(t=!0),t||(t=n.hasDescendant(e))}),t}},{key:"getPath",value:function(){for(var e=[],t=this;t;t=t.parent)e.unshift(t);return e}},{key:"isVisible",value:function(){if(this._hidden)return!1;for(var e=this.parent;e;e=e.parent)if(e._hidden||e._collapsed)return!1;return!0}},{key:"hasCollapser",value:function(){if(!this._children)return!1;for(var e=this._children,t=e.length,n=0;n<t;n++)if(!e[n]._hidden)return!0;return!1}},{key:"exitNode",get:function(){if(this.ec>0)return{name:l["default"].translate("(exits)"),sc:this.ec,sv:this.ev}}},{key:"children",get:function(){if(this._children){if(this._tree){var e=this._tree.visibilityMode;if(e.hidden)return this._children;if(e.collapsedChildren===!1&&this._collapsed)return;var t=this._children.filter(function(e){return!e._hidden});return 0===t.length?void 0:t}return this._children}}},{key:"hierarchyId",get:function(){return this.getPath().map(function(e){return e._id}).join()}},{key:"nodeData",get:function(){return{id:this.id,_id:this._id,name:this.name,rid:this.rid,url:this.url,sc:this.sc,sv:this.sv,ec:this.ec,ev:this.ev,evp:this.evp,dur:this.dur,pc:this.pc,pv:this.pv,oc:this.oc,mv:this.mv,amv:this.amv,path:this.path}}}]),e}();t["default"]=s},574:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t){n(this,e),this.source=t.source,this.target=t.target,this.source._outLinks.push(this),this.target._inLink=this,this._weight=t.target.sc/t.source.sc}return a(e,null,[{key:"getId",value:function(e){return e.source._id+"_"+e.target._id}}]),a(e,[{key:"getWeightLocation",value:function(){var e=this.target.x-this.source.x,t=this.target.y-this.source.y,n=Math.sqrt(e*e+t*t),a=this.source.x+this.source._radius*e/n,r=this.source.y+this.source._radius*t/n,o=this.target.x-this.target._radius*e/n,i=this.target.y-this.target._radius*t/n;return{x:a+(o-a)*this._weight,y:r+(i-r)*this._weight}}},{key:"computeWeightLocation",value:function(){var e=this.getWeightLocation();this.x=e.x,this.y=e.y}}]),e}();t["default"]=r},575:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t,a){n(this,e),this.nodes=t.getPath();var r=this.values=[];a&&a.forEach(function(e){r.push(e.getValue(t))})}return a(e,null,[{key:"getId",value:function(e){var t="";return e.nodes.forEach(function(e){return t+=e._id+"_"}),t}}]),e}();t["default"]=r},578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mapIds={allSiteExperience:"{68E713D8-A382-4378-8FB0-9D7F7AD14B25}"}},580:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.selectorNames={mapSelector:"mapselector",dateRange:"daterange",visualFilters:"visualFilters",layoutSelector:"layoutSelector",secondaryActions:"secondaryActions"}},581:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].explorer:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.APPLY_SELECTIONS:var n=Object.assign({},e,{mapId:t.payload.mapInfo?t.payload.mapInfo.id:s["default"].explorer.mapId,mapName:t.payload.mapInfo?t.payload.mapInfo.name:s["default"].explorer.mapName,startDate:t.payload.startDate,endDate:t.payload.endDate,groupingOption:t.payload.groupingOption,datePreset:t.payload.datePreset?t.payload.datePreset.id:""});return t.meta.mapChanged&&(n.appliedPathFilter=[],n.appliedMetricFilter=[]),n;case i["default"].EXPLORER.APPLY_FILTER:return Object.assign({},e,{appliedPathFilter:t.payload.appliedPathFilter,appliedMetricFilter:t.payload.appliedMetricFilter});case i["default"].EXPLORER.STATE_LOAD_SUCCESS:case i["default"].EXPLORER.STATE_LOAD_ERROR:return t.payload.initialState.explorer||e;case i["default"].APP_BAR.PRESET_DATE_RANGES_FETCH:return t.payload.activePreset?Object.assign({},e,{startDate:(0,p["default"])(t.payload.activePreset.startDate),endDate:(0,p["default"])(t.payload.activePreset.endDate)}):e;case i["default"].EXPLORER.COPY_TO_CLIPBOARD:return Object.assign({},e,{clipboard:t.payload.clipboard});case i["default"].EXPLORER.DOWNLOAD_MAP_DATA:return Object.assign({},e,{download:{data:t.payload.data,filename:t.payload.filename}});case i["default"].EXPLORER.COPY_TO_CLIPBOARD_SUCCESS:case i["default"].EXPLORER.COPY_TO_CLIPBOARD_ERROR:return Object.assign({},e,{clipboard:null});case i["default"].DASHBOARD.SET_FAVORITE_FUNNEL:var a=(0,c["default"])(e.favoriteFunnels),r={mapId:e.mapId,funnelId:t.payload.funnelId},o=(0,h["default"])(a,{mapId:r.mapId});return o>=0?null===r.funnelId?a.splice(o,1):a[o]=r:null!==r.funnelId&&a.push(r),Object.assign({},e,{favoriteFunnels:a});case i["default"].EXPLORER.DOWNLOAD_SUCCESS:case i["default"].EXPLORER.DOWNLOAD_ERROR:return Object.assign({},e,{download:null});case i["default"].APP_BAR.MAPLIST_FETCH:var l=s["default"].explorer.mapName;return t.payload.mapInfo&&(l=t.payload.mapInfo.name),Object.assign({},e,{mapName:l});case i["default"].EXPLORER.FUNNELS_FETCH_SUCCESS:return Object.assign({},e,{funnels:t.payload.funnelData});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(579),c=a(u),d=n(559),p=a(d),f=n(582),h=a(f),y=n(583);a(y),n(585)},585:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.aggregateFunnel=void 0;var r=n(573),o=a(r),i=n(586),l=a(i),s=(t.aggregateFunnel=function(e,t){var n=s(e);return u(t,n)},function(e){var t=null;if(e&&e.elements.length>0&&(t=d(e.elements)),!t||!t.length)throw new Error("Invalid path filter");return t.map(function(e){return new l["default"](e)})}),u=function(e,t){var n=[];t.forEach(function(e){n.push(new Set)}),e.traverse(function(e){if(!e.children){var a=c(e.getPath(),t);if(a)for(var r=0;r<a.length;r++)n[r].add(a[r])}});var a=[];return n.forEach(function(e){var t=void 0,n=void 0;e.forEach(function(e){t?t=o["default"].merge(t,e):(n=e,t=e.nodeData)}),t&&(t._id=n._id,t.rid=n.rid,t.name=n.name,a.push(new o["default"](t)))}),a},c=function(e,t){for(var n=[],a=0,r=0;r<e.length&&(!t[a].matched(e[r])||(n.push(e[r]),a++,a!==t.length));r++);return 0===n.length?null:n},d=function(e){return e.map(function(e){return[e]})}},586:function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t){if(n(this,e),!t||!t.length)throw new Error("Invalid page filter");this._guids=t}return a(e,[{key:"matched",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=this._guids[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;if(i===e.rid)return!0}}catch(l){n=!0,a=l}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw a}}return!1}}]),e}();t["default"]=r},587:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].mutable.treeData:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.TREEDATA_FETCHING:return e;case i["default"].EXPLORER.TREEDATA_FETCH_SUCCESS:return e=t.payload.data,e.mapId=t.payload.mapId,e;case i["default"].EXPLORER.TREEDATA_FETCH_ERROR:return e=null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l)},588:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].mapView:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.STATE_LOAD_SUCCESS:var n={};return t.payload.initialState.mapView&&(n=t.payload.initialState.mapView),t.payload.initialState.settings&&(n.showLabels=t.payload.initialState.settings.showLabels,n.showLegend=t.payload.initialState.settings.showLegend,n.enableTransitions=t.payload.initialState.settings.enableTransitions),Object.assign({},e,n);case i["default"].EXPLORER.SELECT_MAP_LAYOUT:var a=u.layouts.find(function(e){return e.key===t.payload.layoutKey});return Object.assign({},e,{currentLayout:a?a.componentName:s["default"].mapView.currentLayout});case i["default"].EXPLORER.TREEDATA_FETCHING:return Object.assign({},e,{loading:!0});case i["default"].EXPLORER.TREEDATA_FETCH_ERROR:return Object.assign({},e,{loading:!1});case i["default"].EXPLORER.TREEDATA_FETCH_SUCCESS:return Object.assign({},e,{sortBy:"metric",sortColIndex:0,sortAsc:!1,selectedNodeId:-1,loading:!1});case i["default"].MAPVIEW.NODE_CLICK:return Object.assign({},e,{selectedNodeId:t.payload.nodeId});case i["default"].MAPVIEW.PATH_SELECT:return Object.assign({},e,{selectedNodeId:t.payload.nodeId});case i["default"].MAPVIEW.COLUMN_HEADER_CLICK:var r={};return e.sortBy===t.payload.sortBy&&e.sortColIndex===t.payload.sortColIndex?r.sortAsc=!e.sortAsc:(r.sortBy=t.payload.sortBy,r.sortColIndex=t.payload.sortColIndex,r.sortAsc=!1),Object.assign({},e,r);case i["default"].MAPVIEW.NODE_MOUSE_OVER:return Object.assign({},e,{mouseNodeId:t.payload.nodeId,popoverPosition:t.payload.position});case i["default"].MAPVIEW.NODE_MOUSE_OUT:return Object.assign({},e,{mouseNodeId:-1,popoverPosition:{}});case i["default"].MAPVIEW.TOGGLE_LABELS:return Object.assign({},e,{showLabels:t.payload.showLabels});case i["default"].MAPVIEW.TOGGLE_LEGEND:return Object.assign({},e,{showLegend:t.payload.showLegend});case i["default"].EXPLORER.TOGGLE_TRANSITIONS:return Object.assign({},e,{enableTransitions:t.payload.enabled})}return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(553)},589:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].contextPane:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.TOGGLE_CONTEXT_PANE:return Object.assign({},e,{visible:!e.visible});case i["default"].MAPVIEW.NODE_CLICK:return t.payload.nodeId===-1?e:Object.assign({},e,{visible:!0});case i["default"].EXPLORER.TREEDATA_FETCH_ERROR:return Object.assign({},e,{visible:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l)},590:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].reportsPanel:arguments[0],t=arguments[1];switch(t.type){case i["default"].MAPVIEW.NODE_CLICK:return t.payload.nodeId!==-1?Object.assign({},e,{visible:!1}):e;case i["default"].EXPLORER.CHANGE_CONTEXT_PANE_PANEL:var n=!e.visible&&t.payload.panelName===u.panelNames.reports;return Object.assign({},e,{visible:n});case i["default"].EXPLORER.PATHCONTACTS_FETCH_SUCCESS:return Object.assign({},e,{contacts:t.payload.data});case i["default"].EXPLORER.SELECT_MAP_LAYOUT:return Object.assign({},e,{visible:t.payload.layoutKey===c.layoutKeys.dashboard});case i["default"].EXPLORER.STATE_LOAD_SUCCESS:return t.payload.initialState.layoutSelector&&t.payload.initialState.layoutSelector.selectedLayout===c.layoutKeys.dashboard?Object.assign({},e,{visible:!0}):e;case i["default"].EXPLORER.APPLY_SELECTIONS:return t.meta.mapChanged?Object.assign({},e,{visible:!1}):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(591),c=n(553)},591:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.panelNames={reports:"reports",funnels:"funnels",pathInfo:"pathinfo",totals:"totals"}},592:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].pathInfoPanel:arguments[0],t=arguments[1];switch(t.type){case i["default"].MAPVIEW.NODE_CLICK:return Object.assign({},e,{visible:t.payload.nodeId!==-1,nodeId:t.payload.nodeId,itemId:t.payload.itemId});case i["default"].EXPLORER.CHANGE_CONTEXT_PANE_PANEL:return Object.assign({},e,{visible:t.payload.panelName===u.panelNames.pathInfo});case i["default"].EXPLORER.PATHCONTACTS_FETCH_SUCCESS:return Object.assign({},e,{contacts:t.payload.data});case i["default"].EXPLORER.APPLY_SELECTIONS:return t.meta.mapChanged?Object.assign({},e,{visible:!1}):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(591)},593:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].totalsPanel:arguments[0],t=arguments[1];switch(t.type){case i["default"].MAPVIEW.NODE_CLICK:return t.payload.nodeId===-1&&t.payload.panelName===u.panelNames.pathInfo?Object.assign({},e,{visible:!0}):e;case i["default"].EXPLORER.CHANGE_CONTEXT_PANE_PANEL:var n=!1;return t.payload.panelName===u.panelNames.totals?n=!0:e.visible||t.payload.panelName===u.panelNames.totals||(n=!0),Object.assign({},e,{visible:n});case i["default"].EXPLORER.SELECT_MAP_LAYOUT:return Object.assign({},e,{visible:t.payload.layoutKey!==c.layoutKeys.dashboard});case i["default"].EXPLORER.APPLY_SELECTIONS:return t.meta.mapChanged?Object.assign({},e,{visible:!0}):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(591),c=n(553)},594:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].funnelsPanel:arguments[0],t=arguments[1];switch(t.type){case i["default"].MAPVIEW.NODE_CLICK:return t.payload.nodeId!==-1?Object.assign({},e,{visible:!1}):e;case i["default"].EXPLORER.CHANGE_CONTEXT_PANE_PANEL:var n=!e.visible&&t.payload.panelName===u.panelNames.funnels;return Object.assign({},e,{visible:n});case i["default"].EXPLORER.FUNNELS_FETCH_SUCCESS:return Object.assign({},e,{funnels:t.payload.data,loading:!1});case i["default"].EXPLORER.FUNNELS_FETCHING:return Object.assign({},e,{loading:!0});case i["default"].EXPLORER.FUNNELS_FETCH_ERROR:return Object.assign({},e,{loading:!1});case i["default"].CONTEXT_PANE.SELECT_FUNNEL:var a=(0,c.aggregateFunnel)(t.payload.funnel,t.payload.tree);return Object.assign({},e,{selectedFunnel:t.payload.funnel,matchingFunnel:a});case i["default"].EXPLORER.APPLY_SELECTIONS:return t.meta.mapChanged?Object.assign({},e,{visible:!1,selectedFunnel:null}):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(591),c=n(585)},595:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?f["default"].messageBar:arguments[0],t=arguments[1];switch(t.type){case d["default"].MESSAGE_BAR.TOGGLE_ISOPEN:return Object.assign({},e,{isOpen:!e.isOpen});case d["default"].MESSAGE_BAR.APPLY_CHANGES:return Object.assign({},e,{isOpen:t.payload.changes.isOpen,timerVisible:t.payload.changes.timerVisible,resetTimer:t.payload.changes.resetTimer,timerPaused:t.payload.changes.timerPaused});case d["default"].MESSAGE_BAR.DISMISS_MESSAGE:var n=e.messages.findIndex(function(e){return e.id===t.payload.messageId});if(n!==-1){var a=[].concat(r(e.messages.slice(0,n)),r(e.messages.slice(n+1)));return Object.assign({},e,{messages:a})}return e;case d["default"].MESSAGE_BAR.DISMISS_ALL_MESSAGES:return Object.assign({},e,{messages:[]});case d["default"].MESSAGE_BAR.ADD_MESSAGE:var o={id:t.payload.id,text:t.payload.text,severity:t.payload.severity,help:t.payload.help,forcePop:t.payload.forcePop};return u(o,e);case d["default"].EXPLORER.APPLY_SELECTIONS:var c=Object.assign({},e);return t.meta.mapChanged&&(c.messages=[]),i(t)?s(t,c):l(t,c);default:return i(t)?s(t,e):l(t,e)}}function i(e){return e.meta&&e.meta.message}function l(e,t){return Object.assign({},t,{resetTimer:!1})}function s(e,t){var n=u(e.meta.message,t);return n}function u(e,t){var n={isOpen:e.severity===h.messageSeverity.error||e.forcePop,timerVisible:!0,resetTimer:!0,timerPaused:!1},a=t.messages.findIndex(function(t){return t.id===e.id});return a===-1&&(n.messages=[e].concat(r(t.messages))),Object.assign({},t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var c=n(541),d=a(c),p=n(542),f=a(p),h=n(596)},596:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.messageSeverity={error:"error",info:"info",warning:"warning"},t.pathTrimOrNodeGroupMessageId="a41298f4-7157-414d-b793-7a6b1f9ca1d5",t.hiddenPathsMessageId="a97899c0-16b2-4d72-a608-ed00d0b57923",t.disablingExperienceMessageId="b2574c44-d031-4919-8038-b733ca4b7ecf",t.cantHighlightPathMessageId="f316190b-606f-4db8-a1eb-e883e692269f",t.tooManyPathsMessageId="745baf81-0f5a-48e5-a690-514df22d2ea1"},597:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].layoutSelector:arguments[0],t=arguments[1];switch(t.type){case l["default"].EXPLORER.SELECT_MAP_LAYOUT:return e.selectedLayout===t.payload.layoutKey?e:Object.assign({},e,{selectedLayout:t.payload.layoutKey});case l["default"].EXPLORER.STATE_LOAD_SUCCESS:case l["default"].EXPLORER.STATE_LOAD_ERROR:var n=function(){var n=t.payload.initialState.layoutSelector||e;return c.layouts.find(function(e){return e.key===n.selectedLayout})||(n=u["default"].layoutSelector),{v:n}}();if("object"===("undefined"==typeof n?"undefined":o(n)))return n.v;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r;var i=n(541),l=a(i),s=n(542),u=a(s),c=n(553)},598:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].appMain:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.STATE_LOADING:return Object.assign({},e,{loading:!0});case i["default"].EXPLORER.STATE_LOAD_SUCCESS:case i["default"].EXPLORER.STATE_LOAD_ERROR:return Object.assign({},e,{loading:!1});case i["default"].EXPLORER.UNSUPPORTED_BROWSER:return Object.assign({},e,{unsupportedBrowser:!0});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l)},599:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].help:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.TOGGLE_HELP_ON_LOAD:return Object.assign({},e,{dontShowOnStartup:e.dontShowOnStartup});case i["default"].EXPLORER.TOGGLE_HELP:return Object.assign({},e,{visible:t.payload.visible?t.payload.visible:!e.visible,anchor:t.payload.anchor||s["default"].help.anchor});case i["default"].EXPLORER.CHANGE_SETTING:return"dontShowOnStartup"===t.payload.key?Object.assign({},e,{dontShowOnStartup:t.payload.value}):e;case i["default"].EXPLORER.STATE_LOAD_SUCCESS:case i["default"].EXPLORER.STATE_LOAD_ERROR:;return t.payload.initialState.help?Object.assign({},t.payload.initialState.help,{visible:!t.payload.initialState.help.dontShowOnStartup}):Object.assign({},e,{visible:!e.dontShowOnStartup});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l)},600:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].dashboard:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.STATE_LOAD_SUCCESS:var n={};return t.payload.initialState.dashboard&&(n=t.payload.initialState.dashboard),t.payload.initialState.settings&&(n.showOutcomeMetrics=t.payload.initialState.settings.showOutcomeMetricsOnDashboard),Object.assign({},e,n);case i["default"].EXPLORER.STATE_LOAD_ERROR:return t.payload.initialState.dashboard||e;case i["default"].DASHBOARD.COMPARISON_DATA_FETCHING:return Object.assign({},e,{comparisonDataLoading:!0});case i["default"].DASHBOARD.COMPARISON_DATA_FETCH_SUCCESS:return Object.assign({},e,{comparisonData:t.payload.data,comparisonDataLoading:!1});case i["default"].DASHBOARD.COMPARISON_DATA_FETCH_ERROR:return Object.assign({},e,{comparisonDataLoading:!1,comparisonData:null});case i["default"].EXPLORER.TREEDATA_FETCHING:return Object.assign({},e,{treeDataLoading:!0,comparisonDataLoading:!0,trendDataLoading:!0,funnelsLoading:!0});case i["default"].EXPLORER.TREEDATA_FETCH_SUCCESS:case i["default"].EXPLORER.TREEDATA_FETCH_ERROR:return Object.assign({},e,{treeDataLoading:!1,funnelsLoading:!1});case i["default"].DASHBOARD.TREND_DATA_FETCHING:return Object.assign({},e,{trendDataLoading:!0});case i["default"].DASHBOARD.TREND_DATA_FETCH_SUCCESS:return Object.assign({},e,{trendData:t.payload.data,trendDataLoading:!1});case i["default"].EXPLORER.FUNNELS_FETCH_SUCCESS:return Object.assign({},e,{funnelsLoading:!1});case i["default"].EXPLORER.FUNNELS_FETCHING:return Object.assign({},e,{funnelsLoading:!0});case i["default"].EXPLORER.FUNNELS_FETCH_ERROR:return Object.assign({},e,{funnelsLoading:!1});case i["default"].DASHBOARD.TREND_DATA_FETCH_WARNING:case i["default"].DASHBOARD.TREND_DATA_FETCH_ERROR:return Object.assign({},e,{trendDataLoading:!1,trendData:null});case i["default"].EXPLORER.CHANGE_SETTING:return"showOutcomeMetricsOnDashboard"===t.payload.key?Object.assign({},e,{showOutcomeMetrics:t.payload.value}):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(583);a(u),n(585)},601:function(e,t,n){"use strict";function a(e){
return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?m["default"].mutable.mapListData:arguments[0],t=arguments[1];switch(t.type){case h["default"].APP_BAR.MAPLIST_FETCH:var n=function(){var n=t.payload.data,a=[];t.payload.favorites.forEach(function(e){var t=i(n,function(t){return t.id===e});t&&(t=Object.assign({},t,{uid:(0,b.newGuid)(),active:!1}),a.push(t))}),0===a.length&&a.push(O),n.children.unshift(Object.assign({},A)),n.children[0].children=a;var r=u(a);return n.children[0].toggled=r>=1,n.children[0].name=c(r),e.data=n,e.selectedMapInfo=t.payload.mapInfo,{v:e}}();if("object"===("undefined"==typeof n?"undefined":p(n)))return n.v;case h["default"].MAP_SELECTOR.TOGGLE_FAVORITE_MAP:var a=e.data,r=a.children[0],s=r.children.findIndex(function(e){return e.id===t.payload.mapId});if(s!==-1)r.children.splice(s,1),0===r.children.length&&(r.children.push(O),r.toggled=!1);else{r.children[0].id===O.id&&r.children.splice(0,1);var f=Object.assign({},i(a,function(e){return e.id===t.payload.mapId}),{uid:(0,b.newGuid)(),active:!1});r.children.push(f)}return r.name=c(u(r.children)),e.data=a,e;case h["default"].MAP_SELECTOR.TOGGLE_NODE:return o(e.data,t.payload.node.id),e;case h["default"].MAP_SELECTOR.SET_SELECTED_NODE:return l(e.data,function(e){return e.uid===t.payload.node.uid}),e;case h["default"].APP_BAR.TOGGLE_SELECTOR:return t.payload.activeSelector===E.selectorNames.mapSelector&&d(e),e;case h["default"].EXPLORER.APPLY_SELECTIONS:return e.selectedMapInfo=t.payload.mapInfo,e;default:return e}}function o(e,t,n){var a=void 0;e.id===t&&(e.toggled=!e.toggled,a=Object.assign({},e,{children:[]})),n&&(e.parent=n),e.children&&e.children.forEach(function(e){return o(e,t,a)})}function i(e,t){if(t(e))return e;if(e.children)for(var n=void 0,a=0;a<e.children.length;a++)if(n=i(e.children[a],t))return n}function l(e,t){e.active=t(e),e.children&&e.children.forEach(function(e){return l(e,t)})}function s(e){return e.toggled=!1,e.children&&e.children.forEach(function(t){s(t)&&(e.toggled=!0)}),e.toggled||e.active}function u(e){return e.filter(function(e){return e.id!==O.id}).length}function c(e){return A.name+" ("+e+")"}function d(e){e.selectedMapInfo&&l(e.data,function(t){return t.uid===e.selectedMapInfo.uid}),s(e.data);var t=e.data.children[0];t.toggled=u(t.children)>=1}Object.defineProperty(t,"__esModule",{value:!0});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r,t.getNodeByCondition=i,t.setSelectedNode=l,t.expandSelectedPath=s;var f=n(541),h=a(f),y=n(542),m=a(y),b=n(543),g=n(554),v=a(g),E=n(580),A={id:"00000000-0000-0000-0000-000000000000",name:v["default"].translate("Favorites"),template:"MapGroupFolder",iconUrl:"/~/icon/Office/16x16/folder.png",createdBy:"sitecore\\admin",createdOn:"20140401T225020Z",isMap:!1},O={id:"00000000-0000-0000-0000-000000000001",name:v["default"].translate("No favorites exist"),template:"",iconUrl:"",createdBy:"",createdOn:"",isMap:!1,toggled:!1,disabled:!0}},602:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].settings:arguments[0],t=arguments[1];switch(t.type){case l["default"].EXPLORER.STATE_LOAD_SUCCESS:return t.payload.initialState.settings||e;case l["default"].EXPLORER.TOGGLE_SETTINGS:return Object.assign({},e,{visible:!e.visible});case l["default"].EXPLORER.CHANGE_SETTING:return Object.assign({},e,r({},t.payload.key,t.payload.value));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(541),l=a(i),s=n(542),u=a(s)},603:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?c["default"].pageAnalyzer:arguments[0],t=arguments[1];switch(t.type){case s["default"].EXPLORER.STATE_LOAD_SUCCESS:return t.payload.initialState.pageAnalyzer||e;case s["default"].EXPLORER.TREEDATA_FETCH_SUCCESS:if(e.pageId&&e.pageName){var n=i(t.payload.data,e.pageId,e.pageName);if(n){var a=new h["default"];return a.init(n),Object.assign({},e,{pathSet:n,scales:a,treeData:t.payload.data,totals:{pathCount:n.previousPaths.length,visits:n.visits,value:n.value}})}return e}return e;case s["default"].EXPLORER.APPLY_FILTER:if(e.pageId&&e.pageName){o(e.treeData,t.payload.appliedMetricFilter);var r=i(e.treeData,e.pageId,e.pageName);return e.scales.initDynamicScales(r),Object.assign({},e,{pathSet:r})}return e;case s["default"].MAPVIEW.NODE_MOUSE_OVER:if(e.pageId&&e.pageName){var l=e.treeData.findNode(t.payload.nodeId);if(l)return Object.assign({},e,{totals:{pathCount:1,visits:l.sc,value:l.sv}})}return e;case s["default"].MAPVIEW.NODE_MOUSE_OUT:if(e.pageId&&e.pageName){var u=e.pathSet;if(u)return Object.assign({},e,{totals:{pathCount:u.previousPaths.length,visits:u.visits,value:u.value}})}return e;case s["default"].MAPVIEW.NODE_CLICK:if(e.pageId&&e.pageName){var d=t.payload.nodeId;if(d===-1){var p=i(e.treeData,e.pageId,e.pageName);return e.scales.initDynamicScales(p),Object.assign({},e,{pathSet:p})}var f=e.treeData.findNode(d);if(!f)return console.warn("cannot find node clicked on"),e;var y=i(e.treeData,e.pageId,e.pageName,d);return e.scales.initDynamicScales(y),Object.assign({},e,{pathSet:y})}return e;default:return e}}function o(e,t){var n=new g["default"](t);n.filterTree(e)}function i(e,t,n,a){if(t&&n){var r=e.getPaths([],y.VisibilityModes.VisibleAndCollapsedChildren),o=new p["default"];return o.build(r,t,n,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var l=n(541),s=a(l),u=n(542),c=a(u),d=n(604),p=a(d),f=n(608),h=a(f),y=n(572),m=n(610),b=(a(m),n(611)),g=a(b)},604:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(582),l=a(i),s=n(605),u=a(s),c=n(606),d=a(c),p=n(607),f=function(){function e(){r(this,e),this.visits=0,this.value=0,this.exitvalue=0,this.exitcount=0,this.exitpotential=0,this.landingsCount=0,this.landingsValue=0,this.previousPaths=[],this.nextPaths=[],this.originalPathCount=-1}return o(e,[{key:"addPreviousPath",value:function(e){return this.addPath(e,this.previousPaths)}},{key:"addNextPath",value:function(e){return this.addPath(e,this.nextPaths)}},{key:"sort",value:function(){this.previousPaths.sort(function(e,t){return t.visits-e.visits}),this.nextPaths.sort(function(e,t){return t.visits-e.visits})}},{key:"addPath",value:function(e,t){var n=!1,a=(0,l["default"])(t,{id:e.id});if(a>=0){var r=t[a].merge(e);t[a]=r,n=!0}else t.push(e),n=!1;return!n}},{key:"efficiency",value:function(){return d3.round(this.value/this.visits,2)}},{key:"exitEfficiency",value:function(){return d3.round(this.exitvalue/this.exitcount,2)}},{key:"build",value:function(e,t,n,a){var r=this;this.pageId=t,this.pageName=n;var o=[],i=a?function(e){return e._id===a}:function(e){return e.rid===r.pageId};e=e.filter(function(e){var t=!1;return e.nodes.forEach(function(e){t||(t=i(e))}),t}),e.sort(function(e,t){return e.nodes.length-t.nodes.length});var l=Math.min(e.length,p.defaults.maxSourcePathCount);this.originalPathCount=e.length;for(var s=0;s<l;s++)for(var c=e[s].nodes.slice(1),f=function(e){var t=c[e];if(i(t)){var n=1===t.depth,a=!1;o.forEach(function(e){t.hierarchyId.startsWith(e)&&(a=!0)}),a||(r.exitpotential+=t.evp,r.exitcount+=t.ec,r.exitvalue+=t.ev,r.visits+=t.sc,r.value+=t.sv,n&&(r.landingsCount+=t.sc,r.landingsValue+=t.sv)),o.push(t.hierarchyId);for(var l=c.slice(0,e),s=[],f=0;f<l.length;f++)s.push(new u["default"](l[f],f,n));for(var h=[],y=c.slice(e+1,e+2),m=0;m<y.length;m++)h.push(new u["default"](y[m],m,n));r.addPreviousPath(new d["default"](t,s,n,r.previousPaths.length>=p.defaults.maxPathCount));h.length>0&&r.addNextPath(new d["default"](t,h,n,r.nextPaths.length>=p.defaults.maxPathCount))}},h=0;h<c.length;h++)f(h);return this.sort(),this}},{key:"hiddenPathCount",value:function(){return this.previousPaths.filter(function(e){return e.hidden}).length+this.nextPaths.filter(function(e){return e.hidden}).length}}]),e}();t["default"]=f},605:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(579),l=a(i),s=function(){function e(t,n,a){r(this,e),this.index=n,this.isLanding=a,t&&(this.id=t._id,this.recordId=t.rid,this.name=t.name,this.visits=t.sc,this.value=t.sv,this.exitcount=t.ec,this.exitvalue=t.ev,this.exitpotential=t.evp)}return o(e,[{key:"getEfficiency",value:function(){return d3.round(this.value/this.visits,2)}},{key:"merge",value:function(e){if(!e)throw"node is required";if(e.recordId!==this.recordId)throw"node id mismatch";var t=(0,l["default"])(this);return e.id===this.id?(console.warn("node id duplication"+e.id),t):(t.visits=t.visits+e.visits,t.value=t.value+e.value,t.exitcount=t.exitcount+e.exitcount,t.exitvalue=t.exitvalue+e.exitvalue,t)}}]),e}();t["default"]=s},606:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(579),l=a(i),s=n(543),u=function(){function e(t,n,a,o){r(this,e),this.id=n.map(function(e){return e.recordId}).join("_"),this.nodes=n,this.isLanding=a,this.hidden=o,t&&(this.nodeId=t._id,this.visits=t.sc,this.value=t.sv,this.exitcount=t.ec,this.exitvalue=t.ev,this.exitpotential=t.evp)}return o(e,[{key:"getEfficiency",value:function(){return d3.round(this.value/this.visits,2)}},{key:"getNodes",value:function(){return this.nodes.reverse()}},{key:"merge",value:function(e){if(!e)throw"path is required";if(e.id!==this.id)throw"path id mismatch";if(e.nodes.length!==this.nodes.length)throw"path structural mismatch";var t=(0,l["default"])(this);return e.nodeId===this.nodeId?t:(t.nodes=(0,s.mergeNodes)(e.nodes,this.nodes),t.visits=t.visits+e.visits,t.value=t.value+e.value,t.exitcount=t.exitcount+e.exitcount,t.exitvalue=t.exitvalue+e.exitvalue,t.exitpotential=t.exitpotential+e.exitpotential,t)}}]),e}();t["default"]=u},607:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){return l.width/2+l.midPadding+l.rightPadding}Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0,t.getRightBoundary=r;var o=n(552),i=a(o),l=t.defaults={maxPathCount:10,maxSourcePathCount:500,colorRange:["#da3b1f","#ec9d8d","#90b67d","#698e57"],noDetailsColor:"#969696",dimColor:"#F7F7F7",selectedColor:"#3FAED9",maxEntryPathWidth:250,minEntryPathWidth:15,minLineStroke:5,maxLineStroke:25,minLineHeight:5,maxLineHeight:15,minRadius:6,maxRadius:18,midPadding:115,rightPadding:20,topPadding:100,width:900,height:600,domainStartRange:25,domainPadding:12,maxIncomingNodes:8,mouseOverDelay:500,dimmedLabelOpacity:.55,clipLenghts:[50,25,10,10,5],clipLenghtsTresholds:[1,3,6,8,11],topPaddings:[300,200,150,75,75],topPaddingThresholds:[2,3,4,6,30],lineMaker:i["default"].svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("linear"),metricsFormat:{efficiencyFormat:i["default"].format(".2f"),valueFormat:function(e){return e>100?i["default"].format(".2s")(e):i["default"].round(e,2)}}}},608:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(609),l=n(607),s=n(552),u=a(s),c=function(){function e(){r(this,e),this.clipLengthScale=u["default"].scale.threshold().domain(l.defaults.clipLenghtsTresholds).range(l.defaults.clipLenghts),this.topPaddingScale=u["default"].scale.threshold().domain(l.defaults.topPaddingThresholds).range(l.defaults.topPaddings),this.inTopPadding=l.defaults.topPadding,this.outTopPadding=l.defaults.topPadding,this.initialized=!1}return o(e,[{key:"init",value:function(e){e&&(this.initStaticScales(e),this.initDynamicScales(e),this.initialized=!0)}},{key:"initStaticScales",value:function(e){if(e){var t=e.previousPaths,n=(e.previousPaths.filter(function(e){return!e.isLanding}),e.nextPaths);this.minVisits=Math.min(0,u["default"].min(t,function(e){return e.visits})),this.maxVisits=u["default"].max(t,function(e){return e.visits}),this.minValue=Math.min(0,u["default"].min(t,function(e){return e.value})),this.maxValue=u["default"].max(t,function(e){return e.value});var a=t.map(function(e){return u["default"].round(e.getEfficiency(),0)}).filter(function(e,t,n){return n.indexOf(e)===t}),r=n.map(function(e){return u["default"].round(e.getEfficiency(),0)}).filter(function(e,t,n){return n.indexOf(e)===t});a=a.concat(r);var o=u["default"].min(a),s=u["default"].max(a),c=u["default"].mean(a);if(o===s)this.efficiencyScale=function(){return l.defaults.noDetailsColor};else{var d=[o+.001,c,s-.001];this.efficiencyScale=u["default"].scale.threshold().domain(d).range(l.defaults.colorRange)}var p=[l.defaults.domainStartRange,i.Config.getDomainEndRange()],f=u["default"].max(t.map(function(e){return e.nodes.length})),h=u["default"].range(f).reverse();this.inXScale=u["default"].scale.ordinal().domain(h).rangePoints(p),this.strokeScale=u["default"].scale.linear().domain([this.minVisits,this.maxVisits]).range([l.defaults.minLineStroke,l.defaults.maxLineStroke]),this.nodeRadiusScale=u["default"].scale.sqrt().domain([this.minValue,this.maxValue]).range([l.defaults.minRadius,l.defaults.maxRadius]);var y=n.length>20?.3:1,m=Math.min(0,u["default"].min(n,function(e){return e.value})),b=u["default"].max(n,function(e){return e.value});this.outNodeRadiusScale=u["default"].scale.sqrt().domain([m,b]).range([l.defaults.minRadius,l.defaults.maxRadius]);var g=Math.min(0,u["default"].min(n,function(e){return e.visits})),v=u["default"].max(n,function(e){return e.visits});this.outStrokeScale=u["default"].scale.linear().domain([g,v]).range([l.defaults.minLineStroke*y,l.defaults.maxLineStroke*y])}}},{key:"initDynamicScales",value:function(e){var t=this;if(e){var n=(e.previousPaths.filter(function(e){return!e.hidden}),e.previousPaths.filter(function(e){return!e.isLanding&&!e.hidden})),a=e.nextPaths.filter(function(e){return!e.hidden});this.clipLength=this.clipLengthScale(n.length),this.inTopPadding=this.topPaddingScale(n.length),this.outTopPadding=this.topPaddingScale(a.length),1===a.length?this.outYScale=function(){return u["default"].mean(i.Config.getVerticalRange(t.outTopPadding))}:this.outYScale=u["default"].scale.linear().domain([0,a.length-1]).range(i.Config.getVerticalRange(this.outTopPadding));var r=[1.001,5,15,30,49.001],o=u["default"].scale.threshold().domain(r).range(["16px","16px","14px","14px","12px","10px"]);this.outLabelFontSize=o(a.length);var l=[1.001,5,15,29.001],s=u["default"].scale.threshold().domain(l).range(["16px","16px","14px","12px","10px"]);this.inLabelFontSize=s(n.length),1===n.length?this.inYScale=function(){return u["default"].mean(i.Config.getVerticalRange(t.inTopPadding))}:this.inYScale=u["default"].scale.linear().domain([0,n.length-1]).range(i.Config.getVerticalRange(this.inTopPadding)),this.exitMarkerScale=u["default"].scale.linear().domain([0,this.maxVisits]).range([500,500])}}}]),e}();t["default"]=c},609:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Config=t.metricsFormat=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(607),i={efficiencyFormat:d3.format(".2f"),valueFormat:function(e){return e>1e3?l(e):d3.round(e,2)}},l=d3.format(".2s"),s=function(){function e(){a(this,e)}return r(e,null,[{key:"getDomainEndRange",value:function(){return o.defaults.width/2-1.25*o.defaults.midPadding+o.defaults.domainPadding}},{key:"getRightBoundary",value:function(){return o.defaults.width/2+o.defaults.midPadding+o.defaults.rightPadding}},{key:"getVerticalRange",value:function(e){return e||(e=o.defaults.topPadding),[e,o.defaults.height-e]}}]),e}();t.metricsFormat=i,t.Config=s},610:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(572),l=n(573),s=(a(l),n(586)),u=a(s),c=function(e){var t="";return e.forEach(function(e){t+=e._id+":"}),t},d=function(){function e(t){if(r(this,e),!t||!t.length)throw new Error("Invalid path filter");this._filters=t.map(function(e){return new u["default"](e)})}return o(e,[{key:"matchPath",value:function(e){this._nodes=e,this._matches=[],this.matchRecursively();var t=this._matches;return this._matches=null,this._nodes=null,t.length?t:null}},{key:"getAllMatches",value:function(e){var t=this,n=new Map;e.traverse(function(e){if(!e.children){var a=t.matchPath(e.getPath());a&&a.forEach(function(e){n.set(c(e),e)})}},i.VisibilityModes.All);var a=[];return n.forEach(function(e){a.push(e)}),a}},{key:"highlightMatches",value:function(e,t){e.traverse(function(e){e._filterHighlighted=!1,e._hidden=0!==e.depth,e._collapsed=!1},i.VisibilityModes.All),t.sort(function(e,t){return e[e.length-1].depth-t[t.length-1].depth});var n=new Set;t.forEach(function(e){for(var t=e[e.length-1],a=t.parent;a;a=a.parent)a._hidden=!1,a._filterHighlighted&&n["delete"](a);n.add(t),e.forEach(function(e){e._filterHighlighted=!0})}),n.forEach(function(t){e.traverse(function(e){e._hidden=!1},i.VisibilityModes.All,t),t._collapsed=!0})}},{key:"matchRecursively",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];if(!(e>=this._nodes.length||t>=this._filters.length))for(var a=e;a<this._nodes.length;a++){var r=this._filters[t],o=this._nodes[a];if(r.matched(o)){var i=n.slice(),l=i[i.length-1];l&&!l.hasDescendant(o)||i.push(o)!==this._filters.length?this.matchRecursively(a+1,t+1,i):this._matches.push(i)}}}},{key:"getPageLists",value:function(e){function t(r){for(var o=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],l=o;l<r.length;l++)a._filters[i].matched(r[l])&&!function(){var o=n[i],s=e.getPagesAfterNode(r[l]);s.forEach(function(e){o.add(e)}),i<a._filters.length-1&&l<r.length-1&&t(r,l+1,i+1)}()}var n=[],a=this;this._filters.forEach(function(e){n.push(new Set)}),e.traverse(function(e){e.children||t(e.getPath())},i.VisibilityModes.All);var r=[];return n.forEach(function(e){var t=[];e.forEach(function(e){t.push(e)}),t.sort(i.sortPages),r.push(t)}),r.unshift(e.getPagesAfterNode(e.root)),r}}]),e}();t["default"]=d},611:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(612),l=a(i),s=n(572),u=function(){function e(t){r(this,e);var n=[];t.forEach(function(e){var t=(0,l["default"])(e.metricId)[0],a=e.range,r=function(e){var n=t.getValue(e);return n>=a[0]&&n<=a[1]};n.push(r)}),this._validators=n}return o(e,[{key:"matchNode",value:function(e){for(var t=0;t<this._validators.length;t++)if(!this._validators[t](e))return!1;return!0}},{key:"filterTree",value:function(e){if(e){e.traverse(function(e){e._hidden=e.depth>0,e._filterHighlighted=!1},s.VisibilityModes.All);var t=this;e.traverse(function(e){if(t.matchNode(e))for(var n=e;n._hidden;n=n.parent)n._hidden=!1},s.VisibilityModes.All)}}},{key:"filterMatches",value:function(e){var t=this;return e.filter(function(e){for(var n=0;n<e.length;n++)if(!t.matchNode(e[n]))return!1;return!0})}}]),e}();t["default"]=u},612:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){for(var e=[],t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.forEach(function(t){for(var n=0;n<u.length;n++)if(u[n].id===t)return void e.push(u[n]);throw new Error('Metric "'+t+'" does not exist')}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Metric=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t["default"]=r;var i=n(543),l=n(613),s=t.Metric=function(){function e(t,n,r,o,i){a(this,e),this.id=t,this._label=i.name,this.description=i.desc,this.getter=n,this.formatter=r,this.color=o}return o(e,[{key:"getValue",value:function(e){if("string"==typeof this.getter)return parseFloat(e[this.getter]);if("function"==typeof this.getter)return parseFloat(this.getter(e));throw new Error('Invalid value getter in metric "'+this.id+'"')}},{key:"formatValue",value:function(e){return(0,i.formatMetricValue)(e,this.formatter)}},{key:"label",get:function(){return this._label}}]),e}(),u=[new s("sv","sv",".2s","#6EA244",l.metricNames.value),new s("sc","sc",".2s","#2694C0",l.metricNames.visits),new s("vpv",function(e){return Number((e.sv/e.sc).toFixed(2))},".2f","#E0B406",l.metricNames.valuePerVisit),new s("path-visits","ec",".2s","#2694C0",l.metricNames.visits),new s("path-value","ev",".2s","#6EA244",l.metricNames.value),new s("path-valuepervisit",function(e){return 0===e.ec?0:e.ev/e.ec},".2f","#E0B406",l.metricNames.valuePerVisit),new s("ec","ec",".2s","#2694C0",l.metricNames.exits),new s("ev","ev",".2s","#6EA244",l.metricNames.exitValue),new s("evpv",function(e){return 0===e.ec?0:e.ev/e.ec},".2f","#E0B406",l.metricNames.exitValuePerVisit),new s("duration","dur",".2f","#81D4FA",l.metricNames.duration),new s("outcomes","oc",",.0f","#81D4FA",l.metricNames.outcomes),new s("monetaryValue","mv",".2s","#81D4FA",l.metricNames.monetaryValue),new s("averageMonetaryValue","amv",".2f","#81D4FA",l.metricNames.averageMonetaryValue),new s("evp","evp",".2s","#81D4FA",l.metricNames.exitValuePotential)]},613:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.metricNames=void 0;var r=n(554),o=a(r);t.metricNames={value:{name:o["default"].translate("Value"),desc:o["default"].translate("The sum of the engagement value points.")},visits:{name:o["default"].translate("Visits"),desc:o["default"].translate("The total number of visits.")},valuePerVisit:{name:o["default"].translate("Value per visit"),desc:o["default"].translate("The average engagement value points per visit.")},exits:{name:o["default"].translate("Exits"),desc:o["default"].translate("The total number of exits.")},exitValue:{name:o["default"].translate("Exit value"),desc:o["default"].translate("The sum of the engagement value points that accrued before exiting.")},exitValuePerVisit:{name:o["default"].translate("Exit value per visit"),desc:o["default"].translate("The average engagement value points per visit before exiting.")},duration:{name:o["default"].translate("Average time spent"),desc:o["default"].translate("The average amount of time visitors have spent (in seconds).")},outcomes:{name:o["default"].translate("Outcomes"),desc:o["default"].translate("The total number of outcomes realized.")},monetaryValue:{name:o["default"].translate("Monetary value"),desc:o["default"].translate("The total number of monetary value gained.")},averageMonetaryValue:{name:o["default"].translate("Average monetary value"),desc:o["default"].translate("The average monetary value gained per outcome.")},exitValuePotential:{name:o["default"].translate("Exit value potential"),desc:o["default"].translate("The projected engagement value that could be gained through optimization.")}}},614:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].mapSelector:arguments[0],t=arguments[1];switch(t.type){case l["default"].APP_BAR.MAPLIST_FETCH:return Object.assign({},e,{selectedMapInfo:t.payload.mapInfo,transientMapInfo:t.payload.mapInfo,mapInfoVisible:!0});case l["default"].EXPLORER.APPLY_SELECTIONS:return Object.assign({},e,{selectedMapInfo:t.payload.mapInfo,transientMapInfo:t.payload.mapInfo,transientGroupingOption:t.payload.groupingOption,groupingOption:t.payload.groupingOption});case l["default"].APP_BAR.NODE_GROUPING_OPTIONS_FETCH:return Object.assign({},e,{nodeGroupingOptions:t.payload.data});case l["default"].MAP_SELECTOR.TOGGLE_FAVORITE_MAP:var n=void 0,a=e.favorites.findIndex(function(e){return e===t.payload.mapId});return n=a!==-1?[].concat(r(e.favorites.slice(0,a)),r(e.favorites.slice(a+1))):[].concat(r(e.favorites),[t.payload.mapId]),Object.assign({},e,{favorites:n,dataVersion:(0,p.newGuid)()});case l["default"].MAP_SELECTOR.TOGGLE_NODE:var o={dataVersion:(0,p.newGuid)()};return e.transientMapInfo&&(0,c.getNodeByCondition)(t.payload.node,function(t){return t.uid===e.transientMapInfo.uid})&&(t.payload.node.toggled?e.transientMapInfo.parent&&e.transientMapInfo.parent.toggled&&(o.mapInfoVisible=!0):o.mapInfoVisible=!1),Object.assign({},e,o);case l["default"].MAP_SELECTOR.SET_SELECTED_NODE:return Object.assign({},e,{transientMapInfo:t.payload.node,mapInfoVisible:!0,dataVersion:(0,p.newGuid)()});case l["default"].MAP_SELECTOR.SELECT_GROUPING_OPTION:return Object.assign({},e,{transientGroupingOption:t.payload.groupingOption});case l["default"].APP_BAR.TOGGLE_SELECTOR:return t.payload.activeSelector===d.selectorNames.mapSelector?Object.assign({},e,{transientGroupingOption:e.groupingOption,transientMapInfo:e.selectedMapInfo,mapInfoVisible:!0,dataVersion:(0,p.newGuid)()}):e;case l["default"].EXPLORER.STATE_LOAD_SUCCESS:if(t.payload.initialState.mapSelector&&t.payload.initialState.explorer){var i=t.payload.initialState.mapSelector;return i.groupingOption=t.payload.initialState.explorer.groupingOption,i.transientGroupingOption=t.payload.initialState.explorer.groupingOption,Object.assign({},e,i)}return e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(541),l=a(i),s=n(542),u=a(s),c=n(601),d=n(580),p=n(543)},615:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].dateRangeSelector:arguments[0],t=arguments[1];switch(t.type){case i["default"].EXPLORER.TREEDATA_FETCH_SUCCESS:return Object.assign({},e,{blockedDateRanges:t.payload.dataGaps});case i["default"].APP_BAR.PRESET_DATE_RANGES_FETCH:return Object.assign({},e,{presetDateRanges:t.payload.data});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l)},616:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?s["default"].visualFilters:arguments[0],t=arguments[1];switch(t.type){case i["default"].APP_BAR.SET_FILTER:var n=t.payload.path.map(function(e){return{name:e.name,rid:e.rid}});return Object.assign({},e,{tempPathFilter:n});case i["default"].EXPLORER.APPLY_FILTER:var a=t.payload.appliedPathFilter.map(function(e){return{name:e.name,rid:e.rid}});return Object.assign({},e,{tempPathFilter:a});case i["default"].EXPLORER.APPLY_SELECTIONS:return t.meta.mapChanged?Object.assign({},e,{tempPathFilter:[]}):e;case i["default"].APP_BAR.TOGGLE_SELECTOR:return t.payload.activeSelector===u.selectorNames.visualFilters&&(e.tempPathFilter=[]),e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(541),i=a(o),l=n(542),s=a(l),u=n(580)},617:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=["explorer","mapSelector.favorites","help.dontShowOnStartup","layoutSelector","settings"],n=(0,f["default"])((0,d.extractKeysFromObject)(e,t)),a=["explorer.appliedPathFilter","explorer.appliedMetricFilter","explorer.download","explorer.clipboard","settings.visible"],r=(0,d.deleteKeysFromObject)(n,a);return r}function o(e){var t=r(e.getState());s["default"].saveState(t,function(){e.dispatch({type:c["default"].EXPLORER.STATE_SAVE_SUCCESS})},function(t){e.dispatch({type:c["default"].EXPLORER.STATE_SAVE_ERROR,payload:new Error(void 0!==t.stack?t.stack:t),error:!0})})}function i(e){return function(t){return function(n){var a=t(n);return h.indexOf(n.type)!==-1&&o(e),a}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var l=n(556),s=a(l),u=n(541),c=a(u),d=n(543),p=n(579),f=a(p),h=[c["default"].EXPLORER.APPLY_SELECTIONS,c["default"].EXPLORER.SELECT_MAP_LAYOUT,c["default"].EXPLORER.TOGGLE_HELP_ON_LOAD,c["default"].MAP_SELECTOR.TOGGLE_FAVORITE_MAP,c["default"].EXPLORER.CHANGE_SETTING,c["default"].DASHBOARD.SET_FAVORITE_FUNNEL]},618:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.dispatch({type:d["default"].AUTHENTICATION.AUTH_TICKET_STATUS_FETCHING}),l["default"].checkAuthTicket(function(){e.dispatch({type:d["default"].AUTHENTICATION.AUTH_TICKET_STATUS_FETCH_SUCCESS,payload:{status:p.authTicketStatus.expired},meta:{message:{id:(0,f.newGuid)(),text:m["default"].translate("Your session has expired. Please log in again."),severity:h.messageSeverity.warning}}}),window.top.location.reload(!0)},function(){e.dispatch({type:d["default"].AUTHENTICATION.AUTH_TICKET_STATUS_FETCH_SUCCESS,payload:{status:p.authTicketStatus.notExpired}})},function(t){e.dispatch({type:d["default"].AUTHENTICATION.AUTH_TICKET_STATUS_FETCH_ERROR,payload:new Error(t.message?t.message:t),error:!0,meta:{stackTrace:t.stack,message:{id:(0,f.newGuid)(),text:t.message?t.message:t,severity:h.messageSeverity.error}}})})}function o(e){return function(t){return function(n){return b.indexOf(n.type)!==-1&&g(e),t(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(556),l=a(i),s=n(619),u=a(s),c=n(541),d=a(c),p=n(621),f=n(543),h=n(596),y=n(554),m=a(y),b=[d["default"].EXPLORER.TREEDATA_FETCHING,d["default"].EXPLORER.STATE_LOADING,d["default"].EXPLORER.STATE_SAVING,d["default"].EXPLORER.PATHCONTACTS_FETCHING,d["default"].EXPLORER.FUNNELS_FETCHING,d["default"].EXPLORER.FUNNELS_SAVE,d["default"].EXPLORER.ROOTNODE_DATA_FETCHING,d["default"].EXPLORER.ITEM_DATA_FETCHING,d["default"].DASHBOARD.COMPARISON_DATA_FETCHING,d["default"].DASHBOARD.TREND_DATA_FETCHING],g=(0,
u["default"])(r,1e4,{leading:!0,trailing:!1})},621:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authTicketStatus={expired:"expired",notExpired:"notexpired"}},624:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{type:$["default"].MESSAGE_BAR.DISMISS_MESSAGE,payload:{messageId:e}}}function o(){return{type:$["default"].MESSAGE_BAR.DISMISS_ALL_MESSAGES}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?oe.messageSeverity.info:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],a=arguments.length<=3||void 0===arguments[3]?(0,ae.newGuid)():arguments[3],r=!(arguments.length<=4||void 0===arguments[4])&&arguments[4];return{type:$["default"].MESSAGE_BAR.ADD_MESSAGE,payload:{id:a,text:e,severity:t,help:n,forcePop:r}}}function l(){return{type:$["default"].MESSAGE_BAR.TOGGLE_ISOPEN}}function s(e){return{type:$["default"].MESSAGE_BAR.APPLY_CHANGES,payload:{changes:e}}}function u(e){var t=null;if(!e)return t;var n=e.status.find(function(e){return e.category===ce.statusCategories.buildStatus});return n?(n.code===ce.buildStatusCodes.building?t={id:(0,ae.newGuid)(),text:le["default"].translate("The selected map is being built. You may see partial data."),severity:oe.messageSeverity.warning,help:"partial-map"}:n.code===ce.buildStatusCodes.failed?t={id:(0,ae.newGuid)(),text:n.text,severity:oe.messageSeverity.warning}:n.code===ce.buildStatusCodes.undefined&&(t={id:(0,ae.newGuid)(),text:n.text,severity:oe.messageSeverity.warning}),t):void 0}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{type:$["default"].EXPLORER.TOGGLE_CONTEXT_PANE,payload:{optionalParams:e}}}function d(e){return{type:$["default"].EXPLORER.CHANGE_CONTEXT_PANE_PANEL,payload:{panelName:e}}}function p(e,t){return{type:$["default"].EXPLORER.TOGGLE_HELP,payload:{visible:e,anchor:t}}}function f(){return function(e,t){var n=t(),a=(0,ue["default"])("path-visits","path-value","path-valuepervisit"),r=n.mutable.treeData.getPaths(a);e({type:$["default"].EXPLORER.DOWNLOAD_MAP_DATA,payload:{data:(0,ae.getCSV)(r,a),filename:"data.csv"}})}}function h(e){return{type:$["default"].EXPLORER.DOWNLOAD_SUCCESS,payload:{download:e}}}function y(e){return{type:$["default"].EXPLORER.DOWNLOAD_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function m(){return function(e,t){var n=t(),a=(0,ue["default"])("path-visits","path-value","path-valuepervisit"),r=n.mutable.treeData.getPaths(a);e({type:$["default"].EXPLORER.COPY_TO_CLIPBOARD,payload:{clipboard:(0,ae.getCSV)(r,a)}})}}function b(e){return{type:$["default"].EXPLORER.COPY_TO_CLIPBOARD_SUCCESS,payload:{clipboard:e},meta:{message:{id:"454907ee-d23d-43bd-9d45-ec1193a7a65a",text:le["default"].translate("The map data has been copied to the clipboard."),severity:oe.messageSeverity.info,forcePop:!0}}}}function g(e){return{type:$["default"].EXPLORER.COPY_TO_CLIPBOARD_ERROR,meta:{message:{id:(0,ae.newGuid)(),text:e&&e.message?e.message:le["default"].translate("An error occurred while copying the data to the clipboard."),severity:oe.messageSeverity.error,forcePop:!0}}}}function v(e,t){return{type:$["default"].MAP_SELECTOR.TOGGLE_FAVORITE_MAP,payload:{mapId:e,mapSelectorState:t}}}function E(e){var t=e?null:{id:oe.disablingExperienceMessageId,text:le["default"].translate("Disabling special effects to optimize user experience."),severity:oe.messageSeverity.info};return{type:$["default"].EXPLORER.TOGGLE_TRANSITIONS,payload:{enabled:e},meta:{message:t}}}function A(e){return function(t,n){var a=n(),r=Object.assign({},e,{filter:a.pageAnalyzer.pageId,dataGaps:a.dateRangeSelector.blockedDateRanges,allowBlockedDateSelection:a.settings.allowBlockedDateSelection});t({type:$["default"].EXPLORER.TREEDATA_FETCHING}),te["default"].getTree(r,function(e){t(O(r,e)),t(G(r)),t(W(r)),t(R(e,r))},function(e){t(w(e))})}}function O(e,t){var n=null;if(e.groupingOption&&t.filteredNodeCount!==t.originalNodeCount){var a=le["default"].translate("{0} nodes were grouped. Now showing {1} grouped nodes.").replace("{0}",t.originalNodeCount).replace("{1}",t.filteredNodeCount);n={message:{id:(0,ae.newGuid)(),text:a,severity:oe.messageSeverity.info,help:"group-map-data"}}}return{type:$["default"].EXPLORER.TREEDATA_FETCH_SUCCESS,payload:{mapId:e.mapId,data:t.treeData,dataGaps:t.dataGaps},meta:n}}function w(e){return{type:$["default"].EXPLORER.TREEDATA_FETCH_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function _(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return function(t,n){var a=te["default"].mapListData;(0,re.setSelectedNode)(a,function(t){return t.id===e}),(0,re.expandSelectedPath)(a);var r=(0,re.getNodeByCondition)(a,function(t){return t.id===e}),o=r?u(r):null;t({type:$["default"].APP_BAR.MAPLIST_FETCH,payload:{data:a,mapInfo:r,favorites:n().mapSelector.favorites},meta:{message:o}})}}function x(){return function(e,t){var n=te["default"].getPresetDateRanges();e({type:$["default"].APP_BAR.PRESET_DATE_RANGES_FETCH,payload:{data:n,activePreset:n.find(function(e){return e.id===t().explorer.datePreset})},meta:{id:(0,ae.newGuid)()}})}}function P(e){return function(t,n){t({type:$["default"].EXPLORER.STATE_LOADING}),te["default"].loadState(function(a){t({type:$["default"].EXPLORER.STATE_LOAD_SUCCESS,payload:{initialState:a}}),e(n())},function(a,r){t({type:$["default"].EXPLORER.STATE_LOAD_ERROR,payload:{initialState:r},meta:{message:{id:(0,ae.newGuid)(),text:a,severity:oe.messageSeverity.error}}}),e(n())})}}function C(){var e=te["default"].nodeGroupingOptionsData;return{type:$["default"].APP_BAR.NODE_GROUPING_OPTIONS_FETCH,payload:{data:e}}}function S(){return function(e,t){e((0,ae.isUnsupportedBrowser)()?{type:$["default"].EXPLORER.UNSUPPORTED_BROWSER}:P(function(n){e(C()),e(_(n.explorer.mapId)),e(x()),e(A(t().explorer))}))}}function k(e){return function(t,n){t({type:$["default"].EXPLORER.PATHCONTACTS_FETCHING});var a=n().explorer,r={path:e,mapId:a.mapId,startDate:a.startDate,endDate:a.endDate,groupingOption:a.groupingOption};te["default"].getContactsByPath(r,function(e){t(B(e))},function(e){t(V(e))})}}function R(e,t){return function(n,a){n({type:$["default"].EXPLORER.FUNNELS_FETCHING}),te["default"].getAllFunnels({},function(a){n(I(a,e,t))},function(e){n(F(e))})}}function T(e){return function(t,n){t({type:$["default"].EXPLORER.FUNNELS_SAVE,payload:{path:e}});var a=e.map(function(e){return e.rid}).slice(1),r=e.map(function(e){return e.name}).slice(1),o=r.length>1?[r[0],r[r.length-1]].join(" -> "):r[0],i={id:(0,ae.newGuid)(),elements:a,name:o};te["default"].saveFunnel(i,function(e){t(M(e))},function(e){t(L(e))})}}function D(e){return{type:$["default"].APP_BAR.SET_FILTER,payload:{path:e}}}function M(e){return{type:$["default"].EXPLORER.FUNNELS_SAVE_SUCCESS,payload:{data:e},meta:{message:{id:"dafb6ee5-e057-461e-aa3f-8975995ef5be",text:le["default"].translate("The funnel has been saved."),severity:oe.messageSeverity.info,forcePop:!0}}}}function L(e){return{type:$["default"].EXPLORER.FUNNELS_SAVE_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function N(e,t){return{type:$["default"].CONTEXT_PANE.SELECT_FUNNEL,payload:{funnel:e,tree:t}}}function j(e){return{type:$["default"].DASHBOARD.SET_FAVORITE_FUNNEL,payload:{funnelId:e}}}function I(e,t,n){return{type:$["default"].EXPLORER.FUNNELS_FETCH_SUCCESS,payload:{funnelData:e,treeData:t,params:n}}}function F(e){return{type:$["default"].EXPLORER.FUNNELS_FETCH_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error},stackTrace:e.stack}}}function B(e){return{type:$["default"].EXPLORER.PATHCONTACTS_FETCH_SUCCESS,payload:{data:e}}}function V(e){return{type:$["default"].EXPLORER.PATHCONTACTS_FETCH_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function G(e){return function(t,n){t({type:$["default"].DASHBOARD.COMPARISON_DATA_FETCHING}),te["default"].getComparisonData(e,function(e){t(H(e))},function(e){t(U(e))})}}function H(e){return{type:$["default"].DASHBOARD.COMPARISON_DATA_FETCH_SUCCESS,payload:{data:e}}}function U(e){return{type:$["default"].DASHBOARD.COMPARISON_DATA_FETCH_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function W(e){return function(t,n){t({type:$["default"].DASHBOARD.TREND_DATA_FETCHING}),te["default"].getTrendData(e,function(e){t(z(e))},function(e){t(X(e))})}}function z(e){return{type:$["default"].DASHBOARD.TREND_DATA_FETCH_SUCCESS,payload:{data:e}}}function X(e){return e&&e.response&&404===e.response.status?{type:$["default"].DASHBOARD.TREND_DATA_FETCH_WARNING,payload:{}}:{type:$["default"].DASHBOARD.TREND_DATA_FETCH_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function K(e){return function(t,n){t({type:$["default"].EXPLORER.ITEM_DATA_FETCHING}),te["default"].getItemData(e,function(e){t(Y(e))},function(e){e&&e.response&&404===e.response.status||t(Q(e))})}}function Y(e){return{type:$["default"].EXPLORER.ITEM_DATA_FETCH_SUCCESS,payload:{data:e}}}function Q(e){return{type:$["default"].EXPLORER.ITEM_DATA_FETCH_ERROR,payload:new Error(e.message?e.message:e),error:!0,meta:{stackTrace:e.stack,message:{id:(0,ae.newGuid)(),text:e.message?e.message:e,severity:oe.messageSeverity.error}}}}function Z(){return{type:$["default"].EXPLORER.TOGGLE_SETTINGS}}function J(e,t){return{type:$["default"].EXPLORER.CHANGE_SETTING,payload:{key:e,value:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.dismissMessage=r,t.dismissAllMessages=o,t.addMessage=i,t.toggleMessageBar=l,t.applyMessageBarChanges=s,t.getMapStatusMessage=u,t.toggleContextPane=c,t.changeContextPanePanel=d,t.toggleHelp=p,t.downloadMapData=f,t.downloadSuccess=h,t.downloadError=y,t.copyToClipboard=m,t.copyToClipboardSuccess=b,t.copyToClipboardError=g,t.toggleFavoriteMap=v,t.toggleTransitions=E,t.fetchTreeData=A,t.fetchMapList=_,t.fetchPresetDateRanges=x,t.fetchNodeGroupingOptions=C,t.initialize=S,t.fetchPathContacts=k,t.fetchFunnels=R,t.savePathAsFunnel=T,t.setFilter=D,t.selectFunnel=N,t.setFavoriteFunnel=j,t.fetchComparisonData=G,t.fetchTrendData=W,t.fetchItemData=K,t.toggleSettings=Z,t.changeSetting=J;var q=n(541),$=a(q),ee=n(556),te=a(ee),ne=n(579),ae=(a(ne),n(543)),re=n(601),oe=n(596),ie=n(554),le=a(ie),se=n(612),ue=a(se),ce=(n(580),n(625),n(626))},625:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.thresholds={maxNodeThreshold:1e3}},626:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.statusCategories={buildStatus:"buildstatus",deploymentStatus:"deploymentstatus",dataStatus:"datastatus"},t.buildStatusCodes={"new":0,pickedUp:1,building:2,built:3,undefined:-1,failed:13},t.deploymentStatusCodes={deployed:0,notDeployed:1,partialWorkflow:2,partialStorage:3}},627:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=(a(c),n(628)),p=a(d),f=n(630),h=a(f),y=n(634),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return this.props.unsupportedBrowser?null:u["default"].createElement("div",null,u["default"].createElement(p["default"],{id:"helpToggleButton",iconStyle:[b.button.icon,b.help.icon],buttonStyle:[b.button.base,b.help.button],onClick:this.handleHelpButtonClick.bind(this),isOpen:!1,tooltip:{"data-tip":{},"data-for":"helpTooltip"}}),u["default"].createElement(h["default"],{id:"helpTooltip",position:"left",delayShow:1e3},y.tooltips.help))}},{key:"handleHelpButtonClick",value:function(){this.props.actions.toggleHelp()}}]),t}(s.Component),b={button:{icon:{display:"inline-block",fontSize:"30px",width:"32px",height:"32px",margin:"0",backgroundColor:"transparent",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWhJREFUeNrMV4GNwjAMTCoG6AiMUCagI3QDusH/CGyAmIAVYIK2E5QR+An6GwRbMghQ0thJWnrSKVLVxI7jcxytmDDGFDBUwC2wdPzWAjvgWWt9VSkAhmtgb+TAOXWM4TWwMfHANdZS4xVwMOmAa1WSkE+FmrPzqfEWCf165jD0wJwRqDPwArwB/+kbzkOl7Gh0Af/fgEpun7tvmJldMI9xLIeakHPHBXNBIpfsfGDqvA6Q8mksms8Kx9m9w8BhTGaMKBQZlVcfWptiYPh9ScCfgHpXrai2+1BQ4mDm/tH4Oa+zzPPlzFYl0vbecUReZampqpsnAZM5EGU81oGTxXAuvUFjHChjdv5AphKBSrS4WGU2jXMAl0krlJy1vqxIv2XAjk2CwHWaQtcHREAncGojuYzes9cRFUnT+sgBxFHNj2NIQ5IqAo2rDR9mcGBwtunfaEqX1ZYv4mGyiKfZnI9T/e3n+V2AAQCkdvUEJ9bzbgAAAABJRU5ErkJggg==')",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"24px 24px"}},help:{icon:{margin:"0px"},button:{minWidth:"inherit",position:"absolute",top:0,right:"10px",background:"transparent",borderColor:"transparent",boxShadow:"none",color:"#FFFFFF",":hover":{opacity:".5"}}}};t["default"]=m},628:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(300),d=a(c),p=n(476),f=a(p),h=n(629),y=a(h),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"handleClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=void 0!==this.props.iconStyle||void 0!==this.props.iconClasses?d["default"].createElement("div",{className:(0,y["default"])("sc-icon",this.props.iconClasses),style:this.props.iconStyle}):"",t=void 0!==this.props.text&&""!==this.props.text?d["default"].createElement("span",{className:"sc-togglebutton-text",style:this.props.textStyle},this.props.text):"",n=(0,y["default"])("sc-togglebutton-chevron",{up:this.props.isOpen}),a=this.props.showArrow?d["default"].createElement("div",{className:"sc-togglebutton-toggler"},d["default"].createElement("div",{className:n})):"",o=(0,y["default"])("btn","sc-togglebutton",r({up:this.props.isOpen,"btn-default":void 0===this.props.className},this.props.className,void 0!==this.props.className)),i=[this.props.buttonStyle,this.props.isOpen?this.props.buttonStyleOpen:{}];return d["default"].createElement("button",s({id:this.props.id,title:this.props.title,type:"button",className:o,style:i,onClick:this.handleClick.bind(this),disabled:this.props.disabled},this.props.tooltip),e,t,a)}}]),t}(c.Component);t["default"]=(0,f["default"])(m)},630:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e;return{cssRules:(e={".__react_component_tooltip":{boxShadow:"0px 0px 3px 0px rgba(204,204,204,0.5)",transition:"opacity 0.3s ease-out"},".__react_component_tooltip.show":{opacity:1},".__react_component_tooltip.type-info":{backgroundColor:"#f7f7f7",color:"#474747",fontSize:"11px",border:"1px solid #f0f0f0",lineHeight:"initial",fontWeight:"normal"},".__react_component_tooltip.place-top":{marginTop:0}},r(e,".__react_component_tooltip.place-top:after,.__react_component_tooltip.place-right:after,.__react_component_tooltip.place-left:after,.__react_component_tooltip.place-bottom:after",{transformOrigin:"0 0",transform:"rotate(-45deg)"}),r(e,".__react_component_tooltip.type-info.place-top:after",{bottom:"-12px",border:"7px solid #f7f7f7",borderColor:"transparent transparent #f7f7f7 #f7f7f7",boxShadow:"-2px 2px 2px 0 rgba(204,204,204,0.5)"}),r(e,".__react_component_tooltip.type-info.place-right:after",{left:"-7px",border:"5px solid #f7f7f7",borderColor:"#f7f7f7 transparent transparent #f7f7f7",boxShadow:"-2px 0px 2px 0 rgba(204,204,204,0.5)",marginTop:0}),r(e,".__react_component_tooltip.type-info.place-bottom:after",{top:0,border:"7px solid #f7f7f7",borderColor:"#f7f7f7 #f7f7f7 transparent transparent",boxShadow:"2px -2px 2px 0 rgba(204,204,204,0.5)"}),r(e,".__react_component_tooltip.type-info.place-left:after",{borderLeft:"6px solid #f7f7f7",right:"-2px",border:"5px solid #f7f7f7",borderColor:"transparent #f7f7f7 #f7f7f7 transparent",boxShadow:"2px 2px 2px 0 rgba(204,204,204,0.5)",marginTop:0}),e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s;var c=n(300),d=a(c),p=n(476),f=a(p),h=n(631),y=a(h),m=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.id!==e.id||this.props.delayShow!==e.delayShow||this.props.position!==e.position||this.props.children!==e.children}},{key:"render",value:function(){var e="sc-tt-"+this.props.id,t=this.props.delayShow,n=s();return d["default"].createElement("div",{className:e},d["default"].createElement(p.Style,{scopeSelector:"."+e,rules:n.cssRules}),d["default"].createElement(y["default"],{id:this.props.id,type:"info",effect:"solid",offset:{top:0,left:0},place:this.props.position,delayShow:t},this.props.children))}}]),t}(c.Component);m.defaultProps={style:{},position:"top",delayShow:500},t["default"]=(0,f["default"])(m)},634:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tooltips=void 0;var r=n(554),o=a(r);t.tooltips={mapSelector:o["default"].translate("Select a map to display"),mapSelectorNoMap:o["default"].translate("Select a map to display"),dateSelector:o["default"].translate("Select the date range for the selected map"),filter:o["default"].translate("Filter the selected map"),viewSelector:o["default"].translate("Change the map view"),exportButton:o["default"].translate("Export a map and access settings"),help:o["default"].translate("Open the Help window"),contextHelp:o["default"].translate("Learn more"),contextPane:o["default"].translate("Reports and funnels"),messageBar:o["default"].translate("Notification messages")}},637:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return{type:c["default"].APP_BAR.TOGGLE_SELECTOR,payload:{activeSelector:e}}}function i(e,t){return{type:c["default"].EXPLORER.APPLY_FILTER,payload:{appliedPathFilter:e,appliedMetricFilter:t}}}function l(e){return function(t,n){var a=n(),r=Object.assign({},a.explorer,{mapInfo:a.mapSelector.selectedMapInfo}),o=Object.assign({},r,e),i=p.getMapStatusMessage(o.mapInfo);t({type:c["default"].EXPLORER.APPLY_SELECTIONS,payload:{mapInfo:o.mapInfo,startDate:o.startDate,endDate:o.endDate,groupingOption:o.groupingOption,datePreset:o.datePreset},meta:{message:i,mapChanged:r.mapInfo&&o.mapInfo&&r.mapInfo.id!==o.mapInfo.id||r.startDate&&o.startDate&&r.startDate!==o.startDate||r.endDate&&o.endDate&&r.endDate!==o.endDate||r.datePreset&&o.datePreset&&r.datePreset.id!==o.datePreset.id||r.groupingOption!==o.groupingOption}}),o.mapId=o.mapInfo?o.mapInfo.id:"",t(p.fetchTreeData(o))}}function s(e){return function(t,n){n().layoutSelector.selectedLayout!==e&&t({type:c["default"].EXPLORER.SELECT_MAP_LAYOUT,payload:{layoutKey:e}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSelector=o,t.applyFilter=i,t.applySelections=l,t.selectLayout=s;var u=n(541),c=r(u),d=n(624),p=a(d);n(580),n(543)},638:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownButton=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(476),p=a(d),f=n(628),h=a(f),y=n(630),m=a(y),b=n(543),g=n(639),v=a(g),E=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={isOpen:!1},n}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.setState({isOpen:this.props.isOpen})}},{key:"componentWillReceiveProps",value:function(e){this.setState({isOpen:e.isOpen})}},{key:"handleClick",value:function(){this.setState({isOpen:!this.state.isOpen}),this.props.onClick&&this.props.onClick()}},{key:"handleClickOutside",value:function(e){this.state.isOpen&&this.handleClick()}},{key:"render",value:function(){var e={display:this.state.isOpen?"block":"none"},t=this.props.id+" sc-dropdownbutton",n=(0,b.newGuid)();return c["default"].createElement("div",{className:t,style:this.props.dropdownStyle.container,"data-tip":!0,"data-for":n},c["default"].createElement(h["default"],l({},this.props,{onClick:this.handleClick.bind(this)})),c["default"].createElement("div",{className:"sc-dropdownbutton-contentpanel default",style:[e,this.props.dropdownStyle.contentPanel]},c["default"].createElement("div",{className:"sc-dropdownbutton-content",style:this.props.dropdownStyle.content},this.props.children)),this.props.tooltip&&!this.state.isOpen?c["default"].createElement(m["default"],{id:n,position:"top"},this.props.tooltip):null)}}]),t}(u.Component);E.defaultProps={dropdownStyle:{}},t.DropDownButton=E,t["default"]=(0,v["default"])((0,p["default"])(E))},640:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=void 0;return e.isMap&&void 0!==e.status&&(t=e.status.find(function(e){return"none"!==e.severity&&"notification"!==e.severity}),t&&(t=t.shortText)),t}function u(){return{container:{margin:"0 0 0 0",height:"300px",overflowY:"scroll"},tree:{base:{listStyle:"none",backgroundColor:"transparent",margin:0,padding:0,"float":"left",width:375},node:{base:{position:"relative"},link:{cursor:"default",position:"relative",padding:"0px 5px",display:"block",margin:"0px 0px 4px 0px"},activeLink:{},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-5px",height:"20px",width:"20px",cursor:"pointer"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-8px 0 0 -5px",height:"8px"},height:8,width:8,arrow:{fill:"#000000",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top",height:"20px"},noToggle:{margin:"0 0 0 15px",width:"100%"},innerWrap:{cursor:"pointer",":hover":{backgroundColor:"#e3e3e3"},position:"relative",zIndex:4,whiteSpace:"nowrap",overflow:"hidden",height:20},icon:{verticalAlign:"top",padding:"1px 0 0 0",margin:"0 10px 0 0"},text:{display:"inline-block",padding:"0 5px 0 5px",verticalAlign:"top"},active:{background:"transparent"},disabled:{text:{color:"#999999"},link:{cursor:"default"}},highlight:{base:{position:"absolute",left:20,right:-15,top:0,bottom:0,backgroundColor:"#AADBEE",zIndex:3},arrow:{position:"absolute",right:-4,top:0,bottom:0,width:0,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderRight:"10px solid #ffffff"}}},subtree:{listStyle:"none",paddingLeft:"19px"},loading:{color:"#E2C089"}}},buttonsPanel:{position:"absolute",bottom:"-60px"},groupingSelector:{container:{position:"absolute",bottom:0},options:{display:"inline-block",marginRight:"15px"}},help:{display:"inline"}}}function c(){return{toggle:function(e){return{animation:{rotateZ:e.node.toggled?90:0},duration:300}},drawer:function(){return{enter:{animation:"slideDown",duration:300},leave:{animation:"slideUp",duration:300}}}}}function d(e){var t=Object.assign({},A,w,x);return{actions:(0,v.bindActionCreators)(t,e)}}function p(e){return{mapListData:e.mutable.mapListData.data,groupingOption:e.mapSelector.groupingOption,nodeGroupingOptions:e.mapSelector.nodeGroupingOptions,favorites:e.mapSelector.favorites,selectedMapInfo:e.mapSelector.selectedMapInfo,transientMapInfo:e.mapSelector.transientMapInfo,transientGroupingOption:e.mapSelector.transientGroupingOption,mapInfoVisible:e.mapSelector.mapInfoVisible,dataVersion:e.mapSelector.dataVersion}}Object.defineProperty(t,"__esModule",{value:!0}),t.MapSelector=void 0;var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=u,t.getAnimations=c,t.mapDispatchToProps=d,t.mapStateToProps=p;var h=n(300),y=r(h),m=n(476),b=r(m),g=n(454),v=n(461),E=n(637),A=a(E),O=n(624),w=a(O),_=n(641),x=a(_),P=n(642),C=n(629),S=(r(C),n(579)),k=(r(S),n(786)),R=r(k),T=n(554),D=(r(T),n(543)),M=n(788),L=r(M),N=n(789),j=r(N),I=n(792),F=r(I),B=n(795),V=r(B),G=n(791),H=r(G),U=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.handleMapListToggle=n.handleMapListToggle.bind(n),n.handleGroupingOptionSelection=n.handleGroupingOptionSelection.bind(n),n.handleApplyButtonClick=n.handleApplyButtonClick.bind(n),n.handleCancelButtonClick=n.handleCancelButtonClick.bind(n),n.handleFavoriteClick=n.handleFavoriteClick.bind(n),n}return l(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.dataVersion!==e.dataVersion||(!(!this.props.transientMapInfo||!e.transientMapInfo||this.props.transientMapInfo.id===e.transientMapInfo.id)||(!(!this.props.selectedMapInfo||!e.selectedMapInfo||this.props.selectedMapInfo.id===e.selectedMapInfo.id)||(this.props.transientGroupingOption!==e.transientGroupingOption||(this.props.groupingOption!==e.groupingOption||(!(0,D.arraysAreEqual)(this.props.favorites,e.favorites)||!(0,D.arraysAreEqual)(this.props.nodeGroupingOptions,e.nodeGroupingOptions))))))}},{key:"handleMapListToggle",value:function(e,t){e.disabled||e.isMap&&void 0!==s(e)||(e.isMap?(this.props.onSelectMap&&this.props.onSelectMap(e),this.props.actions.setSelectedNode(e)):this.props.actions.toggleNode(e))}},{key:"handleGroupingOptionSelection",value:function(e){this.props.actions.selectGroupingOption(e)}},{key:"handleApplyButtonClick",value:function(){var e={mapInfo:this.props.transientMapInfo,groupingOption:this.props.transientGroupingOption};this.props.onApplySelection&&this.props.onApplySelection(e),this.props.actions.applySelections(e)}},{key:"handleCancelButtonClick",value:function(){this.props.onCancelSelection&&this.props.onCancelSelection()}},{key:"handleFavoriteClick",value:function(e,t){(0,D.stopEventBubble)(t),this.props.actions.toggleFavoriteMap(e.id)}},{key:"render",value:function(){if(!this.props.mapListData)return null;var e=u(),t=this.props.selectedMapInfo&&this.props.transientMapInfo&&this.props.selectedMapInfo.id===this.props.transientMapInfo.id&&this.props.groupingOption===this.props.transientGroupingOption,n=this;return y["default"].createElement("div",{style:e.container},y["default"].createElement(P.Treebeard,{data:this.props.mapListData,onToggle:this.handleMapListToggle,decorators:P.decorators,style:e,animations:c(),onFavoriteClick:this.handleFavoriteClick,favorites:this.props.favorites}),y["default"].createElement(L["default"],{visible:this.props.mapInfoVisible},y["default"].createElement(j["default"],{mapInfo:this.props.transientMapInfo,isFavorite:this.props.transientMapInfo&&this.props.favorites.some(function(e){return e===n.props.transientMapInfo.id}),onFavoriteClick:this.handleFavoriteClick}),y["default"].createElement(F["default"],{options:this.props.nodeGroupingOptions,
onSelectOption:this.handleGroupingOptionSelection,selectedOption:this.props.transientGroupingOption,style:e.groupingSelector},y["default"].createElement(V["default"],{anchor:"group-map-data",style:e.help,actions:this.props.actions}))),y["default"].createElement(R["default"],{applyButtonDisabled:t,onApplyButtonClick:this.handleApplyButtonClick,onCancelButtonClick:this.handleCancelButtonClick,style:e.buttonsPanel}))}}]),t}(h.Component);P.decorators.Header=(0,b["default"])(function(e){var t=e.style,n=e.node,a=s(n),r=void 0!==a||n.disabled,o=[t.text,n.active?t.active:{},r?t.disabled.text:{}],i=void 0!==e.favorites.find(function(e){return e===n.id});return y["default"].createElement("div",{style:[t.base,n.children?{}:t.noToggle]},y["default"].createElement("div",{style:[t.innerWrap,r?t.disabled.link:{}]},n.isMap?y["default"].createElement(H["default"],{isFavorite:i,onFavoriteClick:e.onFavoriteClick.bind(void 0,n)}):null,y["default"].createElement("img",{src:n.iconUrl,style:t.icon}),y["default"].createElement("span",{style:o},r&&void 0!==a?n.name+" ("+a+")":n.name)),y["default"].createElement("div",{key:n.uid,style:n.active?t.highlight.base:{}},y["default"].createElement("div",{style:t.highlight.arrow})))}),t.MapSelector=U,t["default"]=(0,g.connect)(p,d)((0,b["default"])(U))},641:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){return{type:s["default"].MAP_SELECTOR.TOGGLE_NODE,payload:{node:e}}}function o(e){return{type:s["default"].MAP_SELECTOR.SET_SELECTED_NODE,payload:{node:e}}}function i(e){return{type:s["default"].MAP_SELECTOR.SELECT_GROUPING_OPTION,payload:{groupingOption:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleNode=r,t.setSelectedNode=o,t.selectGroupingOption=i;var l=n(541),s=a(l)},786:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorButtonsPanel=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(787),d=a(c),p=n(554),f=a(p),h=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"handleApplyButtonClick",value:function(){this.props.onApplyButtonClick()}},{key:"handleCancelButtonClick",value:function(){this.props.onCancelButtonClick()}},{key:"generateButtons",value:function(){var e=[{text:f["default"].translate("Apply"),onClick:this.handleApplyButtonClick.bind(this),className:"btn-primary",disabled:this.props.applyButtonDisabled},{text:f["default"].translate("Cancel"),onClick:this.handleCancelButtonClick.bind(this),disabled:this.props.cancelButtonDisabled,style:{marginLeft:"10px"}}],t=e;return this.props.onGenerateButtons&&(t=this.props.onGenerateButtons(t)),t}},{key:"render",value:function(){return u["default"].createElement(d["default"],{style:this.props.style,buttons:this.generateButtons()})}}]),t}(s.Component);t.SelectorButtonsPanel=h,t["default"]=h},787:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(476),p=(a(d),n(629)),f=(a(p),n(628)),h=a(f),y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.buttons.map(function(e,t){e.style;return c["default"].createElement(h["default"],l({},e.props,{key:t,onClick:e.onClick,disabled:e.disabled,text:e.text,className:e.className,buttonStyle:e.style}))}),t=Object.assign({position:"absolute",bottom:0,height:"60px",lineHeight:"56px",padding:"0 15px",right:0,left:0,textAlign:"right",border:"1px solid #cccccc",backgroundColor:"#e3e3e3"},this.props.style);return c["default"].createElement("div",{style:t},e)}}]),t}(u.Component);t["default"]=y},788:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{visible:{opacity:1},hidden:{opacity:0},container:{position:"absolute",right:30,top:15,bottom:15,width:"240px",zIndex:1,borderLeft:"1px solid #E2E2E2",transition:"opacity 250ms ease-in-out",padding:"10px 5px 10px 10px",boxShadow:"0 0px 5px rgba(214,214,214,.5)"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l();return c["default"].createElement("div",{style:[e.container,this.props.style.container,this.props.visible?e.visible:e.hidden]},this.props.children)}}]),t}(u.Component);f.defaultProps={style:{}},t["default"]=(0,p["default"])(f)},789:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{},title:{fontSize:"18px",marginBottom:"10px"},description:{marginBottom:"10px"},info:{list:{},label:{textAlign:"left",fontWeight:"bold",width:"100px"},data:{marginLeft:"100px"}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.MapInfo=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(790),m=n(791),b=a(m),g=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(!this.props.mapInfo||!e.mapInfo||this.props.mapInfo.id===e.mapInfo.id)||this.props.isFavorite!==e.isFavorite}},{key:"getDescription",value:function(){var e="";return this.props.mapInfo.description&&(e=this.props.mapInfo.description),{__html:e}}},{key:"render",value:function(){if(!this.props.mapInfo||!this.props.mapInfo.id)return null;var e=l(),t=this.props.mapInfo,n=t.name,a=(t.description,t.createdBy),r=t.createdOn,o=t.type,i=this.props.mapInfo.status.reduce(function(e,t){return e.shortText?e.shortText+", "+t.shortText:t.shortText},{shortText:""}),s=[{label:h["default"].translate("Status")+":",data:i},{label:h["default"].translate("Created by")+":",data:a},{label:h["default"].translate("Created on")+":",data:r?r.format(y.dateFormat):""},{label:h["default"].translate("Type")+":",data:o}],u=this;return c["default"].createElement("div",{style:[e.container,this.props.style.container]},c["default"].createElement("div",{style:[e.title,this.props.style.title]},[c["default"].createElement(b["default"],{key:"icon",isFavorite:this.props.isFavorite,onFavoriteClick:this.props.onFavoriteClick.bind(this,this.props.mapInfo)}),n]),c["default"].createElement("div",{style:[e.description,this.props.style.description],dangerouslySetInnerHTML:this.getDescription()}),c["default"].createElement("dl",{className:"dl-horizontal",style:[e.info.list,this.props.style.info.list]},s.map(function(t){return[c["default"].createElement("dt",{style:[e.info.label,u.props.style.info.label]},t.label),c["default"].createElement("dd",{style:[e.info.data,u.props.style.info.data]},t.data)]})))}}]),t}(u.Component);g.defaultProps={style:{info:{}}},t.MapInfo=g,t["default"]=(0,p["default"])(g)},790:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.dateFormat="DD MMM 'YY"},791:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FavoriteIcon=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.resolveStyle();return u["default"].createElement("span",{style:e,onClick:this.props.onFavoriteClick,key:this.props.key})}},{key:"resolveStyle",value:function(){var e=[f.base,this.props.style.base];return this.props.onFavoriteClick||e.push(f.disabled),this.props.isFavorite?e.push(f.on,this.props.style.on):e.push(f.off,this.props.style.off),e}}]),t}(s.Component);p.defaultProps={style:{}};var f={base:{width:"16px",height:"16px",margin:"2px 10px 0 0",cursor:"pointer",display:"inline-block",backgroundSize:"16px 16px"},disabled:{cursor:"default"},on:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABSElEQVR42u2WPw4BURCHV2xDFC4godjCAfyrXGELOp1O4woqrahE6QQ6pdIBhESro9KIRMVMMi9RzL7svnkmCpN8iaw38/uKfUMQ/MuxoiiKgSsRa4fngQvwIvBzXlOg+xFu6GoKzBmBuVZ4DjgzAvgspyHQYMINDQ2BqUVgqiFwsgicpMOxOkSbaBFNYGQJN4zorOkzc8zcKCl8kmK4LyacwF1R4M4JHBUFjpxAHTgohGNGPek9KALLL4bj7GKa29AHbh6DcVY/65WsAjsP4Tij6roXQmAmCMfeULqcKgKBio/VOxQIDH0IbAQCG2l4GXgKBLC3LBEYeLgFA4nA2rbPgTFh+x1Zu4aXgEfC0P3nOqU1vk84izNKrv/7uYELoMCcL9B3XE/sQwDXaS9FX49Z47HrFlzRm7wFahl6a9TzpBlh8K9frTeezzGFRuCg5QAAAABJRU5ErkJggg==')"},off:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACBElEQVR42u2Wv0tCURTHFV0MBwmnQMjhDQ7SZD8G0bVNQTehwU2HBv8BJ2kLXaKt/gBz0iVqtMQlosjGasmWFikk5HUOfC8c5Fm+d+3R4IUPXs+93+85vnffeXo8y+FwGIaRIYYg43ZyH/FKmIDnPjcLSCHxI+B5ys0C6kh6AHhedyu5l3hC0k1gIuZ1o4AEEr6gGC/mHEu4UUANyRoi1kCs5kYBAyRLi1gasYGuOY8dsA22AN/rEhK9yccOj+Ub1krYq3TKR/kas5JXxXP9GxULfcWGvmpVwAiLN0SXuALXoEecE3s/XME97OkJnfLpwptzjKzE91jkz/gfnJ24zGG1IUbcYcMn38sFJi/B00SO2KyNK8SxuFdnxKpG4lV4KD/2XplHmCfeIXomkg6SJ6E14ZW3a7COg8MGX8SuDe0uNCY81p1eQj9xCKO+DV0fGtb6dQ9QBGZDG5ohNJFFnOAizNo2NG1oiosooGPXTBTd0U0eIsY4UOGptSzRAtmptTA0rA3pFFDAL7kQsSBxYtHfORYU+y4QL+gU0FJvOHzfIB5UPyf2gXqP8NqG6H4cazlNzr/0g5gQa0RZtNNb2U7Rxm9FGy9DM4FH0On/fvVyaopLfUQELPYHsKb2NcXLJ6NTgCnaaW4OXU60cVOnAO6CpzjJl0TUhjYKzRgefs9y/NfxDQUlPcY8XmFwAAAAAElFTkSuQmCC')"}};t.FavoriteIcon=p,t["default"]=(0,d["default"])(p)},792:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=n(793),f=a(p),h=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"handleOptionChange",value:function(e,t,n){if(this.props.onSelectOption){var a=this.props.selectedOption!==e?e:"";this.props.onSelectOption(a)}}},{key:"render",value:function(){var e=this,t=this.props.options.map(function(t,n){return{labelText:t.name,value:t.id,id:t.id,checked:t.id===e.props.selectedOption,labelStyle:{fontSize:"12px",lineHeight:"1.7"}}});return u["default"].createElement("div",{style:this.props.style.container},u["default"].createElement(f["default"],{items:t,onChange:this.handleOptionChange.bind(this),disabled:this.props.disabled,style:this.props.style.options}),this.props.children)}}]),t}(s.Component);h.defaultProps={style:{}},t["default"]=(0,d["default"])(h)},793:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(794),d=a(c),p=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"handleChange",value:function(e,t,n){this.props.onChange&&this.props.onChange(e,t,n)}},{key:"render",value:function(){var e=this,t=this.props.items.map(function(t,n){return u["default"].createElement(d["default"],{key:n,labelText:t.labelText,labelStyle:t.labelStyle,id:t.id,value:t.id,onChange:e.handleChange.bind(e),checked:t.checked,disabled:e.props.disabled})});return u["default"].createElement("div",{style:this.props.style},t)}}]),t}(s.Component);t["default"]=p},794:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"handleChange",value:function(e,t,n){this.props.onChange&&this.props.onChange(e,t,n)}},{key:"render",value:function(){return u["default"].createElement("div",{className:"checkbox"},u["default"].createElement("label",{style:this.props.labelStyle},u["default"].createElement("input",{type:"checkbox",id:this.props.id,value:this.props.id,defaultChecked:this.props.checked,checked:this.props.checked,onChange:this.handleChange.bind(this,this.props.id,this.props.labelText,this.props.value),disabled:this.props.disabled}),this.props.labelText))}}]),t}(s.Component);t["default"]=c},795:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(634),p=n(630),f=a(p),h=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return c["default"].createElement("span",{style:{verticalAlign:"middle"}}," ",c["default"].createElement("svg",l({viewBox:"0 0 16 16",width:"12",height:"12",onClick:this.onHelp.bind(this),style:Object.assign({cursor:"pointer"},this.props.style)},{"data-for":"learnMoreTooltip","data-tip":{}}),c["default"].createElement("path",{d:"M8,1A7,7,0,1,1,1,8,7,7,0,0,1,8,1M8,0a8,8,0,1,0,8,8A8,8,0,0,0,8,0H8Z",style:{fill:"#5E5E5E"}}),c["default"].createElement("path",{d:"M9.4,9.79H6.9V9.54A3.09,3.09,0,0,1,7,8.5a2.3,2.3,0,0,1,.43-0.73A13.27,13.27,0,0,1,8.76,6.61a1.15,1.15,0,0,0,.53-0.8,0.73,0.73,0,0,0-.21-0.56,0.92,0.92,0,0,0-.65-0.2,1,1,0,0,0-.77.31,1.81,1.81,0,0,0-.39,1.08L4.71,6.13a3.48,3.48,0,0,1,1-2.27A3.81,3.81,0,0,1,8.47,3a4.05,4.05,0,0,1,2.32.6A2.49,2.49,0,0,1,12,5.76a2.08,2.08,0,0,1-.31,1.08,5.32,5.32,0,0,1-1.26,1.27A3.39,3.39,0,0,0,9.57,9,1.73,1.73,0,0,0,9.4,9.79Zm-2.59.66H9.49v2.36H6.81V10.45Z",style:{fill:"#5E5E5E"}})),c["default"].createElement(f["default"],{id:"learnMoreTooltip"},d.tooltips.contextHelp))}},{key:"onHelp",value:function(e){e.stopPropagation(),this.props.actions.toggleHelp(!0,this.props.anchor)}}]),t}(u.Component);t["default"]=h},796:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{container:{margin:"0 0 0 0",height:"280px",overflow:"hidden"},buttonsPanel:{position:"absolute",bottom:"-60px"}}}function u(e){var t=Object.assign({},b,v);return{actions:(0,y.bindActionCreators)(t,e)}}function c(e){return{startDate:e.explorer.startDate,endDate:e.explorer.endDate,presetDateRanges:e.dateRangeSelector.presetDateRanges,blockedDateRanges:e.dateRangeSelector.blockedDateRanges,allowBlockedDateSelection:e.settings.allowBlockedDateSelection}}Object.defineProperty(t,"__esModule",{value:!0}),t.DateRangeSelector=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var p=n(300),f=r(p),h=n(454),y=n(461),m=n(637),b=a(m),g=n(624),v=a(g),E=n(559),A=r(E),O=n(797),w=r(O),_=n(790),x=n(476),P=r(x),C=n(786),S=r(C),k=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={selectedStartDate:"",selectedEndDate:""},n}return l(t,e),d(t,[{key:"componentWillMount",value:function(){this.syncStateWithProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.state.selectedStartDate.isSame(e.startDate,"day")&&this.state.selectedEndDate.isSame(e.startDate,"day")||this.syncStateWithProps(e)}},{key:"syncStateWithProps",value:function(e){e.startDate&&e.endDate&&this.setState({selectedStartDate:(0,A["default"])(e.startDate),selectedEndDate:(0,A["default"])(e.endDate),activeInput:null})}},{key:"handleDatePickerChange",value:function(e){var t={};e.startDate&&!e.startDate.isSame(this.state.selectedStartDate,"day")&&(t.selectedStartDate=e.startDate),e.endDate&&!e.endDate.isSame(this.state.selectedEndDate,"day")&&(t.selectedEndDate=e.endDate),this.state.activeInput!==e.activeInput&&(t.activeInput=e.activeInput),this.setState(t)}},{key:"handleApplyButtonClick",value:function(){var e=this,t=this.props.presetDateRanges.find(function(t){return t.startDate.isSame(e.state.selectedStartDate,"day")&&t.endDate.isSame(e.state.selectedEndDate,"day")}),n={startDate:(0,A["default"])(this.state.selectedStartDate),endDate:(0,A["default"])(this.state.selectedEndDate),datePreset:t||""};this.props.onApplySelection&&this.props.onApplySelection(n),this.props.actions.applySelections(n)}},{key:"handleCancelButtonClick",value:function(){this.props.onCancelSelection&&this.props.onCancelSelection()}},{key:"render",value:function(){var e=s(),t=this.props.startDate.isSame(this.state.selectedStartDate,"day")&&this.props.endDate.isSame(this.state.selectedEndDate,"day"),n=this.props.blockedDateRanges&&this.props.blockedDateRanges.length>0?this.props.blockedDateRanges[0].endDate:null,a=(0,A["default"])({year:this.state.selectedStartDate.year(),month:this.state.selectedStartDate.month(),day:this.state.selectedStartDate.date()}),r=(0,A["default"])({year:this.state.selectedEndDate.year(),month:this.state.selectedEndDate.month(),day:this.state.selectedEndDate.date()});return f["default"].createElement("div",{style:e.container},f["default"].createElement(w["default"],{startDate:a,endDate:r,blockedDateRanges:this.props.blockedDateRanges,maxDate:(0,A["default"])(),minDate:n,numberOfCalendars:2,presetDateRanges:this.props.presetDateRanges,dateFormat:_.dateFormat,onChange:this.handleDatePickerChange.bind(this),actions:this.props.actions,activeInput:this.state.activeInput,allowBlockedDateSelection:this.props.allowBlockedDateSelection}),f["default"].createElement(S["default"],{applyButtonDisabled:t,onApplyButtonClick:this.handleApplyButtonClick.bind(this),onCancelButtonClick:this.handleCancelButtonClick.bind(this),style:e.buttonsPanel}))}}]),t}(p.Component);t.DateRangeSelector=k,t["default"]=(0,h.connect)(c,u)((0,P["default"])(k))},797:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return(0,O["default"])({cssRules:{".sc-dateRangePicker-preset":{padding:"4px 2px",display:"block",color:"#2694c0",cursor:"pointer"},".arrows":{width:"16px",height:"16px"},".sc-dateRangePicker-preset-selected":{backgroundColor:"#AADBEE",color:"#121212"},".sc-dateRangePicker-preset:hover":{backgroundColor:"#e3e3e3",textDecoration:"none"},".sc-dateRangePicker-day":{cursor:"pointer",color:"#121212"},".sc-dateRangePicker-day:hover span":{borderRadius:"50%",boxShadow:"0 0 5px rgba(204,204,204,0.5)",backgroundColor:"#e3e3e3"},".sc-dateRangePicker-day-inRange":{backgroundColor:"#AADBEE"},".sc-dateRangePicker-day-blocked":{cursor:e.allowBlockedDateSelection?"pointer":"not-allowed",background:"transparent url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFJJREFUeNrs07kNACAMBLCMyv5lFuCRKGACHjkSRUJzxTkys8QyY++vnrrHTWG2uzBPhJkf9aZiB2WKTRlluiQMZZQJQxllik0ZZZQJ87WyJsAApyWnUdFlaEUAAAAASUVORK5CYII=') no-repeat center",color:"#d6d6d6"},".sc-dateRangePicker-day-blocked:hover":{backgroundColor:"transparent"},".sc-dateRangePicker-day-disabled":{cursor:"not-allowed",color:"#d6d6d6",backgroundColor:"#F0F0F0",backgroundImage:"none"},".sc-dateRangePicker-day-disabled:hover":{backgroundColor:"#F0F0F0"},".sc-dateRangePicker-day-emptyDay":{cursor:"default",backgroundColor:"#fff"},".sc-dateRangePicker-day-emptyDay:hover":{cursor:"default",backgroundColor:"#fff !important"},"td.sc-dateRangePicker-day span":{display:"block",width:"100%",lineHeight:"34px"},".sc-dateRangePicker-day-startDate":{backgroundColor:"transparent"},".sc-dateRangePicker-day-startDate span":{borderRadius:"50% 0 0 50%",backgroundColor:"#2694C0",boxShadow:"-2px 0 5px rgba(204,204,204,0.5)",color:"#fff"},".sc-dateRangePicker-day-startDate span:hover":{borderRadius:"50% 0 0 50%",backgroundColor:"#2694C0",boxShadow:"-2px 0 5px rgba(204,204,204,0.5)",color:"#fff"},".sc-dateRangePicker-day-endDate":{backgroundColor:"transparent"},".sc-dateRangePicker-day-endDate span":{borderRadius:"0 50% 50% 0",backgroundColor:"#2694C0",boxShadow:"2px 0 5px rgba(204,204,204,0.5)",color:"#fff"},".sc-dateRangePicker-day-endDate span:hover":{borderRadius:"0 50% 50% 0",backgroundColor:"#2694C0",boxShadow:"2px 0 5px rgba(204,204,204,0.5)",color:"#fff"},".sc-dateRangePicker-day-startDate.sc-dateRangePicker-day-endDate span":{borderRadius:"50%",backgroundColor:"#2694C0",boxShadow:"0 0 5px rgba(204,204,204,0.5)",color:"#fff"}},calendars:{container:{},cell:{padding:"5px",verticalAlign:"top",textAlign:"center"},calendar:{cell:{base:{width:"34px",height:"34px",textAlign:"center",lineHeight:"34px"},dayName:{fontWeight:"bold",textTransform:"uppercase",color:"#969696",fontSize:"0.833em"},monthName:{base:{backgroundColor:"transparent",borderBottom:"1px solid #ccc"},button:{backgroundColor:"transparent",border:"0px",textTransform:"uppercase",fontSize:"12px",fontWeight:"bold",outline:"none"}}}},nav:{prev:{cursor:"pointer",paddingTop:"10px"},next:{cursor:"pointer",paddingTop:"10px"},disabled:{cursor:"not-allowed",opacity:"0.1",color:"#d6d6d6"}}},controls:{container:{height:275,marginTop:10},presets:{container:{margin:"10px 0"}},inputs:{container:{},input:{base:{width:88,border:"1px solid #d6d6d6",padding:5,outline:"none"},active:{border:"2px solid #2694C0",outline:"none"},startDate:{backgroundColor:"transparent"},endDate:{backgroundColor:"transparent"}}}},legend:{base:{position:"absolute",bottom:0},table:{base:{marginBottom:0},cell:{borderTop:0}}}},e.style)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(453),p=a(d),f=n(476),h=a(f),y=n(629),m=a(y),b=n(559),g=a(b),v=n(554),E=a(v),A=n(564),O=a(A),w=n(543),_=n(795),x=a(_),P=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={anchorMonth:(0,g["default"])().date(1)},n._daysOfWeek=g["default"].weekdaysMin(),n._inputKeys={startDate:"startDate",endDate:"endDate"},n}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.startDateInputValue!==t.startDateInputValue||this.state.endDateInputValue!==t.endDateInputValue||(!!(this.props.maxDate&&e.maxDate&&!this.props.maxDate.isSame(e.maxDate,"day")||this.props.minDate&&e.minDate&&!this.props.minDate.isSame(e.minDate,"day"))||(this.state.activeInput!==t.activeInput||(this.props.allowBlockedDateSelection!==e.allowBlockedDateSelection||(!(this.state.anchorMonth.isSame(t.anchorMonth,"day")&&this.state.startDate.isSame(t.startDate,"day")&&this.state.endDate.isSame(t.endDate,"day"))||(!(0,w.arraysAreEqual)(this.props.presetDateRanges,e.presetDateRanges)||(!(0,w.arraysAreEqual)(this.props.blockedDateRanges,e.blockedDateRanges)||(!this.props.startDate.isSame(e.startDate,"day")||!this.props.endDate.isSame(e.endDate,"day"))&&this.props.activeInput!==e.activeInput))))))}},{key:"componentWillMount",value:function(){this.syncStateWithProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.syncStateWithProps(e)}},{key:"syncStateWithProps",value:function(e){this.setState({startDate:e.startDate,endDate:e.endDate,anchorMonth:(0,g["default"])(e.startDate).add(1,"month").date(15),startDateInputValue:e.startDate.format(e.dateFormat),endDateInputValue:e.endDate.format(e.dateFormat),
activeInput:e.activeInput===this._inputKeys.startDate||e.activeInput===this._inputKeys.endDate?e.activeInput:this._inputKeys.startDate})}},{key:"handlePresetSelect",value:function(e){var t=this.props.presetDateRanges[e],n={startDate:t.startDate,endDate:t.endDate,activeInput:this.state.activeInput},a=Object.assign({},n,{anchorMonth:(0,g["default"])(t.endDate).date(15),startDateInputValue:t.startDate.format(this.props.dateFormat),endDateInputValue:t.endDate.format(this.props.dateFormat)});this.setState(a),this.props.onChange(n)}},{key:"handlePrevMonthClick",value:function(){this.setState({anchorMonth:(0,g["default"])(this.state.anchorMonth).subtract(1,"month")})}},{key:"handleNextMonthClick",value:function(){this.setState({anchorMonth:(0,g["default"])(this.state.anchorMonth).add(1,"month")})}},{key:"handleCalendarMonthClick",value:function(e){var t=(0,g["default"])(e).startOf("month"),n=g["default"].min(this.props.maxDate,(0,g["default"])(e).endOf("month")),a={startDate:t,endDate:n,activeInput:this._inputKeys.startDate},r=Object.assign({},a,{startDateInputValue:t.format(this.props.dateFormat),endDateInputValue:n.format(this.props.dateFormat)});this.setState(r),this.props.onChange(a)}},{key:"handleStartDateInputFocus",value:function(){var e={activeInput:this._inputKeys.startDate};this.state.anchorMonth.isSame(this.state.startDate,"month")||(e.anchorMonth=(0,g["default"])(this.state.startDate).add(1,"month").date(15)),this.setState(e),this.props.onChange({startDate:(0,g["default"])(this.state.startDate),endDate:(0,g["default"])(this.state.endDate),activeInput:e.activeInput})}},{key:"handleEndDateInputFocus",value:function(){var e={activeInput:this._inputKeys.endDate};this.state.anchorMonth.isSame(this.state.endDate,"month")||(e.anchorMonth=(0,g["default"])(this.state.endDate).date(15)),this.setState(e),this.props.onChange({startDate:(0,g["default"])(this.state.startDate),endDate:(0,g["default"])(this.state.endDate),activeInput:e.activeInput})}},{key:"handleStartDateInputBlur",value:function(e){var t=(0,g["default"])(e.target.value,this.props.dateFormat);if(t.isValid()&&t.isSameOrBefore(this.state.endDate,"day")){var n={startDate:t};this.setState(n),this.props.onChange(Object.assign({},n,{endDate:(0,g["default"])(this.state.endDate),activeInput:this.state.activeInput}))}else this.setState({startDateInputValue:(0,g["default"])(this.state.startDate).format(this.props.dateFormat)})}},{key:"handleEndDateInputBlur",value:function(e){var t=(0,g["default"])(e.target.value,this.props.dateFormat);if(t.isValid()&&t.isSameOrAfter(this.state.startDate,"day")){var n={endDate:t};this.setState(n),this.props.onChange(Object.assign({},n,{startDate:(0,g["default"])(this.state.startDate),activeInput:this.state.activeInput}))}else this.setState({endDateInputValue:(0,g["default"])(this.state.endDate).format(this.props.dateFormat)})}},{key:"handleStartDateInputChange",value:function(e){this.setState({startDateInputValue:e.target.value})}},{key:"handleEndDateInputChange",value:function(e){this.setState({endDateInputValue:e.target.value})}},{key:"handleStartDateInputKeyUp",value:function(e){13===e.keyCode&&p["default"].findDOMNode(this.refs[this._inputKeys.endDate]).focus()}},{key:"handleEndDateInputKeyUp",value:function(e){13===e.keyCode&&p["default"].findDOMNode(this.refs[this._inputKeys.startDate]).focus()}},{key:"handleDayClick",value:function(e,t){var n=(0,g["default"])(e.date),a={};"endDate"===this.state.activeInput?(a.endDate=n,a.endDateInputValue=(0,g["default"])(n).format(this.props.dateFormat),a.anchorMonth=(0,g["default"])(n).date(15),a.activeInput=this._inputKeys.startDate,a.startDate=(0,g["default"])(this.state.startDate)):(a.startDate=n,a.startDateInputValue=(0,g["default"])(n).format(this.props.dateFormat),a.anchorMonth=(0,g["default"])(n).add(1,"month").date(15),a.activeInput=this._inputKeys.endDate,a.endDate=n.isAfter(this.state.endDate,"day")?(0,g["default"])(n):(0,g["default"])(this.state.endDate)),this.setState(a),this.props.onChange({startDate:(0,g["default"])(a.startDate),endDate:(0,g["default"])(a.endDate),activeInput:a.activeInput})}},{key:"getCalendarsData",value:function(e){for(var t=[],n=this.props.numberOfCalendars;n>0;n--)t.push((0,g["default"])(e).subtract(n-1,"months"));var a=this,r=t.map(function(e){return{monthDate:e,daysMatrix:a.getDaysMatrix(e)}});return r}},{key:"getDaysMatrix",value:function(e){for(var t=7,n=(0,g["default"])(e).daysInMonth(),a=(0,g["default"])(e).startOf("month").day(),r=void 0,o=[],i=0,l={label:"",disabled:!0},s=0;i<n;s++){o.push([]);for(var u=0;u<t;u++)0===s&&u<a?o[s][u]=l:(i+=1,i<=n?(r=(0,g["default"])(e).date(i),o[s][u]={label:i,date:r,isInRange:(0,g["default"])(r).isBetween(this.state.startDate,this.state.endDate,"day","[]"),isToday:(0,g["default"])().isSame(r,"day"),disabled:this.isDisabledDate(r),blocked:this.isBlockedDate(r),isStart:r.isSame(this.state.startDate,"day"),isEnd:r.isSame(this.state.endDate,"day")}):o[s][u]=l)}return o}},{key:"isDisabledDate",value:function(e){var t=(0,g["default"])(e);return!!t.isAfter(this.props.maxDate,"day")||!("endDate"!==this.state.activeInput||!t.isBefore(this.state.startDate,"day"))}},{key:"isBlockedDate",value:function(e){if(!this.props.blockedDateRanges||this.props.blockedDateRanges.length<=0)return!1;var t=(0,g["default"])(e);return!!this.props.blockedDateRanges.some(function(e){return t.isBetween(e.startDate,e.endDate,"day","[]")})}},{key:"renderCalendar",value:function(e,t){var n=this,a=e.monthDate.month(),r=(0,g["default"])(e.monthDate).format("MMM YYYY"),o=c["default"].createElement("table",null,c["default"].createElement("thead",null,c["default"].createElement("tr",null,c["default"].createElement("td",{colSpan:"7",style:[t.cell.base,t.cell.monthName.base]},c["default"].createElement("button",{onClick:this.handleCalendarMonthClick.bind(this,e.monthDate),style:t.cell.monthName.button},r)))),c["default"].createElement("tbody",null,c["default"].createElement("tr",{key:"daysOfWeek"},this._daysOfWeek.map(function(e,n){return c["default"].createElement("td",{style:[t.cell.base,t.cell.dayName],key:n},e)})),e.daysMatrix.map(function(e,r){return c["default"].createElement("tr",{key:r},e.map(function(e,o){return c["default"].createElement("td",{className:(0,m["default"])("sc-dateRangePicker-day",{"sc-dateRangePicker-day-inRange":e.isInRange&&!e.disabled&&!e.blocked,"sc-dateRangePicker-day-blocked":e.blocked,"sc-dateRangePicker-day-disabled":e.disabled,"sc-dateRangePicker-day-emptyDay":""===e.label,"sc-dateRangePicker-day-startDate":e.isStart,"sc-dateRangePicker-day-endDate":e.isEnd}),style:t.cell.base,key:"m"+a+"w"+r+"d"+o,onClick:e.disabled||!n.props.allowBlockedDateSelection&&e.blocked?null:n.handleDayClick.bind(n,e)},c["default"].createElement("span",null,e.label))}))})));return o}},{key:"isPrevMonthDisabled",value:function(){if(this.props.minDate&&g["default"].isMoment(this.props.minDate)){var e=(0,g["default"])(this.state.anchorMonth).subtract(this.props.numberOfCalendars,"month");return e.endOf("month").isBefore(this.props.minDate,"day")}return!1}},{key:"isNextMonthDisabled",value:function(){if(this.props.maxDate&&g["default"].isMoment(this.props.maxDate)){var e=(0,g["default"])(this.state.anchorMonth).add(1,"month");return e.startOf("month").isAfter(this.props.maxDate,"day")}return!1}},{key:"render",value:function(){var e=l(this.props),t=this,n=this.getCalendarsData(this.state.anchorMonth),a=this.isNextMonthDisabled(),r=this.isPrevMonthDisabled();return c["default"].createElement("div",{className:"row sc-dateRangePicker"},c["default"].createElement(f.Style,{scopeSelector:".sc-dateRangePicker",rules:e.cssRules}),c["default"].createElement("div",{style:e.controls.container,className:"col-xs-4 col-sm-4 col-md-4"},c["default"].createElement("div",{style:e.controls.inputs.container},c["default"].createElement("input",{type:"text",id:this._inputKeys.startDate,onFocus:this.handleStartDateInputFocus.bind(this),onBlur:this.handleStartDateInputBlur.bind(this),onChange:this.handleStartDateInputChange.bind(this),value:this.state.startDateInputValue,style:[e.controls.inputs.input.base,e.controls.inputs.input.startDate,this.state.activeInput===this._inputKeys.startDate?e.controls.inputs.input.active:{}],onKeyUp:this.handleStartDateInputKeyUp.bind(this),ref:this._inputKeys.startDate}),c["default"].createElement("span",{style:{padding:"0 2px"}}," - "),c["default"].createElement("input",{type:"text",id:this._inputKeys.endDate,onFocus:this.handleEndDateInputFocus.bind(this),onBlur:this.handleEndDateInputBlur.bind(this),onChange:this.handleEndDateInputChange.bind(this),value:this.state.endDateInputValue,style:[e.controls.inputs.input.base,e.controls.inputs.input.endDate,this.state.activeInput===this._inputKeys.endDate?e.controls.inputs.input.active:{}],onKeyUp:this.handleEndDateInputKeyUp.bind(this),ref:this._inputKeys.endDate})),c["default"].createElement("div",{style:e.controls.presets.container},this.props.presetDateRanges.map(function(e,n){var a=e.startDate.isSame(t.state.startDate,"day")&&e.endDate.isSame(t.state.endDate,"day");return c["default"].createElement("a",{key:"preset"+n,className:(0,m["default"])("sc-dateRangePicker-preset",{"sc-dateRangePicker-preset-selected":a}),title:e.label,onClick:t.handlePresetSelect.bind(t,n)},e.label)})),c["default"].createElement("div",{style:e.legend.base},c["default"].createElement("table",{className:"table",style:e.legend.table.base},c["default"].createElement("tbody",null,c["default"].createElement("tr",null,c["default"].createElement("td",{className:"sc-dateRangePicker-day-blocked",style:e.legend.table.cell},"  "),c["default"].createElement("td",{style:e.legend.table.cell},E["default"].translate("Dates missing data")," ",c["default"].createElement(x["default"],{anchor:"date-selector-missing-dates",actions:this.props.actions}))),c["default"].createElement("tr",null,c["default"].createElement("td",{className:"sc-dateRangePicker-day-disabled",style:e.legend.table.cell},"  "),c["default"].createElement("td",{style:e.legend.table.cell},E["default"].translate("Unavailable dates")," ",c["default"].createElement(x["default"],{anchor:"date-selector-unavailable-dates",actions:this.props.actions}))))))),c["default"].createElement("div",{style:e.calendars.container,className:"col-xs-8 col-sm-8 col-md-8"},c["default"].createElement("table",null,c["default"].createElement("tbody",null,c["default"].createElement("tr",null,c["default"].createElement("td",{style:e.calendars.cell},c["default"].createElement("div",{style:[e.calendars.nav.prev,r?e.calendars.nav.disabled:null],onClick:r?null:this.handlePrevMonthClick.bind(this)},c["default"].createElement("img",{src:"/sitecore/shell/client/Speak/Assets/img/Speak/Common/32x32/dark_gray/navigate_left.png",className:"arrows"}))),n.map(function(n,a){return c["default"].createElement("td",{key:a,style:e.calendars.cell},t.renderCalendar(n,e.calendars.calendar))}),c["default"].createElement("td",{style:e.calendars.cell},c["default"].createElement("div",{style:[e.calendars.nav.next,a?e.calendars.nav.disabled:null],onClick:a?null:this.handleNextMonthClick.bind(this)},c["default"].createElement("img",{src:"/sitecore/shell/client/Speak/Assets/img/Speak/Common/32x32/dark_gray/navigate_right.png",className:"arrows"}))))))))}}]),t}(u.Component);P.defaultProps={style:{calendars:{calendar:{cell:{monthName:{}}},nav:{}},controls:{presets:{},inputs:{input:{}}}}},t["default"]=(0,h["default"])(P)},798:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{container:{margin:"0 0 0 0"},rowSeparator:{marginBottom:"30px"},sectionTitle:{marginBottom:"10px"},buttonsPanel:{position:"absolute",bottom:"-60px"},clearFilter:{enabled:{},disabled:{display:"none"}},matchingCountMessage:{position:"absolute",right:15,left:15,bottom:10,lineHeight:"20px",display:"block",textAlign:"right",borderTop:"1px solid #E3E3E3"}}}function u(e){var t=Object.assign({},A,w);return{actions:(0,b.bindActionCreators)(t,e)}}function c(e){return{appliedPathFilter:e.explorer.appliedPathFilter,tempPathFilter:e.visualFilters.tempPathFilter,appliedMetricFilter:e.explorer.appliedMetricFilter,tempMetricFilter:e.visualFilters.tempMetricFilter,tree:e.mutable.treeData,pageAnalyzerFilter:e.pageAnalyzer.pageId}}Object.defineProperty(t,"__esModule",{value:!0}),t.VisualFilters=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var p=n(300),f=r(p),h=n(476),y=r(h),m=n(454),b=n(461),g=n(554),v=r(g),E=n(637),A=a(E),O=n(624),w=a(O),_=n(786),x=r(_),P=n(799),C=r(P),S=n(812),k=r(S),R=n(610),T=(r(R),n(611)),D=(r(T),n(628)),M=(r(D),n(795)),L=r(M),N=n(543),j=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={tempPathFilter:[],appliedPathFilter:[],tempMetricFilter:[],appliedMetricFilter:[],matchCount:0},n}return l(t,e),d(t,[{key:"componentWillMount",value:function(){var e=this.props.tempPathFilter&&this.props.tempPathFilter.length>0?this.props.tempPathFilter:this.props.appliedPathFilter,t=this.props.tempMetricFilter&&this.props.tempMetricFilter.length>0?this.props.tempMetricFilter:this.props.appliedMetricFilter;this.setState({tempPathFilter:e,appliedPathFilter:this.props.appliedPathFilter,tempMetricFilter:t,appliedMetricFilter:this.props.appliedMetricFilter})}},{key:"componentWillReceiveProps",value:function(e){if(this.state.appliedPathFilter!==e.appliedPathFilter||this.state.tempPathFilter!==e.tempPathFilter){var t=this.props.tempPathFilter&&e.tempPathFilter.length>0?e.tempPathFilter:this.props.appliedPathFilter;this.setState({tempPathFilter:t,appliedPathFilter:e.appliedPathFilter})}if(this.state.appliedMetricFilter!==e.appliedMetricFilter||this.state.tempMetricFilter!==e.tempMetricFilter){var n=this.props.tempMetricFilter&&e.tempMetricFilter.length>0?e.tempMetricFilter:this.props.appliedMetricFilter;this.setState({tempMetricFilter:n,appliedMetricFilter:e.appliedMetricFilter})}}},{key:"handleFilterUpdate",value:function(e){this.setState({tempPathFilter:e})}},{key:"handleMetricFilterUpdate",value:function(e){this.setState({tempMetricFilter:e})}},{key:"handleApplyButtonClick",value:function(){var e={appliedPathFilter:this.state.tempPathFilter,appliedMetricFilter:this.state.tempMetricFilter};this.props.onApplySelection&&this.props.onApplySelection(e),this.props.actions.applyFilter(e.appliedPathFilter,e.appliedMetricFilter)}},{key:"handleCancelButtonClick",value:function(){this.props.onCancelSelection&&this.props.onCancelSelection()}},{key:"handleClearButtonClick",value:function(){this.setState({tempPathFilter:[],appliedPathFilter:[],tempMetricFilter:[],appliedMetricFilter:[]})}},{key:"handleResetPathFilterButtonClick",value:function(){this.setState({tempPathFilter:[]})}},{key:"handleResetMetricFilterButtonClick",value:function(){this.setState({tempMetricFilter:[]})}},{key:"handleGenerateButtons",value:function(e){return e.unshift({text:v["default"].translate("Clear all applied filters"),onClick:this.handleClearButtonClick.bind(this),disabled:!(this.state.appliedPathFilter&&this.state.appliedPathFilter.length>0||this.state.appliedMetricFilter&&this.state.appliedMetricFilter.length>0),style:{"float":"left",marginTop:"11px"}}),e}},{key:"updateMatchCount",value:function(e){this.setState({matchCount:e})}},{key:"render",value:function(){var e=s(),t=this.state.tempPathFilter,n=this.state.tempMetricFilter,a=!(0,N.arraysAreEqual)(this.props.appliedPathFilter.map(function(e){return e.rid}),t.map(function(e){return e.rid})),r=!(0,N.arraysAreEqual)(this.props.appliedMetricFilter.map(function(e){return e.range}),n.map(function(e){return e.range})),o=this.state.matchCount<=0||!(a||r),i=a||r?f["default"].createElement("span",{style:e.matchingCountMessage},v["default"].translate("Matching {0} nodes.").replace("{0}",this.state.matchCount)):null,l=this.props.pageAnalyzerFilter?null:f["default"].createElement("div",null,f["default"].createElement("div",{className:"row"},f["default"].createElement("div",{className:"col-md-6 col-sm-6 col-xs-6"},f["default"].createElement("h4",null,v["default"].translate("Path filter")," ",f["default"].createElement(L["default"],{anchor:"path-filter",actions:this.props.actions}))),f["default"].createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right"},f["default"].createElement("a",{href:"#",onClick:this.handleResetPathFilterButtonClick.bind(this),style:t.length>0?e.clearFilter.enabled:e.clearFilter.disabled},v["default"].translate("Reset")))),f["default"].createElement(C["default"],{tree:this.props.tree,onFilterSelected:this.handleFilterUpdate.bind(this),filter:t}));return f["default"].createElement("div",{style:e.container},l,f["default"].createElement("div",{className:"row"},f["default"].createElement("div",{className:"col-md-6 col-sm-6 col-xs-6"},f["default"].createElement("h4",null,v["default"].translate("Metrics filter")," ",f["default"].createElement(L["default"],{anchor:"metrics-filter",actions:this.props.actions}))),f["default"].createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 text-right"},f["default"].createElement("a",{href:"#",onClick:this.handleResetMetricFilterButtonClick.bind(this),style:n.length>0?e.clearFilter.enabled:e.clearFilter.disabled},v["default"].translate("Reset")))),f["default"].createElement(k["default"],{onMatchCount:this.updateMatchCount.bind(this),tree:this.props.tree,onFilterSelected:this.handleMetricFilterUpdate.bind(this),filter:n,pathFilter:t,pageAnalyzerFilter:this.props.pageAnalyzerFilter,isOpen:this.props.isOpen}),i,f["default"].createElement(x["default"],{applyButtonDisabled:o,onApplyButtonClick:this.handleApplyButtonClick.bind(this),onCancelButtonClick:this.handleCancelButtonClick.bind(this),style:e.buttonsPanel,onGenerateButtons:this.handleGenerateButtons.bind(this)}))}}]),t}(p.Component);t.VisualFilters=j,t["default"]=(0,m.connect)(c,u)((0,y["default"])(j))},799:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBuilder=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=n(572),f=(a(p),n(800)),h=a(f),y=n(610),m=a(y),b=n(788),g=(a(b),n(556)),v=a(g),E=n(808),A=a(E),O=n(554),w=(a(O),{main:{minHeight:"80px"},remove:{paddingLeft:"5px",cursor:"pointer"},add:{padding:"5px 0 5px 30px",cursor:"pointer"},select:{marginBottom:"10px",width:"500px"},elementInfoPanel:{position:"absolute",right:"530px",bottom:0,width:"270px",zIndex:1,transition:"opacity 250ms ease-in-out",paddingLeft:"10px",height:"150px",background:"white",borderTop:"1px solid #E2E2E2",borderBottom:"1px solid #E2E2E2",borderLeft:"1px solid #E2E2E2"}}),_=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={filter:[],pages:[],keyBase:0,activeNodeId:null},e}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.inflateFilter(this.props.filter),this.createPageLists(this.props.filter,this.props.tree)}},{key:"render",value:function(){for(var e=[],t=this.state.filter,n=0,a=this.state.pageLists,r=0;r<a.length;r++){var o=null!==t[r].value&&t[r].value.rid===this.state.activeNodeId;o&&(n=r+1),e.push(u["default"].createElement(h["default"],{key:r,active:o,pages:a[r],index:r,selectedPage:t[r].value,onPageChanged:this.handlePageChanged.bind(this),onClear:this.handleDelete.bind(this),style:w.select}))}var i=null;if(t.length>0&&t[0].value&&this.state.activeNodeId){var l=w.elementInfoPanel;l.top=40*n,i=u["default"].createElement("div",{style:l},u["default"].createElement(A["default"],{compact:"true",itemId:this.state.activeNodeId,load:v["default"].getItemData}))}return u["default"].createElement("div",{style:w.main,className:"row"},e,i)}},{key:"componentWillReceiveProps",value:function(e){this.props.filter!==e.filter&&this.inflateFilter(e.filter),this.props.filter===e.filter&&this.props.tree===e.tree||this.createPageLists(e.filter,e.tree)}},{key:"inflateFilter",value:function(e){var t=this.state.keyBase,n=[];e&&0!==e.length?(e.forEach(function(e){n.push({key:t++,value:e})}),n[n.length-1].value&&n.push({key:t++,value:null})):n.push({key:t++,value:null}),this.setState({keyBase:t,filter:n})}},{key:"deflateFilter",value:function(e){for(var t=[],n=0;n<e.length&&e[n].value;n++)t.push(e[n].value);return t}},{key:"createPageLists",value:function(e,t){if(!t||!t.root)return void this.setState({pageLists:[]});if(0===e.length)this.setState({pageLists:[t.getPagesAfterNode(t.root)]});else{var n=new m["default"](e.map(function(e){return[e.rid]}));this.setState({pageLists:n.getPageLists(t)})}}},{key:"handlePageChanged",value:function(e,t){var n=this.state.filter.slice();n[e].value=t,this.setState({filter:n,activeNodeId:t.rid}),this.handleFilterChanged(n)}},{key:"handleDelete",value:function(e){var t=this.state.filter.slice();t.splice(e,1),this.setState({filter:t,activeNodeId:null}),this.handleFilterChanged(t)}},{key:"handleAdd",value:function(e){var t=this.state.filter.slice();t.splice(e,0,{key:this.state.keyBase,value:null}),this.setState({keyBase:this.state.keyBase+1,filter:t}),this.handleFilterChanged(t)}},{key:"handleFilterChanged",value:function(e){this.props.onFilterSelected(this.deflateFilter(e))}},{key:"tree",get:function(){return this.props.tree&&this.props.tree.root?this.props.tree:null}}]),t}(s.Component);t.FilterBuilder=_,t["default"]=(0,d["default"])(_)},800:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=n(801),f=a(p);n(807);var h=n(554),y=a(h),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.pages.map(function(e){return{value:e.rid,label:e.name}});e.unshift({value:"",label:""});var t=this.props.pages.length,n=y["default"].translate("Select next element from {0} total.").replace("{0}",t);return 0===this.props.index&&(n=y["default"].translate("Select first element from {0} total.").replace("{0}",t)),u["default"].createElement("div",{style:b.container},this.props.active?u["default"].createElement("div",{id:"arrow",style:b.highlight.base},u["default"].createElement("div",{style:b.highlight.arrow})):null,u["default"].createElement(f["default"],{style:this.props.style,name:"list",placeholder:n,options:e,value:this.props.selectedPage?this.props.selectedPage.rid:n,onChange:this.onChange.bind(this)}))}},{key:"onChange",value:function(e){if(e&&this.props.onPageChanged){var t={name:e.label,rid:e.value};this.props.onPageChanged(this.props.index,t)}else!e&&this.props.onClear&&this.props.onClear(this.props.index)}}]),t}(s.Component),b={container:{position:"relative",paddingLeft:"13px"},highlight:{base:{position:"absolute",top:-5,bottom:0,backgroundColor:"#AADBEE",zIndex:0,height:48,width:"100%",left:0},arrow:{position:"absolute",right:-1,top:12,left:0,bottom:0,width:17,height:0,borderTop:"10px solid transparent",borderBottom:"10px solid transparent",borderLeft:"10px solid #ffffff"}}};t["default"]=(0,d["default"])(m)},807:function(e,t){},808:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(809),p=a(d),f=n(810),h=a(f),y=n(811),m=a(y),b=n(554),g=a(b),v=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={},e}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return this.props.itemId?"{00000000-0000-0000-0000-000000000000}"===this.state.item?c["default"].createElement(m["default"],{title:g["default"].translate("Corresponding item is no longer available."),text:g["default"].translate("It may have been deleted from the content database.")}):this.state.item&&this.state.item.id===this.props.itemId?c["default"].createElement(p["default"],l({node:this.state.item},this.props)):(this.props.load({itemId:this.props.itemId},function(t){e._isMounted&&e.setState(Object.assign(e.state,{item:t}))},function(t){e._isMounted&&e.setState(Object.assign(e.state,{item:"{00000000-0000-0000-0000-000000000000}"}))}),c["default"].createElement(h["default"],null)):null}}]),t}(u.Component);t["default"]=v},809:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{},link:{pointerEvents:"auto"},list:{listStyleType:"none",paddingLeft:"0",marginTop:"10px"},listItem:{margin:"0 0 3px 0"},propName:{fontWeight:"bold"},message:{display:"inline-block",marginRight:"10px",fontSize:"12px"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(543),m=h["default"].translate("Unavailable"),b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).call(this))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=[];if(!this.props.compact){var n=this.props.node.url?this.props.node.url:m;t.push(c["default"].createElement("li",{key:"url",style:e.listItem},c["default"].createElement("span",{style:e.propName},h["default"].translate("Url"),": "),c["default"].createElement("code",null,n)));var a=this.props.node.path?c["default"].createElement("a",{href:(0,y.getItemLink)(this.props.itemId),style:e.link,target:"_blank"},this.props.node.path,"   ",c["default"].createElement("img",{src:"data:image/gif;base64,R0lGODlhCwALAJEAAP///5mZmf///wAAACH5BAUUAAIALAAAAAALAAsAAAIdlIOJJgEPA3MKKGdRfjRtu3UcFGFXRVpTqh6nZBQAOw==",style:{marginTop:"-8px"}})):m;t.push(c["default"].createElement("li",{key:"path",style:e.listItem},c["default"].createElement("span",{style:e.propName},h["default"].translate("Content Tree Path"),": "),a))}var r=this.props.node.name?this.props.node.name:m,o=this.props.node.template?this.props.node.template:m;return c["default"].createElement("div",{style:e.container},c["default"].createElement("ul",{style:e.list},c["default"].createElement("li",{key:"name",style:e.listItem},c["default"].createElement("span",{style:e.propName},h["default"].translate("Item Name"),": "),c["default"].createElement("span",{style:e.propValue},r)),c["default"].createElement("li",{key:"template",style:e.listItem},c["default"].createElement("span",{style:e.propName},h["default"].translate("Item Template"),": "),c["default"].createElement("span",{style:e.propValue},o)),t))}}]),t}(u.Component);t["default"]=(0,p["default"])(b)},810:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=16;this.props.size&&(e=this.props.size);
var t="/sitecore/shell/client/Speak/Assets/img/Speak/ProgressIndicator/sc-spinner"+e+".gif";return u["default"].createElement("img",{style:this.props.style,src:t})}}]),t}(s.Component);p.defaultProps={style:{}},t["default"]=(0,d["default"])(p)},811:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{title:{color:"rgb(162, 29, 22)",fontSize:"14px",textAlign:"center"},text:{fontSize:"12px",textAlign:"center"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=this.props.title?this.props.title:h["default"].translate("No data found to display."),n=this.props.text?this.props.text:"";return c["default"].createElement("div",null,c["default"].createElement("h3",{style:e.title},t),c["default"].createElement("p",{style:e.text},n))}}]),t}(u.Component);y.defaultProps={style:{}},t["default"]=(0,p["default"])(y)},812:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(552),d=a(c),p=n(612),f=a(p),h=n(572),y=(a(h),n(610)),m=a(y),b=(0,f["default"])("sv","sc","vpv","evp"),g=500,v=200,E=10,A=2,O="#F2F2F2",w=4,_=5,x=30,P=["#F2F2F2","#A6A6A6"],C=1,S={main:{padding:0,margin:"0 0 30px 0",width:g+"px",height:v+"px"},coverAll:{position:"absolute",width:g+"px",height:v+"px"},slider:{cursor:"ew-resize"}},k=function(e){return e.metric.id},R=function(e){var t=[];return e.forEach(function(e){return e.forEach(function(e){return t.push(e)})}),t},T=function(e){var t=[];return e&&e.traverse(function(e){e.parent&&(e._synthetic?t=t.concat(e._nodes):t.push(e))},h.VisibilityModes.All),t},D=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"init",value:function(){this.container=d["default"].select(this.refs.main),this.container.selectAll("*").remove(),this.canvas=this.container.append("div").style(S.coverAll).append("canvas"),this.svg=this.container.append("svg").style(S.coverAll).attr("overflow","visible").attr("height",v).attr("width",g),this.collectNodesOrMatches(),this.sliders=this.getSliders(),this.positionAndMeasure(),this.drawSliders(),this.initDrag(),this.updateCanvas()}},{key:"positionAndMeasure",value:function(){function e(e){return e*(v-o)/(b.length-1)+o/2}var t=this.sliders,n=this.svg,a=n.append("g").attr("width",g).attr("height",v),r=Math.max(E+A/2,w/2),o=2*r,i=0;a.append("g").attr("class","names").selectAll("text").data(t).enter().append("text").attr("text-anchor","start").attr("alignment-baseline","middle").text(function(e){return e.metric.label}).each(function(){var e=this.getBoundingClientRect();i=Math.max(i,e.width),o=Math.max(o,e.height)}).attr("y",function(t,n){return e(n)});var l=a.append("g").attr("class","sliders").attr("transform","translate("+(i+r)+",0)").selectAll("g").data(t,k).enter().append("g").attr("class","slider").attr("transform",function(t,n){return"translate(0,"+e(n)+")"}),s=0;l.append("text").attr("class","min-label").attr("text-anchor","end").attr("alignment-baseline","middle").attr("dx",-r-_).text(function(e){return e.metric.formatValue(e.extent[0])}).each(function(e){e.labels=[this],s=Math.max(s,this.getBoundingClientRect().width)});var u=0;l.append("text").attr("class","max-label").attr("text-anchor","start").attr("alignment-baseline","middle").attr("dx",r+_).text(function(e){return e.metric.formatValue(e.extent[1])}).each(function(e){e.labels.push(this),u=Math.max(u,this.getBoundingClientRect().width)});var c=i+x+s+r+_;a.select("g.sliders").attr("transform","translate("+c+",0)"),this.sliderWidth=g-c-u-_-r,l.selectAll("text.max-label").attr("x",this.sliderWidth),this.canvas.attr("width",this.sliderWidth).attr("height",v-o).style({position:"absolute",left:c+"px",top:o/2+"px"}),this.dy=(v-o)/(b.length-1)}},{key:"getSliders",value:function(e){e=e||this.tree;var t=[],n=this.nodes||R(this.matches);return b.forEach(function(e){var a=d["default"].extent(n,function(t){return e.getValue(t)});t.push({metric:e,extent:a,color:e.color})}),t}},{key:"drawSliders",value:function(){var e=this.container.selectAll("g.slider").data(this.sliders,k);e.append("line").attr("stroke",function(e){return e.color}).attr("stroke-width",w).attr("stroke-linecap","round").attr("x2",this.sliderWidth).each(function(e){e.lines=[this]}),e.append("line").attr("stroke","rgba(0,0,0,0)").attr("stroke-width",2*E).attr("x2",this.sliderWidth).style(S.slider).each(function(e){e.lines.push(this)}),e.append("circle").attr("r",E).attr("fill",O).attr("stroke",function(e){return e.color}).attr("stroke-width",A).style(S.slider).each(function(e){e.anchors=[this]}),e.append("circle").attr("r",E).attr("fill",O).attr("stroke",function(e){return e.color}).attr("stroke-width",A).attr("cx",this.sliderWidth).style(S.slider).each(function(e){e.anchors.push(this)})}},{key:"initDrag",value:function(){function e(e){d["default"].select(e.lines[0]).attr("x1",e.pos[0]).attr("x2",e.pos[1]),d["default"].select(e.lines[1]).attr("x1",e.pos[0]).attr("x2",e.pos[1]);for(var t=0;t<2;t++){var n=e.scale(e.pos[t]+h[t]);d["default"].select(e.labels[t]).attr("x",e.pos[t]).text(e.metric.formatValue(n)),d["default"].select(e.anchors[t]).attr("cx",e.pos[t])}}function t(){var e=[];return u.sliders.forEach(function(t){var n={metricId:t.metric.id};n.range=[t.scale(t.pos[0]+h[0]),t.scale(t.pos[1]+h[1])],e.push(n)}),e}function n(){var e=[];return u.sliders.forEach(function(t){e.push({min:t.scale(t.pos[0]+h[0]),max:t.scale(t.pos[1]+h[1]),metric:t.metric})}),function(t){for(var n=0;n<e.length;n++){var a=e[n].metric.getValue(t);if(a<e[n].min||a>e[n].max)return!1}return!0}}function a(e){var t=!1;u.sliders.forEach(function(n){for(var a=n.extent,r=0;r<e.length;r++)if(e[r].metricId===n.metric.id){a=e[r].range;break}if(a){var o=Math.min(Math.max(a[0],n.extent[0]),n.extent[1]),i=Math.min(Math.max(a[1],n.extent[0]),n.extent[1]);a[0]===o&&a[1]===i||(t=!0,a=[o,i]);var l=Math.max(n.scale.invert(a[0])-h[0],0),s=Math.min(n.scale.invert(a[1])-h[1],c);n.pos=[l,s]}}),t&&this.handleChange(),u.updateSliders(),u.updateCanvas()}function r(){var e=this.sliderWidth;this.sliders.forEach(function(t){t.pos=[0,e]}),u.updateSliders(),u.updateCanvas()}function o(e){var t=Math.max(e.anchors.indexOf(this),0);return{x:e.pos[t],y:0}}function i(e){d["default"].event.sourceEvent.stopPropagation(),d["default"].select(this).classed("dragging",!0)}function l(t){switch(t.anchors.indexOf(this)){case 0:t.pos[0]=Math.min(Math.max(0,d["default"].event.x),t.pos[1]-2*f);break;case 1:t.pos[1]=Math.max(Math.min(p[1],d["default"].event.x),t.pos[0]+2*f);break;case-1:var n=t.pos[1]-t.pos[0];t.pos[0]=d["default"].event.x,t.pos[1]=t.pos[0]+n,t.pos[0]<0?(t.pos[0]=0,t.pos[1]=n):t.pos[1]>c&&(t.pos[1]=c,t.pos[0]=t.pos[1]-n)}e(t),u.updateCanvas()}function s(e){d["default"].select(this).classed("dragging",!1),u.handleChange()}var u=this,c=this.sliderWidth,p=[0,c],f=E+A/2,h=[f,-f];this.sliders.forEach(function(e){e.pos=p.slice(),e.scale=d["default"].scale.linear().domain([f,c-f]).range(e.extent)}),this.updateSlider=e,this.getRanges=t,this.getFilter=n,this.setRanges=a,this.reset=r;var y=d["default"].behavior.drag().origin(o).on("dragstart",i).on("drag",l).on("dragend",s);this.container.selectAll(".slider").selectAll("circle").call(y),this.container.selectAll(".slider").selectAll("line").call(y)}},{key:"updateCanvas",value:function(){function e(e){n.beginPath();for(var t=0;t<r.length;t++){var o=r[t].metric.getValue(e),i=r[t].scale.invert(o);0===t?n.moveTo(i,0):n.lineTo(i,t*a)}n.stroke()}var t=this.canvas.node(),n=t.getContext("2d"),a=this.dy,r=this.sliders,o=this.getFilter(),i=[],l=[];this.nodes?this.nodes.forEach(function(e){(o(e)?i:l).push(e)}):this.matches.forEach(function(e){for(var t=!0,n=0;n<e.length;n++)if(!o(e[n])){t=!1;break}var a=t?i:l;e.forEach(function(e){a.push(e)})}),n.clearRect(-10,-10,1e4,1e4),n.strokeStyle=P[0],n.lineWidth=C,l.forEach(e),n.strokeStyle=P[1],i.forEach(e),this.props.onMatchCount&&this.props.onMatchCount(i.length)}},{key:"updateSliders",value:function(){this.sliders.forEach(this.updateSlider)}},{key:"collectNodesOrMatches",value:function(){var e=this,t=this.tree,n=this.pathFilter;if(this.nodes=null,this.matches=null,!n||!n.length)return this.nodes=T(t),void(this.props.pageAnalyzerFilter&&(this.nodes=this.nodes.filter(function(t){return t.rid===e.props.pageAnalyzerFilter})));var a=n.map(function(e){return[e.rid]}),r=new m["default"](a);this.matches=r.getAllMatches(t)}},{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement("div",{style:S.main,ref:"main"}))}},{key:"componentDidUpdate",value:function(e,t){return this.props.isOpen&&!e.isOpen?(this.init(),void(this.props.filter&&this.props.filter.length&&this.setRanges(this.props.filter))):this.props.pathFilter!==e.pathFilter&&this.props.isOpen?(this.init(),void(this.props.filter&&this.props.filter.length&&this.setRanges(this.props.filter))):void(this.props.filter!==e.filter&&this.props.isOpen&&(this.props.filter&&this.props.filter.length?this.setRanges(this.props.filter):this.reset()))}},{key:"handleChange",value:function(){this.props.onFilterSelected&&this.props.onFilterSelected(this.getRanges())}},{key:"tree",get:function(){return this.props.tree.root?this.props.tree:null}},{key:"pathFilter",get:function(){return this.props.pathFilter}}]),t}(s.Component);t["default"]=D},813:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{actions:{downloadIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC/klEQVR42u2YTUhUURTHhylwGlpEEPRhBNEsjCCMCAQhcBmBDIGRbSXCTW7MBJkZ1HHlpk3iItwUbSIIYTaZEATRIhcFbdxMCykjCKKhKdL6H7hvOBzeu/d9vyvMgx+Dz3PO/f/f/Xj3vlyue3Wv7K5SqXQAjIInYBO0wQ74Bl6DeXDWRuF5MA6+gH8GdsFzcMYW8YfBCx/CJT/BDRvEvxfCmmAa9IOi6p1joAyegr+iN25lOWz4k6exPgd6DHkXwEeWR4YqiikwAk6kYWBciL8ZIPcQeGuYJ+tgKMnVhk/YuRA1joKvPubKQ1CI28CoGPM9IevcBp/ACpgFi2AN/BEmXsZqQq3zTvHpCHX201xyud8LHsueiNPAJivcn+A8uydMDMVVuM2KFhNeLHhPrEctRqtHXTyVfMIGetmc2A29xCLxMthyWSWOp7Bkr7H2RsIUuAp+C+HO6nE6BQOLrN2poMl9at/iFKD1/3rSQ0domGXt09v/SJDkVyyZVp+TGWxbVkTvfwaX/I57J4mG0LmM9l13wYYw8Z1GhylxmSUsWbB1vyK2H++0Q1nsGgctOX+cBy2m65ou+BcLPGjRCXCe6XqmC9xhgfssMtDHdG3pArdZ4KkIDTZdXoDNiJvAzllEF8hPXGMRGnTd60fc0jh1WrrACRb4gZxbYmCY1dkwHdp/sOB61gZoLoI3rM6CKWFSNFyXPYG/B8B9r5NZEANUQ9Ua8BD/gNVoG+emSmqIxmk4jTnJ+K2q+w03E34NKPFOW1Ux5ofFkydm/HZb0cVERwR+a+wexRXARXDHZIBiVGxBtFHT5YJHgTaUqicmxZxwM8BN5H0YyLuI1xmgYTMTejesJvaEWmK3PQx0TPgwUPDoXW6gpTZzC1HeRzpTNQ+RTk94DQMv8R0Dab3aKxqRjZD/q6RpoBzi67SJctofeldjFL+a5pE1Z5iMQWnE/i00RRPZiY/BRPbiI5iwR3wIE/aJD2DCXvE+TNgvXmNi74gXJqqKvSW+ewW4/gMzihjTe6LgaAAAAABJRU5ErkJggg==')",backgroundRepeat:"no-repeat",backgroundSize:"16px 16px"},clipboardIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAA3klEQVR42u3YsQ2DMBAFUBcMQuMZslgKOtiHodKzA4RrIlkRRsY+2ffhn/QLCoxecd8SznE4euO9/yplkyySWfJCBIRZJQMy4JepKiDz/U7yboYoBQSIKZJR0psGmGkhyNZqCNBpLSOA/IWPAWKHm2ut2oAAEZ79+XseTQMOzu+zESU7oNl+2QgrgBPEAAOIINbTe0JrB1JqsqCOZ3TAgg7YzO3A1csOCnB02cEBkr9VcwdK9oQAOAD8DhDAFiKALcQlfh4g5aeT6R0goAXA8u94Am4PqBkCbgPgcJzbATcbs2evrjTjAAAAAElFTkSuQmCC')",backgroundRepeat:"no-repeat",backgroundSize:"16px 16px"},settingsIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADIUlEQVR42u2ZS0hVURSGTdPoRd2eA+NWt+7AqGxkBREURkqgzhIKsaAHNJAbPQYVOAga1CCJICyxjLKIRg4aegoioyc0iaLCyCJK7QFqZY9/wb5wiHPWfpx93AVnw8e9HNf511refdbee52CgmQkIxnGI5vNjgc1oBP0gztgGmM/DrSCt+AKqCUNV8HTeAV+/8V55p49AfavwUoXCRwMCCZPXYB9GRgKsb/gIoFdTALvwRyfbQl4wNi3uEiglgmI6AHHBF0S2wMuElglCUqHrS4SWGAxgXVxBbmWKgQoCvjbPosJNIf4nwzmmQa/1+egX9TtbWAxOGsx+DznwERQAQ4BD3wDv0CTbvALmZIXJ6Mh1ymWRToJXHUQvIxrqsGnwM8IjvqoroN6sEZQL671RdClqZRWSaAIPDRwMAh2g2JGu1jYDBrqz1D9FWaDxxriT0FGY4pmxD2q+lREKnQf5JmS5d8/ZUoNqlyp4pSibUm5aSml5+G+xEF1hHWmWuGfUxZ1MeMWLM/CYukx+kdsrMYXGQcNFvQbGP3LUcWng2eMg7SFBNKM/hM6xZmIUpU4Cb4w4t9BoYUECoVWmJ9HYAtXnv1iS8F1Zkn3M2xx0zis4K8X5MAUTqhXc3FJWQg+penzFif2UVOsykICVZo+BzixHk2xdgsJtGv6vMeJndEUG9HZQoQUixFNn62c4Cax69MR9EyaU6Ip5hls6jbLhOlE1Aj2g+PUqBL1mBPt0ElCBN8h0fwA7oIb4BI4BXaYrguzwCeJw26V6SSmTbdE6zOYa/uAn1N8JtpApb9e03dxrU1xzufi6FDUGJygBgS6z1UmjgRuj+H594Tt4CvH+AD/lQ5UNhO46aAL0Wwr+BWO2ih0Dp5gqwfK7Rapg3EUvNAIjmxPS7oTNI0m2foVNgScDUZF67zE9/qoTmFur84vRvicT7vLADvytdH2g7zMdzp7SQ2rkHdg75gEukL6UIfBD2HzHCyPq1tN3eL19MnYdDIJNDH3lYPtYKrrN5c7mQSW/A+vXrMhwb8x2og5SqJFdNSGBPReuDF5s56Mf3D8Aeqb7gWilaNZAAAAAElFTkSuQmCC')",backgroundRepeat:"no-repeat",backgroundSize:"16px 16px"}},header:{base:{fontSize:"14px",borderBottom:"1px solid #ccc",lineHeight:"20px",padding:"5px"},headerMargin:{marginTop:"10px"}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(814),h=n(554),y=a(h),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l();return c["default"].createElement(f.ActionList,null,c["default"].createElement("div",{style:e.header.base},y["default"].translate("Export map data")),c["default"].createElement(f.ActionItem,{id:"action-DownloadMapData",text:y["default"].translate("Download as CSV"),style:{icon:e.actions.downloadIcon},onClick:this.props.actions.downloadMapData}),c["default"].createElement(f.ActionItem,{id:"action-CopyToClipboard",text:y["default"].translate("Copy to clipboard"),style:{icon:e.actions.clipboardIcon},onClick:this.props.actions.copyToClipboard}),c["default"].createElement("div",{style:[e.header.base,e.header.headerMargin]},y["default"].translate("Application settings")),c["default"].createElement(f.ActionItem,{id:"action-ToggleSettings",text:y["default"].translate("Settings"),style:{icon:e.actions.settingsIcon},onClick:this.props.actions.toggleSettings}))}}]),t}(u.Component);m.defaultProps={style:{},actions:{}},t["default"]=(0,p["default"])(m)},814:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(815);Object.defineProperty(t,"ActionList",{enumerable:!0,get:function(){return a(r)["default"]}});var o=n(816);Object.defineProperty(t,"ActionItem",{enumerable:!0,get:function(){return a(o)["default"]}})},815:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u["default"].createElement("div",{style:this.props.style},this.props.children)}}]),t}(s.Component);t["default"]=c},816:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{display:"block",padding:"4px 2px 3px",color:"#474747",textDecoration:"none",":hover":{backgroundColor:"#e3e3e3"}},icon:{border:0,position:"relative",width:16,height:16,"float":"left",top:"6px"},text:{padding:"7px 7px 7px 22px",whiteSpace:"normal",lineHeight:"16px"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(629),h=(a(f),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handleClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=l(),t=this.props.hideIcon?null:c["default"].createElement("div",{style:[e.icon,this.props.style.icon]}),n=this.props.hideText||""===this.props.text?null:c["default"].createElement("div",{style:[e.text,this.props.style.text]},this.props.text);return c["default"].createElement("a",{href:"javascript:;",id:this.props.id,style:[e.container,this.props.style.container],onClick:this.handleClick.bind(this)},t,n)}}]),t}(u.Component));h.defaultProps={style:{}},t["default"]=(0,p["default"])(h)},817:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e;return{container:{display:"inline-block",textAlign:"left",position:"relative"},list:{base:{position:"absolute",top:"42px",transition:"opacity 250ms ease-in",width:"400px",backgroundColor:"#ffffff",right:0,WebkitBoxShadow:"0px 0px 4px 4px rgba(0,0,0,0.1)",MozBoxShadow:"0px 0px 4px 4px rgba(0,0,0,0.1)",boxShadow:"0px 0px 4px 4px rgba(0,0,0,0.1)"},open:{opacity:1},closed:{opacity:0}},wrap:{clear:"both"},actions:{padding:"10px 15px 0"},messageCount:(e={base:{fontSize:"12px",marginRight:"15px",color:"#121212",cursor:"pointer",padding:"8px 13px",borderRadius:"50%",lineHeight:"16px",WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",userSelect:"none"},disabled:{cursor:"default"}},o(e,w.messageSeverity.error,{closed:{backgroundColor:"#a21d16",color:"#f0f0f0"},open:{color:"#A21D16",backgroundColor:"#F3A9A5"}}),o(e,w.messageSeverity.warning,{closed:{backgroundColor:"#e0b406",color:"#fefae6"},open:{color:"#B39005",backgroundColor:"#FCE99C"}}),o(e,w.messageSeverity.info,{closed:{backgroundColor:"#2694c0",color:"#ffffff"},open:{color:"#1E7699",backgroundColor:"#AADBEE"}}),e),messages:{last:{container:{borderBottom:"none",margin:"0 0 0 0"}}}}}function c(e){return{actions:(0,m.bindActionCreators)(E,e)}}function d(e){return{messages:e.messageBar.messages,isOpen:e.messageBar.isOpen,messageCount:e.messageBar.messages.length,timerVisible:e.messageBar.timerVisible,resetTimer:e.messageBar.resetTimer,timerPaused:e.messageBar.timerPaused}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=u;var f=n(300),h=r(f),y=n(454),m=n(461),b=n(476),g=r(b),v=n(624),E=a(v),A=n(554),O=r(A),w=n(596),_=n(818),x=n(787),P=(r(x),n(630)),C=r(P),S=n(634),k=n(543),R=n(639),T=r(R),D=3e3,M=function(e){function t(){return i(this,t),l(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),p(t,[{key:"handleMessageListMouseEnter",value:function(){this.props.timerVisible&&!this.props.timerPaused&&this.update({timerPaused:!0})}},{key:"handleMessageListMouseLeave",value:function(){this.props.timerVisible&&this.props.timerPaused&&this.update({timerPaused:!1})}},{key:"handleTimerStop",value:function(){this.update({isOpen:!1,timerVisible:!1,resetTimer:!1,timerPaused:!1})}},{key:"handleCloseClick",value:function(){this.update({isOpen:!1,timerVisible:!1,resetTimer:!1,timerPaused:!1})}},{key:"handleClickOutside",value:function(e){this.props.isOpen&&!this.props.timerVisible&&this.handleCloseClick()}},{key:"handleDismissClick",value:function(){this.update({isOpen:!1,timerVisible:!1,resetTimer:!1,timerPaused:!1}),window.setTimeout(this.props.actions.dismissAllMessages,250)}},{key:"handleMessageCountClick",value:function(){this.props.messageCount>0&&this.update({isOpen:!this.props.isOpen,timerVisible:!1,resetTimer:!1,timerPaused:!1})}},{key:"update",value:function(e){var t={isOpen:this.props.isOpen,timerVisible:this.props.timerVisible,resetTimer:this.props.resetTimer,timerPaused:this.props.timerPaused},n=Object.assign(t,e);this.props.actions.applyMessageBarChanges(n)}},{key:"getMaxSeverity",value:function(){var e=this.props.messages.reduce(function(e,t){return e===w.messageSeverity.error||t.severity===w.messageSeverity.error?w.messageSeverity.error:e===w.messageSeverity.warning||t.severity===w.messageSeverity.warning?w.messageSeverity.warning:w.messageSeverity.info},w.messageSeverity.info);return e}},{key:"render",value:function(){var e=this,t=u(),n=this.props.messages.map(function(n,a,r){return h["default"].createElement(_.Message,{key:a,severity:n.severity,text:n.text,id:n.id,help:n.help,actions:e.props.actions,style:a===r.length-1?t.messages.last:{}})}),a=[t.messageCount.base,0===this.props.messageCount?t.messageCount.disabled:{},this.props.messageCount>0?t.messageCount[this.getMaxSeverity()][this.props.isOpen?"open":"closed"]:{}],r=null;this.props.isOpen&&(r=h["default"].createElement("div",{style:[t.list.base,this.props.isOpen?t.list.open:t.list.closed,this.props.style],onMouseEnter:this.handleMessageListMouseEnter.bind(this),onMouseLeave:this.handleMessageListMouseLeave.bind(this)},h["default"].createElement(_.CountdownBar,{isOpen:this.props.timerVisible,reset:this.props.resetTimer,duration:D,onStop:this.handleTimerStop.bind(this),paused:this.props.timerPaused,direction:"right"}),h["default"].createElement("div",{className:"pull-right",style:t.actions},h["default"].createElement("a",{href:"#",onClick:this.handleDismissClick.bind(this)},O["default"].translate("Dismiss all")),h["default"].createElement("span",null," | "),h["default"].createElement("a",{href:"#",onClick:this.handleCloseClick.bind(this)},O["default"].translate("Close"))),h["default"].createElement("br",null),h["default"].createElement("div",{style:t.wrap},n)));var o=(0,k.newGuid)();return h["default"].createElement("div",{style:t.container,"data-tip":!0,"data-for":o},h["default"].createElement("span",{className:"badge",style:a,onClick:this.handleMessageCountClick.bind(this)},this.props.messages.length),r,this.props.isOpen?null:h["default"].createElement(C["default"],{id:o,position:"bottom"},S.tooltips.messageBar))}}]),t}(f.Component);M.defaultProps={style:{}},t["default"]=(0,y.connect)(d,c)((0,T["default"])((0,g["default"])(M)))},818:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(819);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return a(r)["default"]}});var o=n(820);Object.defineProperty(t,"CountdownBar",{enumerable:!0,get:function(){return a(o)["default"]}})},819:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e;return{container:{padding:"10px 0 15px 0",borderBottom:"1px solid #D6D6D6",margin:"0 0 5px 0"},icon:(e={base:{width:16,height:16,marginRight:"8px",display:"block"}},r(e,g.messageSeverity.error,{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAP9JREFUeNqkU8ERgjAQTBgKoAAfPixAPr6xBCoQOsBKsAOgAkvQtx8owIcPC6AD3MMNc5NBP8nMDlyye8ltLtZ447HbFPicgMxbugPd4flu9aRVwi0+V2Bv/o8ByJHoJUGkxL0SX4AUJCuQf84ZcnpqvidA4MQjcIRoWNsaPOHcgEROAl5qWXNDTvpL7CXpGZYRDZuP7cRCAmolqik05LhyTrFyu1MbSdIKooRxoQx03Eq0UsLEzNY7aqOELdZLb31abiFkRJ45S83cvSUKz5OFG7PDMtata5SyzhSMKx7N3Rl8jcGN5DzIKU7YprXnieuLnpyRmvDHZEOf80eAAQCRt36TJDfzjwAAAABJRU5ErkJggg==')"}),r(e,g.messageSeverity.warning,{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQBJREFUeNqkU8ENwjAMTPLg3RE6QrNB++fTCQobwCZsQDtBP/wpEzQjhA365oUNZ8mKIqhUS6e6F58dJ441icXb7kCfjlAnSxNhKPevXpNWCUv6jITK/LZAaClR5B+nxLMSXwiegiyDfXAGMTM03wSoXBAWCM+cl4JqBvvgPGIKaIxDz1K5ocCgtnsHWGCw1shOWOtwYJ9tazH5i/Kj8oNqp3PqtAez3iS2dknmVaZjndloTs1B7v651z4zbJVOMMmBZBI8CY8ML7GTxTVeQXjpD1XmP/zRgpQpXPQsED/i0FollrkIxHubjHKheh+SqrztE9ZlYuPmx2S3Pue3AAMAOWB7QFQ8SPUAAAAASUVORK5CYII=')"}),r(e,g.messageSeverity.info,{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARVJREFUeNpiZEADalMOJACpeCB2QJM6AMQLb+U4LEAWZETSqACk1gOxAQN+cAGIA4EGPYAbANV8HogFGIgDH4DYEGQIE1RgPS7Np1OsGTaEG6MLC0D1MLBA/YzX2dK8HNiEDUB6WaABhgE0RXjAGhddesqw7voLXGbHM2EJbbitgZriDHF60gxPP//AZYADEy6ZPfffMPCxsTCcevYBb2jiNICPnYXBTFqAYc+9t+QZ4KwoAqZPPSXsggPYJMyl+cF+l+bjALsGBzgAMmAhNhmQ8z/9/MOQayoPpnGAhbCUeB49LeSaKUBUXHyCy4ALwJRoCHNbIHpSnnzqAaGkHAgPRGjGMIRmFAYiMpMhSmaiJDsDBBgAWolaPTLwMdcAAAAASUVORK5CYII=')"}),e),text:{}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s;var c=n(300),d=a(c),p=n(476),f=a(p),h=n(629),y=(a(h),n(554)),m=(a(y),n(795)),b=a(m),g=n(596),v=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){if(""===this.props.text)return null;var e=s(),t=this.props.help?d["default"].createElement(b["default"],{anchor:this.props.help,actions:this.props.actions}):null;return d["default"].createElement("div",{style:[e.container,this.props.style.container],id:"msg"+this.props.id,className:"row"},d["default"].createElement("div",{className:"col-md-1"},d["default"].createElement("span",{style:[e.icon.base,e.icon[this.props.severity],this.props.style.icon]})),d["default"].createElement("div",{className:"col-md-11"},d["default"].createElement("span",{style:[e.text,this.props.style.text]},this.props.text,t)))}}]),t}(c.Component);v.defaultProps={style:{},text:""},t["default"]=(0,f["default"])(v)},820:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{base:{position:"absolute",height:"3px"},open:{display:"block",backgroundColor:"#2694c0"},closed:{display:"none"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.start=e.start.bind(e),
e.stop=e.stop.bind(e),e.tick=e.tick.bind(e),e.reset=e.reset.bind(e),e.state={duration:0,startTime:null,elapsed:0},e}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.setState({duration:this.props.duration})}},{key:"componentDidMount",value:function(){this.props.isOpen&&this.start()}},{key:"componentWillReceiveProps",value:function(e){this.state.startTime&&!this.props.paused&&e.paused?this.pause():this.state.startTime&&this.props.paused&&!e.paused?this.resume():(this.props.duration!==e.duration||e.reset||!this.props.isOpen&&e.isOpen)&&(this.setState({duration:e.duration}),this.reset(),this.start())}},{key:"componentWillUnmount",value:function(){this._interval&&window.cancelAnimationFrame(this._interval)}},{key:"start",value:function(){this._interval=window.requestAnimationFrame(this.tick),this.props.onStart&&this.props.onStart(),this.setState({startTime:Date.now()})}},{key:"tick",value:function(){var e=Date.now();this.setState({time:e}),this.props.onTick&&this.props.onTick(e),this.state.startTime&&e-this.state.startTime>this.state.duration?this.stop():this._interval=window.requestAnimationFrame(this.tick)}},{key:"reset",value:function(){window.cancelAnimationFrame(this._interval),this.props.onReset&&this.props.onReset()}},{key:"stop",value:function(){window.cancelAnimationFrame(this._interval),this.props.onStop&&this.props.onStop()}},{key:"pause",value:function(){window.cancelAnimationFrame(this._interval),this.props.onPause&&this.props.onPause();var e=this.state.time&&this.state.startTime?this.state.time-this.state.startTime:0;this.setState({paused:!0,elapsed:e})}},{key:"resume",value:function(){this._interval=window.requestAnimationFrame(this.tick),this.props.onResume&&this.props.onResume();var e=this.state.elapsed;this.setState({paused:!1,elapsed:0,startTime:Date.now()-e})}},{key:"render",value:function(){var e=l(),t=this.state.time&&this.state.startTime?this.state.time-this.state.startTime:0,n="right"===this.props.direction?Math.max(0,t/this.state.duration*100):Math.min(100,100-t/this.state.duration*100);return c["default"].createElement("div",{style:[e.base,this.props.isOpen?e.open:e.closed,{width:n+"%"}]})}}]),t}(u.Component);t["default"]=(0,p["default"])(f)},832:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{actions:(0,m.bindActionCreators)(F,e)}}function u(e){return{tree:e.mutable.treeData,mouseNodeId:e.mapView.mouseNodeId,position:e.mapView.popoverPosition}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.mapDispatchToProps=s;var d=n(300),p=n(476),f=r(p),h=n(453),y=(r(h),n(454)),m=n(461),b=n(552),g=r(b),v=(n(612),n(573)),E=(r(v),n(833)),A=r(E),O=n(835),w=r(O),_=n(628),x=(r(_),n(554)),P=r(x),C=n(837),S=n(808),k=r(S),R=n(845),T=r(R),D=n(556),M=r(D),L=n(543),N=n(795),j=r(N),I=n(624),F=a(I),B=1e3,V=300,G=function(e){return Math.sqrt(e*e/2)},H={main:{position:"absolute",left:0,top:0,right:0,bottom:0,margin:0,padding:0,pointerEvents:"none"},popover:{position:"absolute",margin:0,width:"360px",backgroundColor:"#FFF",padding:"0 10px",borderRadius:"2px",WebkitBoxShadow:"0 2px 8px rgba(0,0,0,.175)",boxShadow:"0 2px 8px rgba(0,0,0,.175)",zIndex:5},pointerImg:{position:"absolute",margin:0,zIndex:4},popoverHead:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},speakOverrides:{".sc .sc-tab-control.sc-tab-control-subtab":{overflow:"visible"},".sc .sc-tab-control.sc-tab-control-subtab > .sc-tab-control-nav-wrap > .sc-tab-control-nav > .sc-tab-control-tab-item.selected a:before":{borderWidth:"6px",marginLeft:"-6px"},".sc .sc-tab-control.sc-tab-control-subtab > .sc-tab-control-nav-wrap > .sc-tab-control-nav > .sc-tab-control-tab-item.selected a:after":{borderWidth:"5px",marginLeft:"-5px"},".sc .mapPopover .sc-tab-control-content.selected":{overflowX:"hidden",overflowY:"auto",height:"110px"}},tabList:{wrap:{},list:{minWidth:0,height:"30px",marginBottom:"15px",width:"100%"}},tab:{borderTop:"none",borderLeft:"none",borderRight:"none",minWidth:0,height:"30px",lineHeight:"30px",width:"50%",":focus":{outline:"none"}},firstTab:{borderLeftWidth:0},lastTab:{borderRightWidth:0},tabText:{padding:"0 7px",lineHeight:"29px",textDecoration:"none"},otherTable:{table:{marginBottom:"3px"},nameTableCell:{},header:{padding:"1px"},tableCell:{padding:"1px"}},toolbar:{paddingTop:"15px",paddingBottom:"15px"},bottom:{paddingTop:"5px",paddingBottom:"5px"}},U=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),c(t,[{key:"handleAddNodeToFilter",value:function(){var e=this.state.node;if(!e)throw"node != null";this.props.addNodeToFilter(e),this.popoverVisible(!1)}},{key:"handleNodePageAnalyzerOpen",value:function(){var e=this.state.node;if(!e)throw"node != null";window.open((0,L.getPageAnalyzerLink)(e.rid,e.name),"_blank"),this.popoverVisible(!1)}},{key:"popoverVisible",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(0===arguments.length)return this.main.style("opacity")-0===1;var n=e?1:0,a=e?"all":"none";this.main.transition().duration(0).delay(t).style("opacity",n),this.popover.transition().duration(0).delay(t).style("pointer-events",a)}},{key:"render",value:function(){var e=this.state.node,t=null,n=null,a=null;e&&(a=e.rid,t=e.name,n=React.createElement("div",{className:"row",style:{margin:"0px 0px 15px 0px"}},React.createElement("div",{className:"col-sm-6 col-md-6"},React.createElement(A["default"],{node:e,metrics:"sv,sc,vpv"})),React.createElement("div",{className:"col-sm-6 col-md-6"},React.createElement(A["default"],{node:e,metrics:"ev,ec,evpv"}))));var r=this.props.showButtons?React.createElement("div",{style:H.toolbar,className:"row"},React.createElement(T["default"],{node:e,filterAction:this.handleAddNodeToFilter.bind(this),openAction:this.handleNodePageAnalyzerOpen.bind(this)})):React.createElement("div",{style:H.bottom,className:"row"});return React.createElement("div",{style:H.main,ref:"main"},React.createElement("div",{style:H.popover,ref:"popover",className:"mapPopover"},React.createElement("h3",{style:H.popoverHead},t,e&&e._synthetic?React.createElement(j["default"],{anchor:"other-nodes",actions:this.props.actions}):null),React.createElement(p.Style,{rules:H.speakOverrides}),React.createElement(C.Tabs,{className:"sc-tab-control sc-tab-control-subtab",key:e?e.id:0},React.createElement(C.TabList,{wrapClassName:"sc-tab-control-nav-wrap",className:"sc-tab-control-nav",style:H.tabList},React.createElement(C.Tab,{key:"metrics",className:"sc-tab-control-tab-item first-tab",style:[H.tab,H.firstTab]},React.createElement(C.TabText,{style:H.tabText},P["default"].translate("Metrics"))),e&&!e._synthetic?React.createElement(C.Tab,{key:"item-data",className:"sc-tab-control-tab-item",style:[H.tab,H.lastTab]},React.createElement(C.TabText,{style:H.tabText},P["default"].translate("Item info"))):null,e&&e._synthetic?React.createElement(C.Tab,{key:"item-data",className:"sc-tab-control-tab-item",style:[H.tab,H.lastTab]},React.createElement(C.TabText,{style:H.tabText},P["default"].translate("Others"))):null),React.createElement(C.TabPanel,{key:"metrics",className:"sc-tab-control-content"},n),e&&!e._synthetic?React.createElement(C.TabPanel,{key:"item-data",className:"sc-tab-control-content"},React.createElement(k["default"],{itemId:a,load:M["default"].getItemData})):null,e&&e._synthetic?React.createElement(C.TabPanel,{key:"item-data",className:"sc-tab-control-content"},React.createElement(w["default"],{node:e,showTop:3,style:H.otherTable})):null),r),React.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFdJREFUeNpidHd3v8/AwKDAgB88YAISjQyEQSMjiCRg6oOdO3cqMsF04DMNRDDCeDhMBZsGYjCh68RmGoqJWEyFm4ZuIrqp+EMDZCrUZBTAgs9dyAAgwACIsBm2UHVrHQAAAABJRU5ErkJggg==",style:H.pointerImg,ref:"pointer"}))}},{key:"componentDidMount",value:function(){var e=this;this.popoverVisible(!1),this.popover.on("mouseover",function(){e.onMouseEnterPopover()}).on("mouseout",function(){e.onMouseLeavePopover()})}},{key:"componentWillReceiveProps",value:function(e){var t=this.tree?this.tree.findNode(e.mouseNodeId):null;if(this.tree!==e.tree&&this.popoverVisible(!1),t){var n=t!==this.state.node;this.setState({node:t,position:e.position,show:!0,nodeChanged:n})}else this.setState({show:!1})}},{key:"componentDidUpdate",value:function(){if(this.state.show){var e={top:0,left:0},t={top:0,left:0,transform:""};this.pointer.style(t);var n=this.refs.popover.getBoundingClientRect(),a=n.width,r=n.height,o=this.refs.pointer.getBoundingClientRect(),i=o.width,l=o.height,s=this.state.position,u="px";if(!s)return;var c=(Math.sqrt(i*i+l*l)-l)/2,d=Math.sqrt((l-i/2)*(l-i/2)/2),p=void 0,f=void 0;if(s.dx===s.dy?p=f=G(s.dx):(p=s.dx,f=s.dy),s.y-s.dy-l-r>0&&s.x-a/2>0&&s.x+a/2<s.width?(e.top=s.y-s.dy-l-r+u,e.left=s.x-a/2+u,t.top=s.y-s.dy-l+u,t.left=s.x-i/2+u):s.y+s.dy+l+r<s.height&&s.x-a/2>0&&s.x+a/2<s.width?(e.top=s.y+s.dy+l+u,e.left=s.x-a/2+u,t.top=s.y+s.dy+u,t.left=s.x-i/2+u,t.transform="rotate(180deg)"):s.x-s.dx-l-a>0&&s.y-r/2>0&&s.y+r/2<s.height?(e.top=s.y-r/2+u,e.left=s.x-s.dx-l-a+u,t.top=s.y-i/2+u,t.left=s.x-s.dx-l+u,t.transform="rotate(270deg)"):s.x+s.dx+l+a<s.width&&s.y-r/2>0&&s.y+r/2<s.height?(e.top=s.y-r/2+u,e.left=s.x+s.dx+l+u,t.top=s.y-i/2+u,t.left=s.x+s.dx+u,t.transform="rotate(90deg)"):s.x+p+d+a<s.width&&s.y+f+d+r<s.height?(e.top=s.y+f+d+u,e.left=s.x+p+d+u,t.top=s.y+f-c+u,t.left=s.x+p-c+u,t.transform="rotate(135deg)"):s.x-p-d-a>0&&s.y+f+d+r<s.height?(e.top=s.y+f+d+u,e.left=s.x-p-d-a+u,t.top=s.y+f-c+u,t.left=s.x-p+c-i+u,t.transform="rotate(225deg)"):s.x+p+d+a<s.width&&s.y-f-d-r>0?(e.top=s.y-f-d-r+u,e.left=s.x+p+d+u,t.top=s.y-f+c-l+u,t.left=s.x+p-c+u,t.transform="rotate(45deg)"):s.x-p-d-a>0&&s.y-f-d-r>0?(e.top=s.y-f-d-r+u,e.left=s.x-p-d-a+u,t.top=s.y-f+c-l+u,t.left=s.x-p+c-i+u,t.transform="rotate(315deg)"):(e.top=s.y-s.dy-l-r+u,e.left=s.x-a/2+u,t.top=s.y-s.dy-l+u,t.left=s.x-i/2+u),this.popover.style(e),this.pointer.style(t),this.state.nodeChanged)this.popoverVisible(!1),this.popoverVisible(!0,B);else{var h=this.popoverVisible()?0:B;this.popoverVisible(!0,h)}}else{var y=this.popoverVisible()?V:0;this.popoverVisible(!1,y)}}},{key:"getItemData",value:function(e){var t=this;M["default"].getItemData({itemId:e},function(e){t.setState(Object.assign(t.state,{item:e,nodeChanged:!1}))},function(e){t.setState(Object.assign(t.state,{item:null}))})}},{key:"onMouseEnterPopover",value:function(){this.popoverVisible(!0)}},{key:"onMouseLeavePopover",value:function(){this.popoverVisible(!1,V)}},{key:"tree",get:function(){return this.props.tree.root?this.props.tree:null}},{key:"main",get:function(){return g["default"].select(this.refs.main)}},{key:"popover",get:function(){return g["default"].select(this.refs.popover)}},{key:"pointer",get:function(){return g["default"].select(this.refs.pointer)}}]),t}(d.Component);t["default"]=(0,y.connect)(u,s)((0,f["default"])(U))},833:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(476),p=a(d),f=n(612),h=a(f),y=n(834),m=a(y),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.metrics.split(","),t=h["default"].apply(void 0,r(e)),n=this.props.node,a=t.map(function(e,a){var r=a===t.length-1?g.last:g.normal;a++;var o=e.formatValue(e.getValue(n)),i=e.getValue(n);return c["default"].createElement(m["default"],{key:a,label:e.label,value:o,rawValue:i,tooltip:e.description,style:r})});return c["default"].createElement("div",{className:"metric-set"},a)}}]),t}(u.Component),g={normal:{container:{borderBottom:"1px solid #D6D6D6"}},last:{container:{}}};t["default"]=(0,p["default"])(b)},834:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{backgroundColor:"transparent",marginTop:2,marginBottom:2},label:{fontSize:"12px",color:"#5E5E5E",paddingLeft:"0px",lineHeight:"28px",whiteSpace:"nowrap",cursor:"default",width:"100%",overflow:"hidden",textOverflow:"ellipsis"},value:{fontSize:"18px",color:"#474747",paddingRight:"0px",lineHeight:"28px",cursor:"default"},metricTooltip:{display:"inline-block"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(630),h=a(f),y=n(554),m=(a(y),n(543)),b=n(552),g=a(b),v=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=(0,m.newGuid)(),n=(0,m.newGuid)(),a=g["default"].format(",.0f"),r=this.props.rawValue>1e3?a(this.props.rawValue):this.props.rawValue,o=this.props.tooltip?c["default"].createElement(h["default"],{id:t,position:"left"},this.props.tooltip):null,i=r?c["default"].createElement(h["default"],{id:n,position:"left"},r):null;return c["default"].createElement("div",{className:"row",style:[e.container,this.props.style.container]},c["default"].createElement("div",{className:"col-md-8 col-sm-8 col-xs-8 text-left"},c["default"].createElement("div",{style:[e.label,this.props.style.label,o?{cursor:"help"}:null],"data-tip":!0,"data-for":t},this.props.label),o),c["default"].createElement("div",{className:"col-md-4 col-sm-4 col-xs-4 text-right"},c["default"].createElement("div",{style:[e.value,this.props.style.value,i?{cursor:"help"}:null]},c["default"].createElement("div",{"data-tip":!0,"data-for":n,style:e.metricTooltip},this.props.value)),i))}}]),t}(u.Component);v.defaultProps={style:{}},t["default"]=(0,p["default"])(v)},835:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{more:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChildTable=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(573),h=a(f),y=n(612),m=a(y),b=n(554),g=a(b),v=n(613),E=n(836),A=a(E),O=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=this.props.node,n=(t.children||t._nodes||[]).slice();if(n.length&&n[n.length-1]._synthetic){var a=n[n.length-1];n.pop(),n.push.apply(n,a._nodes)}var r=null;if(this.props.showTop){var o=n.length-this.props.showTop;o>0&&(r=c["default"].createElement("div",{style:e.more},g["default"].translate("{0} more nodes.").replace("{0}",o))),n.splice(this.props.showTop)}var i=[],s=new m["default"]("sc","sv","vpv");n.forEach(function(e){var t=[e.name];s.forEach(function(n){t.push(n.formatValue(n.getValue(e)))}),i.push(t)});var u=new m["default"]("ec","ev","evpv");!r&&t.ec>0&&!function(){var e=["(exits)"];new h["default"]({name:"(exits)",sc:t.ec,sv:t.ev,vpv:t.ev/t.ec});u.forEach(function(n){e.push(n.formatValue(n.getValue(t)))}),i.push(e)}();var d=[g["default"].translate("Name"),g["default"].translate("Visits"),g["default"].translate("Value"),g["default"].translate("V.p.v")],p=[g["default"].translate("Node name"),v.metricNames.visits.desc,v.metricNames.value.desc,v.metricNames.valuePerVisit.name+". "+v.metricNames.valuePerVisit.desc];return c["default"].createElement("div",null,c["default"].createElement(A["default"],{title:this.props.title,style:this.props.style,rowData:i,headerLabels:d,headerTooltips:p}),r)}}]),t}(u.Component);t.ChildTable=O,t["default"]=(0,p["default"])(O)},836:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{title:{fontSize:"21px"},header:{cursor:"default"},tableCell:{maxWidth:"120px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"default"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.DataTable=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=(a(f),n(811)),y=a(h),m=n(810),b=a(m),g=n(630),v=a(g),E=n(543),A=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=l(),n=this.props.headerTooltips,a=this.props.headerLabels.map(function(a,r){var o=(0,E.newGuid)(),i=n&&n.length-1>=r&&n[r]?n[r]:null;return i?c["default"].createElement("th",{key:r,style:[t.header,e.props.style.header,{cursor:"pointer"}],"data-tip":!0,"data-for":o},a,c["default"].createElement(v["default"],{key:o,id:o,position:"left"},i)):c["default"].createElement("th",{key:r,style:[t.header,e.props.style.header]},a)});if(this.props.loading)return c["default"].createElement(b["default"],null);if(this.props.rowData.length<=0)return c["default"].createElement(y["default"],null);var r=[],o=[];return this.props.rowData.map(function(n,a){r.push(c["default"].createElement("tr",{key:a},n.map(function(n,a){var r="",i=[t.tableCell,e.props.style.tableCell];return 0===a&&(i.push([t.nameTableCell]),i.push([e.props.style.nameTableCell]),r=(0,E.newGuid)(),o.push(c["default"].createElement(v["default"],{key:r,id:r,position:"left"},n))),c["default"].createElement("td",{key:a,style:i,"data-tip":!0,"data-for":r},n)})))}),c["default"].createElement("div",{style:[t.container,this.props.style.container]},c["default"].createElement("div",{style:[t.title,this.props.style.title]},this.props.title),c["default"].createElement("table",{className:"table",style:[t.table,this.props.style.table]},c["default"].createElement("thead",null,c["default"].createElement("tr",null,a)),c["default"].createElement("tbody",null,r)),c["default"].createElement("div",null,o))}}]),t}(u.Component);A.defaultProps={style:{}},t.DataTable=A,t["default"]=(0,p["default"])(A)},837:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(838);Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return a(r)["default"]}});var o=n(842);Object.defineProperty(t,"TabList",{enumerable:!0,get:function(){return a(o)["default"]}});var i=n(841);Object.defineProperty(t,"Tab",{enumerable:!0,get:function(){return a(i)["default"]}});var l=n(843);Object.defineProperty(t,"TabPanel",{enumerable:!0,get:function(){return a(l)["default"]}});var s=n(844);Object.defineProperty(t,"TabText",{enumerable:!0,get:function(){return a(s)["default"]}})},838:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return"LI"===e.nodeName&&"tab"===e.getAttribute("role")}function s(e){return"true"===e.getAttribute("aria-disabled")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(300),d=a(c),p=n(453),f=n(629),h=(a(f),n(839)),y=(n(840),n(476)),m=a(y),b=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state=n.copyPropsToState(n.props),n}return i(t,e),u(t,[{key:"getChildContext",value:function(){return{forceRenderTabPanel:this.props.forceRenderTabPanel}}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.copyPropsToState(e))}},{key:"handleClick",value:function(e){var t=e.target,n=this;do if(l(t)){if(s(t))return;var a=[].slice.call(t.parentNode.children).indexOf(t);return void n.setSelected(a,!0)}while(null!==(t=t.parentNode))}},{key:"handleKeyDown",value:function(e){if(l(e.target)){var t=this.state.selectedIndex,n=!1;37===e.keyCode||38===e.keyCode?(t=this.getPrevTab(t),n=!0):39!==e.keyCode&&40!==e.keyCode||(t=this.getNextTab(t),n=!0),n&&e.preventDefault(),this.setSelected(t,!0)}}},{key:"setSelected",value:function(e,t){if(e!==this.state.selectedIndex&&!(e<0||e>=this.getTabsCount())){var n=this.state.selectedIndex;this.setState({selectedIndex:e,focus:t===!0}),"function"==typeof this.props.onSelect&&this.props.onSelect(e,n)}}},{key:"getNextTab",value:function(e){for(var t=this.getTabsCount(),n=e+1;n<t;n++){var a=this.getTab(n);if(!s((0,p.findDOMNode)(a)))return n}for(var r=0;r<e;r++){var o=this.getTab(r);if(!s((0,p.findDOMNode)(o)))return r}return e}},{key:"getPrevTab",value:function(e){for(var t=e;t--;){var n=this.getTab(t);if(!s((0,p.findDOMNode)(n)))return t}for(t=this.getTabsCount();t-- >e;){var a=this.getTab(t);if(!s((0,p.findDOMNode)(a)))return t}return e}},{key:"getTabsCount",value:function(){return this.props.children&&this.props.children[0]?d["default"].Children.count(this.props.children[0].props.children):0}},{key:"getPanelsCount",value:function(){return d["default"].Children.count(this.props.children.slice(1))}},{key:"getTabList",value:function(){return this.refs.tablist}},{key:"getTab",value:function(e){return this.refs["tabs-"+e]}},{key:"getPanel",value:function(e){return this.refs["panels-"+e]}},{key:"getChildren",value:function(){for(var e=0,t=0,n=this.props.children,a=this.state,r=this.tabIds=this.tabIds||[],o=this.panelIds=this.panelIds||[],i=this.tabIds.length-this.getTabsCount();i++<0;)r.push((0,h.uuid)()),o.push((0,h.uuid)());return d["default"].Children.map(n,function(n){if(null===n)return null;var i=null;if(0===t++)i=(0,c.cloneElement)(n,{ref:"tablist",children:d["default"].Children.map(n.props.children,function(t){if(null===t)return null;var n="tabs-"+e,i=r[e],l=o[e],s=a.selectedIndex===e,u=s&&a.focus;return e++,(0,c.cloneElement)(t,{ref:n,id:i,panelId:l,selected:s,focus:u})})}),e=0;else{var l="panels-"+e,s=o[e],u=r[e],p=a.selectedIndex===e;e++,i=(0,c.cloneElement)(n,{ref:l,id:s,tabId:u,selected:p})}return i})}},{key:"render",value:function(){var e=this;return this.state.focus&&setTimeout(function(){e.state.focus=!1},0),d["default"].createElement("div",{className:this.props.className,onClick:this.handleClick.bind(this),onKeyDown:this.handleKeyDown.bind(this)},this.getChildren())}},{key:"copyPropsToState",value:function(e){var t=e.selectedIndex;return t===-1&&(t=this.state&&this.state.selectedIndex?this.state.selectedIndex:0),{selectedIndex:t,focus:e.focus}}}]),t}(c.Component);b.displayName="Tabs",b.childContextTypes={forceRenderTabPanel:c.PropTypes.bool},b.defaultProps={selectedIndex:-1,focus:!1,focusRenderTabPanel:!1},t["default"]=(0,m["default"])(b)},839:function(e,t){"use strict";function n(){return"react-tabs-"+a++}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=n;var a=0},840:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=void 0,a=0,r=0,o=e[t];return i["default"].Children.forEach(o,function(e){null!==e&&(e.type===c["default"]?i["default"].Children.forEach(e.props.children,function(e){null!==e&&(e.type===s["default"]?a++:n=new Error("Expected `Tab` but found `"+(e.type.displayName||e.type)+"`"))}):"TabPanel"===e.type.displayName?r++:n=new Error("Expected `TabList` or `TabPanel` but found `"+(e.type.displayName||e.type)+"`"))}),a!==r&&(n=new Error("There should be an equal number of `Tabs` and `TabPanels`. Received "+a+" `Tabs` and "+r+" `TabPanels`.")),n}Object.defineProperty(t,"__esModule",{value:!0}),t.childrenPropType=r;var o=n(300),i=a(o),l=n(841),s=a(l),u=n(842),c=a(u)},841:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){t.selected?(e.setAttribute("tabindex",0),e.setAttribute("selected","selected")):(e.removeAttribute("tabindex"),e.removeAttribute("selected"))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(453),p=n(629),f=a(p),h=n(476),y=a(h),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){l((0,d.findDOMNode)(this),this.props)}},{key:"componentDidUpdate",value:function(){l((0,d.findDOMNode)(this),this.props)}},{key:"render",value:function(){return c["default"].createElement("li",{className:(0,f["default"])(this.props.className,{selected:this.props.selected,disabled:this.props.disabled}),role:"tab",id:this.props.id,"aria-selected":this.props.selected?"true":"false","aria-expanded":this.props.selected?"true":"false","aria-disabled":this.props.disabled?"true":"false","aria-controls":this.props.panelId,style:this.props.style},this.props.children)}}]),t}(u.Component);m.displayName="Tab",m.defaultProps={focus:!1,selected:!1,id:null,panelId:null},t["default"]=(0,y["default"])(m)},842:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(629),d=(a(c),n(476)),p=a(d),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u["default"].createElement("div",{className:this.props.wrapClassName,style:this.props.style.wrap},u["default"].createElement("ul",{className:this.props.className,role:"tablist",style:this.props.style.list},this.props.children))}}]),t}(s.Component);f.displayName="TabList",f.defaultProps={style:{}},t["default"]=(0,p["default"])(f)},843:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(629),d=a(c),p=n(476),f=a(p),h=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.context.forceRenderTabPanel||this.props.selected?this.props.children:null,t=[this.props.style,{display:this.props.selected?null:"none"}];return u["default"].createElement("div",{className:(0,d["default"])(this.props.className,{selected:this.props.selected}),role:"tabpanel",id:this.props.id,"aria-labeledby":this.props.tabId,style:t},e)}}]),t}(s.Component);h.displayName="TabPanel",h.contextTypes={forceRenderTabPanel:s.PropTypes.bool},h.defaultProps={selected:!1,id:null,tabId:null},t["default"]=(0,f["default"])(h)},844:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u["default"].createElement("a",{href:"javascript:;",style:this.props.style},u["default"].createElement("span",{className:"sc-tab-control-header-content"},this.props.children))}}]),t}(s.Component);t["default"]=(0,d["default"])(p)},845:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{button:{base:{marginRight:"15px",width:"100%",textOverflow:"ellipsis",overflow:"hidden"},icon:{display:"inline-block",fontSize:"18px",width:"18px",height:"18px",margin:"0 3px 0 0"}},openInPageAnalyzer:{icon:{},button:{}},setFilter:{icon:{},button:{}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(628),h=a(f),y=n(554),m=a(y),b=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.node&&(void 0===this.props.node||this.props.node._id!==e.node._id)}},{key:"render",value:function(){if(!this.props.node)return null;if(this.props.node._synthetic)return null;if(0===this.props.node.depth)return null;var e=l();return c["default"].createElement("div",null,c["default"].createElement("div",{className:"col-sm-6 col-md-6"},c["default"].createElement(h["default"],{id:"nodeFilterButton",title:m["default"].translate("Set this node as filter"),text:m["default"].translate("Set as filter"),buttonStyle:[e.button.base,e.setFilter.button],onClick:this.props.filterAction})),c["default"].createElement("div",{className:"col-sm-6 col-md-6"},c["default"].createElement(h["default"],{id:"action-SaveAsFunnel",title:m["default"].translate("Open in Page Analyzer"),text:m["default"].translate("Open in Page Analyzer"),buttonStyle:[e.button.base,e.openInPageAnalyzer.button],onClick:this.props.openAction,isOpen:!1})))}}]),t}(u.Component);b.defaultProps={style:{},actions:{}},t["default"]=(0,p["default"])(b)},848:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(t,n){t({type:m["default"].MAPVIEW.NODE_CLICK,payload:{nodeId:e._id,itemId:e.rid}}),t((0,b.fetchPathContacts)(e.getPath()))}}function o(){return{type:m["default"].MAPVIEW.NODE_CLICK,payload:{nodeId:-1}}}function i(e){return function(t,n){t({type:m["default"].MAPVIEW.PATH_SELECT,payload:{nodeId:e._id}}),t((0,b.fetchPathContacts)(e.getPath()))}}function l(e){return{type:m["default"].MAPVIEW.NODE_DBLCLICK,payload:{nodeId:e._id}}}function s(e,t){return{type:m["default"].MAPVIEW.NODE_MOUSE_OVER,payload:{nodeId:e._id,position:t}}}function u(e){return{type:m["default"].MAPVIEW.NODE_MOUSE_OUT,payload:{nodeId:e._id}}}function c(e){return{type:m["default"].MAPVIEW.NODE_COLLAPSER_CLICK,payload:{nodeId:e._id}}}function d(e,t){return{type:m["default"].MAPVIEW.COLUMN_HEADER_CLICK,payload:{sortBy:e,sortColIndex:t}}}function p(e){return function(t,n){t({type:m["default"].APP_BAR.SET_FILTER,payload:{path:[e]}})}}function f(e){return{type:m["default"].MAPVIEW.TOGGLE_LABELS,payload:{showLabels:e}}}function h(e){return{type:m["default"].MAPVIEW.TOGGLE_LEGEND,payload:{showLegend:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeClick=r,t.unselectPath=o,t.selectPath=i,t.nodeDblClick=l,t.nodeMouseOver=s,t.nodeMouseOut=u,t.nodeCollapserClick=c,t.columnHeaderClick=d,t.addNodeToFilter=p,t.toggleLabels=f,t.toggleLegend=h;var y=n(541),m=a(y),b=n(624);n(580)},850:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(851);Object.defineProperty(t,"OverlayPanel",{enumerable:!0,get:function(){return a(r)["default"]}});var o=n(852);Object.defineProperty(t,"OverlayPanelHeader",{enumerable:!0,get:function(){return a(o)["default"]}});var i=n(853);Object.defineProperty(t,"OverlayPanelContent",{enumerable:!0,get:function(){return a(i)["default"]}})},851:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.menuWidth.replace("px","");return{outer:{position:"absolute",zIndex:2,top:0,right:0,width:t+"px",height:"100%",boxSizing:"border-box"},right:{right:e.visible?0:-t+"px"},left:{left:-t+"px"},panel:{position:"relative",display:"block",height:"100%",overflowY:"auto"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(629),h=(a(f),n(852)),y=(a(h),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"getChildContext",value:function(){return{onClose:this.props.onClose}}},{key:"render",value:function(){var e=l(this.props);return c["default"].createElement("div",{style:[e.outer,e[this.props.alignment]]},c["default"].createElement("div",{className:"sc-ovelaypanel",style:e.panel},this.props.children))}}]),t}(u.Component));y.defaultProps={style:{},alignment:"right",menuWidth:"300px"},y.childContextTypes={onClose:u.PropTypes.func},t["default"]=(0,p["default"])(y)},852:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{header:{lineHeight:"46px"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(629),h=(a(f),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handleCloseClick",value:function(){this.context.onClose&&this.context.onClose()}},{key:"render",value:function(){var e=l();return c["default"].createElement("div",{className:"sc-ovelaypanel-header",style:e.header},c["default"].createElement("span",{className:"sc-text x-large"},this.props.text),c["default"].createElement("a",{className:"sc-ovelaypanel-close",href:"javascript:;",onClick:this.handleCloseClick.bind(this)}),this.props.children)}}]),t}(u.Component));h.defaultProps={style:{}},h.contextTypes={onClose:u.PropTypes.func},t["default"]=(0,p["default"])(h)},853:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{content:{right:0,paddingTop:0}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l();return c["default"].createElement("div",{className:"sc-ovelaypanel-content",style:[e.content,this.props.style]},this.props.children)}}]),t}(u.Component);f.defaultProps={style:{overflowY:"hidden"}},t["default"]=(0,p["default"])(f)},856:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e="1px solid #e3e3e3";return{container:{marginBottom:"15px",padding:"0 15px"},tabButton:{base:{backgroundColor:"#fff",textOverflow:"ellipsis",overflow:"hidden"},left:{MozBorderRadius:"6px 0px 0px 6px",WebkitBorderRadius:"6px 0px 0px 6px",borderRadius:"6px 0px 0px 6px",border:e},right:{MozBorderRadius:"0px 6px 6px 0px",WebkitBorderRadius:"0px 6px 6px 0px",borderRadius:"0px 6px 6px 0px",borderRight:e,borderTop:e,borderBottom:e,borderLeft:"0px"}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(628),h=a(f),y=n(591),m=n(554),b=a(m),g=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handlePanelButtonClick",value:function(e){this.context.actions.changeContextPanePanel(e)}},{key:"render",value:function(){var e=l();return c["default"].createElement("div",{style:e.container,className:"row"},c["default"].createElement(h["default"],{key:y.panelNames.reports,onClick:this.handlePanelButtonClick.bind(this,y.panelNames.reports),isOpen:this.context.activePanel===y.panelNames.reports,text:b["default"].translate("Reports"),className:"col-xs-6 col-sm-6 col-md-6",buttonStyle:[e.tabButton.base,e.tabButton.left]}),c["default"].createElement(h["default"],{key:y.panelNames.funnels,onClick:this.handlePanelButtonClick.bind(this,y.panelNames.funnels),isOpen:this.context.activePanel===y.panelNames.funnels,text:b["default"].translate("Funnels"),className:"col-xs-6 col-sm-6 col-md-6",buttonStyle:[e.tabButton.base,e.tabButton.right]}))}}]),t}(u.Component);g.contextTypes={activePanel:u.PropTypes.string,actions:u.PropTypes.object},t["default"]=(0,p["default"])(g)},859:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=n(860),f=a(p),h=(n(612),n(573)),y=(a(h),{main:{padding:0,marginBottom:"10px"},metric:{whiteSpace:"nowrap",display:"inline-block",lineHeight:"20px",padding:"5px",marginRight:"5px",cursor:"pointer",backgroundColor:"#fff",boxShadow:"none",borderRadius:"0px",opacity:"0.5",MsFilter:"progid:DXImageTransform.Microsoft.Alpha(Opacity = 50)",filter:"alpha(opacity = 50)",":hover":{backgroundColor:"#e3e3e3"}},activeMetric:{opacity:"1",MsFilter:"progid:DXImageTransform.Microsoft.Alpha(Opacity = 100)",filter:"alpha(opacity = 100)",cursor:"default",borderBottom:"1px solid #E3E3E3"},marker:{display:"inline-block",verticalAlign:"middle",width:"15px",height:"15px",marginRight:"5px"},label:{display:"inline-block",lineHeight:"20px",fontSize:"10px"}}),m=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={index:0},e}return i(t,e),l(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.metrics.length;t++){var n=this.props.metrics[t];e.push(u["default"].createElement("div",{key:n.id,"data-index":t,style:[y.metric,this.state.index===t?y.activeMetric:{}],onClick:this.handleClick.bind(this)},u["default"].createElement("div",{"data-index":t,style:[y.marker,{backgroundColor:n.color}]}," "),u["default"].createElement("div",{"data-index":t,style:y.label},n.label)))}var a=this.state.nodePath?this.state.nodePath:this.props.path,r=this.props.width?this.props.width+"px":"100%";return u["default"].createElement("div",{style:{width:r}},u["default"].createElement("div",{style:y.main},e),u["default"].createElement(f["default"],{items:a,metric:this.props.metrics[this.state.index],width:r,sort:this.props.sort,fixedLabelWidth:this.props.fixedLabelWidth}))}},{key:"componentWillMount",value:function(){this.props.node&&this.setState({nodePath:this.props.node.getPath()})}},{key:"componentWillReceiveProps",value:function(e){e.node&&e.node!==this.props.node&&this.setState({nodePath:e.node.getPath()})}},{key:"handleClick",value:function(e){var t=e.target.getAttribute("data-index")-0;t!==this.state.index&&this.setState({index:t})}}]),t}(s.Component);t["default"]=(0,d["default"])(m)},860:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BarChart=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=n(453),f=a(p),h=n(552),y=a(h),m=(n(612),n(543)),b={barHeight:20,colSpacing:5,rowSpacing:5,scale:y["default"].scale.sqrt(),max:0,ticks:3,tickFormat:function(e){return(0,m.formatMetricValue)(e)},maxLabelLength:100,paddingBottom:0,labelShift:5,tooltipDelay:300,nodeLabelStyle:{"font-family":"'Open Sans', Arial, sans-serif","font-size":"10px",fill:"#474747",cursor:"pointer"},axisPathLineStyle:{fill:"none",stroke:"#aaa","stroke-width":".5px"},axisTextStyle:{"font-family":"'Open Sans', Arial, sans-serif","font-size":"10px",fill:"#5E5E5E","pointer-events":"none"},barLabelStyle:{"font-family":"'Open Sans', Arial, sans-serif","font-size":"12px"},barLabelInStyle:{fill:"white"},barLabelOutStyle:{"font-size":"12px"},tooltipStyle:{position:"absolute","min-width":0,"padding-left":"10px","padding-right":"10px","line-height":"37px","font-size":"13px","font-family":"'Open Sans', Arial, sans-serif","background-color":"#F7F7F7","-webkit-box-shadow":"0 0px 3px rgba(204, 204, 204, 0.5)","-moz-box-shadow":"0 0px 3px rgba(204, 204, 204, 0.5)","box-shadow":"0 0px 3px rgba(204, 204, 204, 0.5)",opacity:0,"pointer-events":"none"},labelsGroup:{"pointer-events":"none"}},g=function(e,t,n){if(e.textContent=t,!(e.getSubStringLength(0,t.length)<=n)){for(var a=0,r=0;r<n;)r+=e.getSubStringLength(a,1),a++;for(var o=a-1;o>0;o--)if(e.textContent=t.substr(0,o)+"...",e.getSubStringLength(0,o+3)<=n)return}},v=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u["default"].createElement("div",{style:{position:"relative",margin:0,padding:0,width:"100%"}},u["default"].createElement("svg",{className:"bar-chart",width:"100%"}),u["default"].createElement("div",{className:"tooltip"}))}},{key:"componentDidMount",value:function(){this.resizeListener=this.handleResize.bind(this),window.addEventListener("resize",this.resizeListener),this.draw()}},{key:"componentDidUpdate",value:function(e){e.metric===this.props.metric&&e.items===this.props.items&&e.sort===this.props.sort&&e.width===this.props.width||(this.clear(),this.draw())}},{key:"componentWillUnmount",value:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}},{key:"handleResize",value:function(){this.clear(),this.draw()}},{key:"draw",value:function(){function e(e,t){var a,r,o,l=n.props.metric.getValue(e),s=v(l),u=Math.abs(v(l)-v(0)),c=this.getBBox().width+i.labelShift;l<0&&c<s||l>=0&&s+c<p?(r=l<0?-i.labelShift:i.labelShift,a=i.barLabelOutStyle,o=l<0?"end":"start"):l<0&&c<u||l>=0&&c<u?(r=l<0?i.labelShift:-i.labelShift,a=i.barLabelInStyle,o=l<0?"start":"end"):(s=v(0),a=i.barLabelOutStyle,r=l<0?i.labelShift:-i.labelShift,o=l<0?"start":"end"),y["default"].select(this).attr("dx",r).style(a).attr("text-anchor",o).attr("x",s)}var t=this,n=this,a=this.svg;this.props.width&&a.attr("width",this.props.width);var r=a.node().getBoundingClientRect().width,o=this.props.items&&this.props.items.length?this.props.items.length:0;if(0===o)return void a.attr("height",0);this.props.sort&&this.props.items.sort(function(e,n){return t.props.metric.getValue(e)<t.props.metric.getValue(n)?1:t.props.metric.getValue(e)>t.props.metric.getValue(n)?-1:0});var i=Object.assign({},b,this.props.options),l=this.props.fixedLabelWidth||i.maxLabelLength,s=0,u=0;a.selectAll("text.item-name").data(this.props.items).enter().append("text").attr("alignment-baseline","middle").attr("class","item-name").style(i.nodeLabelStyle).each(function(e){g(this,e.name,l),s=Math.max(s,this.getBBox().height),u=Math.max(u,this.getBBox().width)}).on("click",function(e,t){n.handleClick(this,e,t)}).on("mouseover",function(e){var t=this.getBBox(),a=(t.x,t.y),r=n.container.select("div.tooltip");r.text(e.name).style(i.tooltipStyle).style({left:"45px",opacity:0,top:a+"px"}),r.transition().duration(i.tooltipDelay).style("opacity",1)}).on("mouseout",function(e){var t=n.container.select("div.tooltip");t.transition().duration(i.tooltipDelay).style("opacity",0)});var c=Math.max(i.barHeight,s);this.props.fixedLabelWidth&&(u=l),a.selectAll("text.item-name").attr("y",function(e,t){return c/2+t*(c+i.rowSpacing)});var d=(c+i.rowSpacing)*o-i.rowSpacing,p=r-u-2*i.colSpacing,f=y["default"].extent(this.props.items,function(e){return t.props.metric.getValue(e)}),h=i.max||f[1],m=f[0]<0?f[0]:0,v=i.scale.domain([m,h]).range([0,p]),E=y["default"].svg.axis().scale(v).orient("bottom").tickSize(-d).ticks(i.ticks).tickFormat(i.tickFormat),A=a.append("g").attr("class","axis").attr("transform","translate("+(u+i.colSpacing)+","+d+")");A.call(E),A.selectAll(".axis path").style(i.axisPathLineStyle),A.selectAll(".axis line").style(i.axisPathLineStyle);var O=0;A.selectAll(".axis text").style(i.axisTextStyle).each(function(e){var t=this.getBBox(),n=t.y+t.height;O=Math.max(O,n)}),a.attr("height",d+O+i.paddingBottom);var w=a.append("g").attr("class","bars").attr("transform","translate("+(u+i.colSpacing)+",0)");w.selectAll("rect").data(this.props.items).enter().append("rect").attr("x",function(e){var n=t.props.metric.getValue(e);return Math.min(v(n),v(0))}).attr("y",function(e,t){return c/2+t*(c+i.rowSpacing)-i.barHeight/2}).attr("height",i.barHeight).attr("width",function(e){var n=t.props.metric.getValue(e);return Math.abs(v(n)-v(0))}).attr("fill",this.props.metric.color).on("click",function(e,t){n.handleClick(this,e,t)});var _=a.append("g").attr("class","labels").style(i.labelsGroup).attr("transform","translate("+(u+i.colSpacing)+",0)");_.selectAll("text").data(this.props.items).enter().append("text").text(function(e){return t.props.metric.formatValue(t.props.metric.getValue(e))}).attr("alignment-baseline","middle").attr("y",function(e,t){return c/2+t*(c+i.rowSpacing)+1}).style(i.barLabelStyle).each(e).on("click",function(e,t){n.handleClick(this,e,t)})}},{key:"clear",value:function(){this.svg.selectAll("*").remove()}},{key:"handleClick",value:function(e,t,n){this.props.onClick&&this.props.onClick(e,t,n)}},{key:"container",get:function(){return y["default"].select(f["default"].findDOMNode(this))}},{key:"svg",get:function(){return this.container.select("svg.bar-chart")}}]),t}(s.Component);t.BarChart=v,t["default"]=(0,d["default"])(v)},861:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{tabList:{wrap:{},list:{minWidth:0,height:"30px",marginBottom:"15px",width:"100%"}},tab:{borderTop:"none",borderLeft:"none",borderRight:"none",minWidth:0,height:"auto",lineHeight:"30px",width:"25%",":focus":{outline:"none"}},firstTab:{borderLeftWidth:0},lastTab:{borderRightWidth:0},tabText:{padding:"0 7px",lineHeight:"29px",textDecoration:"none"},speakOverrides:{".sc .sc-tab-control.sc-tab-control-subtab":{overflow:"visible"},".sc .sc-tab-control.sc-tab-control-subtab > .sc-tab-control-nav-wrap > .sc-tab-control-nav > .sc-tab-control-tab-item.selected a:before":{borderWidth:"6px",marginLeft:"-6px"},".sc .sc-tab-control.sc-tab-control-subtab > .sc-tab-control-nav-wrap > .sc-tab-control-nav > .sc-tab-control-tab-item.selected a:after":{borderWidth:"5px",marginLeft:"-5px"}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=(a(f),n(837)),y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=c["default"].Children.count,n=[],a=[];return c["default"].Children.forEach(this.props.children,function(r,o){var i=0===o?[e.tab,e.firstTab]:o===t-1?[e.tab,e.lastTab]:e.tab;n.push(c["default"].createElement(h.Tab,{key:o,className:"sc-tab-control-tab-item first-tab",style:i},c["default"].createElement(h.TabText,{style:e.tabText},r.props.title))),a.push(c["default"].createElement(h.TabPanel,{key:o,className:"sc-tab-control-content"},r.props.children))}),c["default"].createElement("div",null,c["default"].createElement(d.Style,{rules:e.speakOverrides}),c["default"].createElement(h.Tabs,{className:"sc-tab-control sc-tab-control-subtab"},c["default"].createElement(h.TabList,{wrapClassName:"sc-tab-control-nav-wrap",className:"sc-tab-control-nav",style:e.tabList},n),a))}}]),t}(u.Component);t["default"]=(0,p["default"])(y)},862:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=(a(s),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return null}}]),t}(s.Component));t["default"]=u},863:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{},title:{marginBottom:"25px"},noContacts:{container:{position:"relative"}},help:{icon:{fontSize:"16px"},text:{display:"inline-block",marginRight:"10px",fontSize:"16px"},description:{display:"inline-block",marginRight:"10px",fontSize:"12px"}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(864),m=a(y),b=n(628),g=(a(b),n(811)),v=a(g),E=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={isOpen:!1},e}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isOpen:!1})}},{key:"handleButtonClick",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=l(),t=0,n=null,a=this.props.contacts?this.props.contacts:[];return 0===a.length?n=c["default"].createElement(v["default"],{title:h["default"].translate("No contacts found"),text:h["default"].translate("This may be due to only insignificant contacts visiting the selected path that were subsequently discarded, or the contacts were removed from xDB.")}):(t=this.state.isOpen?a.length:this.props.maxContactsToDisplay,n=a.map(function(e,n){var a=n>=t?{container:{display:"none"}}:{};return c["default"].createElement(m["default"],{contactData:e,key:n,style:a})})),c["default"].createElement("div",{style:e.container},n,a.length>t||this.state.isOpen?c["default"].createElement("div",{className:"text-right"},c["default"].createElement("a",{href:"#",onClick:this.handleButtonClick.bind(this)},this.state.isOpen?h["default"].translate("Less"):h["default"].translate("More"))):null)}}]),t}(u.Component);t["default"]=(0,p["default"])(E)},864:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t;
}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{container:{marginBottom:"15px",padding:"5px"},user:{image:{width:"40px",height:"40px",marginTop:"4px",padding:"2px",backgroundColor:"#f7f7f7",border:"1px solid #D6D6D6"},name:{lineHeight:"32px"}},openLink:{container:{paddingTop:"5px"},link:{pointerEvents:"auto"}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(865),m=(a(y),n(834)),b=a(m),g=n(543),v=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={isOpen:!1},e}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isOpen:!1})}},{key:"handleClick",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"handleModalClose",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=l(),t="/sitecore/api/ao/v1/contacts/{0}/image?w=72&h=72".replace("{0}",this.props.contactData.Id),n="/sitecore/api/ao/redir/cc?cid="+encodeURIComponent(this.props.contactData.Id),a=(0,g.formatMetricValue)(this.props.contactData.Visits),r=h["default"].translate("Lifetime interactions from this contact, including interactions outside of the selected path."),o=(0,g.formatMetricValue)(this.props.contactData.Value),i=h["default"].translate("Lifetime engagement value points generated by this contact, including interactions outside of the selected path.");return c["default"].createElement("div",{style:[e.container,this.props.style.container],onClick:this.handleClick.bind(this)},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-2 col-sm-2 col-xs-2"},c["default"].createElement("img",{src:t,style:e.user.image,className:"img-circle"})),c["default"].createElement("div",{className:"col-md-10 col-sm-10 col-xs-10"},c["default"].createElement("span",{style:e.user.name,className:"sc-text large"},this.props.contactData.Name),c["default"].createElement(b["default"],{key:"contact-visits",label:h["default"].translate("Lifetime visits"),value:a,rawValue:this.props.contactData.Visits,tooltip:r,style:e.metric}),c["default"].createElement(b["default"],{key:"contact-value",label:h["default"].translate("Lifetime value"),value:o,rawValue:this.props.contactData.Value,tooltip:i,style:e.metric}),c["default"].createElement("div",{style:e.openLink.container},c["default"].createElement("a",{href:n,style:e.openLink.link,target:"_blank"},h["default"].translate("Open Experience Profile"),"  ",c["default"].createElement("img",{src:"data:image/gif;base64,R0lGODlhCwALAJEAAP///5mZmf///wAAACH5BAUUAAIALAAAAAALAAsAAAIdlIOJJgEPA3MKKGdRfjRtu3UcFGFXRVpTqh6nZBQAOw==",style:{marginTop:"-8px"}}))))))}}]),t}(u.Component);t["default"]=(0,p["default"])(v)},865:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t={background:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"rgba(0, 0, 0, 0.5)",zIndex:99999,transitionProperty:"all",transitionDuration:e.transitionDuration||"250ms",transitionTimingFunction:e.transitionEffect||"ease-in",pointerEvents:"auto",overflow:"hidden",display:"block"},open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},dialog:{display:"block",marginTop:e.style.dialogSize&&e.style.dialogSize.marginTop||"-250px",height:e.style.dialogSize&&e.style.dialogSize.height||"460px !important",width:e.style.dialogSize&&e.style.dialogSize.width||"780px",marginLeft:e.style.dialogSize&&e.style.dialogSize.marginLeft||"-390px"},buttonsPanel:{column1:{textAlign:"left"}}};return{modal:Object.assign({},t,e.style)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DialogWindow=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(629),p=a(d),f=n(476),h=a(f),y=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),s(t,[{key:"handleOuterClick",value:function(e){this.props.closeOnOuterClick&&e.target.dataset&&e.target.dataset.modal&&this.props.onClose(e)}},{key:"handleCancelClick",value:function(e){this.props.onCancel&&this.props.onCancel(e)}},{key:"handleOkClick",value:function(e){this.props.onOk&&this.props.onOk(e)}},{key:"handleCloseClick",value:function(e){this.props.onClose&&this.props.onClose(e)}},{key:"render",value:function(){var e=this,t=(0,p["default"])("sc-dialogWindow modal",this.props.className,{"in":this.props.isOpen}),n=l(this.props),a=[n.modal.background,this.props.isOpen?n.modal.open:n.modal.closed];this.props.id?this.props.id:"dialog-window";return c["default"].createElement("div",{id:this.props.id,className:this.props.className,style:a,onClick:this.handleOuterClick.bind(this),"data-modal":"true"},c["default"].createElement("div",{className:t,style:n.modal.dialog},c["default"].createElement("div",{className:"sc-dialogWindow-header"},c["default"].createElement("div",{className:"sc-dialogWindow-header-row1"},function(){if(e.props.url)return c["default"].createElement("a",{className:"sc-dialogWindow-close",target:"_blank",href:e.props.url,"aria-hidden":"true",style:{right:"45px",background:'url("data:image/gif;base64,R0lGODlhCwALAJEAAP///5mZmf///wAAACH5BAUUAAIALAAAAAALAAsAAAIdlIOJJgEPA3MKKGdRfjRtu3UcFGFXRVpTqh6nZBQAOw==") no-repeat 0 0'}})}(),c["default"].createElement("a",{className:"sc-dialogWindow-close","aria-hidden":"true",onClick:this.handleCloseClick.bind(this)}),c["default"].createElement("span",{className:"sc-dialogWindow-header-title"},this.props.title))),c["default"].createElement("div",{className:"sc-dialogWindow-body modal-body",style:n.modal.body},this.props.children),c["default"].createElement("div",{className:"sc-dialogWindow-buttons"},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-sm-6 col-md-6",style:n.modal.buttonsPanel.column1},this.props.buttonsPanelColumn1),c["default"].createElement("div",{className:"col-sm-6 col-md-6"},void 0===this.props.okButtonVisible||this.props.okButtonVisible?c["default"].createElement("button",{className:"btn sc-button btn-primary",onClick:this.handleOkClick.bind(this),disabled:this.props.okButtonDisabled},c["default"].createElement("span",{className:"sc-button-text"},this.props.okButtonText)):null,void 0===this.props.cancelButtonVisible||this.props.cancelButtonVisible?c["default"].createElement("button",{className:"btn sc-button btn-{0}".replace("{0}",this.props.okButtonVisible?"default":"primary"),onClick:this.handleCancelClick.bind(this),disabled:this.props.cancelButtonDisabled},c["default"].createElement("span",{className:"sc-button-text"},this.props.cancelButtonText)):null)))))}}]),t}(u.Component);t.DialogWindow=y,t["default"]=(0,h["default"])(y)},866:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{backgroundColor:"#ffffff",textAlign:"center"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(811),m=a(y),b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=this.props.title?this.props.title:h["default"].translate("No data was found for the selected map in the selected date range."),n=this.props.text?this.props.text:h["default"].translate("Please try selecting a different map or changing the date range.");return c["default"].createElement("div",{style:[e.container,this.props.style]},c["default"].createElement("div",{style:{height:"120px",width:"300px",margin:"0 0 0 45px"}},c["default"].createElement("svg",{id:"BlueArrows","data-name":"BlueArrows"},c["default"].createElement("path",{d:"M14,0C3.49,17.76,0,45.46,0,45.46a32.84,32.84,0,0,1,13.72-9.09c2.18,23.66,28.64,74.16,75,81,14.57-4.21,1.79-12.86,28.88-15.49-37.33-5.93-89-24.19-96.1-66.1a56.25,56.25,0,0,1,16,5.54S16.41,22.53,14,0h0Z",style:{fill:"#e5f4fa"}}),c["default"].createElement("path",{d:"M286.9,3c-1.7,15.63-16.34,28.67-16.34,28.67a39,39,0,0,1,11.12-3.84C276.77,56.91,240.9,69.58,215,73.69c18.8,1.82,9.93,7.82,20,10.75,32.16-4.75,50.52-39.79,52-56.21a22.78,22.78,0,0,1,9.52,6.31S294.17,15.32,286.9,3h0Z",style:{fill:"#e5f4fa"}}))),c["default"].createElement(m["default"],{title:t,text:n}))}}]),t}(u.Component);b.defaultProps={style:{}},t["default"]=(0,p["default"])(b)},867:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{textAlign:"center"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(300),c=a(u),d=n(476),p=a(d),f=n(811),h=a(f),y=n(554),m=a(y),b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=(l(),m["default"].translate("Sorry, this browser version is not supported."));return c["default"].createElement(h["default"],{title:e})}}]),t}(u.Component);t["default"]=(0,p["default"])(b)},868:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e={modal:{body:{minHeight:400}},content:{position:"absolute",width:"100%",height:"100%",top:0,bottom:0,left:0,right:0},contentFrame:{width:"100%",height:"100%",border:"none",position:"absolute",top:0,bottom:0,left:0,right:0}};if(window){var t=800,n=1100,a=.8,r=Math.min(window.innerHeight*a,t),o=Math.min(window.innerWidth*a,n);e.modal.dialogSize={marginLeft:-o/2+"px",marginTop:-r/2+"px",height:r+"px !important",width:o+"px"},e.modal.body.height=r-100+"px !important"}return e}function u(e){return{actions:(0,y.bindActionCreators)(g,e)}}function c(e){return{visible:e.help.visible,dontShowOnStartup:e.help.dontShowOnStartup,anchor:e.help.anchor}}Object.defineProperty(t,"__esModule",{value:!0}),t.Help=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var p=n(300),f=r(p),h=n(454),y=n(461),m=n(476),b=(r(m),n(624)),g=a(b),v=n(554),E=r(v),A=n(865),O=r(A),w=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),d(t,[{key:"handleModalClose",value:function(){this.props.actions.toggleHelp&&this.props.actions.toggleHelp()}},{key:"handledontShowOnStartupChange",value:function(e){this.props.actions.changeSetting&&this.props.actions.changeSetting("dontShowOnStartup",e)}},{key:"render",value:function(){var e=s(),t=f["default"].createElement("div",{className:"checkbox",style:{marginTop:0,marginBottom:0}},f["default"].createElement("label",{style:{fontSize:"13px",lineHeight:"1.7"}},f["default"].createElement("input",{type:"checkbox",onChange:this.handledontShowOnStartupChange.bind(this,!this.props.dontShowOnStartup),checked:this.props.dontShowOnStartup}),E["default"].translate("Do not show this on startup"))),n=this.props.url+"#"+(this.props.anchor||""),a=this.props.header?this.props.header:E["default"].translate("Help");return this.props.visible?f["default"].createElement(O["default"],{id:"help",isOpen:this.props.visible,okButtonVisible:!1,closeOnOuterClick:!0,cancelButtonText:E["default"].translate("Close"),onClose:this.handleModalClose.bind(this),onCancel:this.handleModalClose.bind(this),style:e.modal,title:a,buttonsPanelColumn1:t,url:n},f["default"].createElement("div",{style:e.content},f["default"].createElement("iframe",{src:n,style:e.contentFrame}))):null}}]),t}(p.Component);t.Help=w,t["default"]=(0,h.connect)(c,u)(w)},869:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(300),i=(r(o),n(453)),l=r(i),s=n(454),u=n(476),c=n(536),d=r(c),p=n(870),f=r(p),h=n(554),y=r(h),m=n(624),b=a(m),g=n(915),v=n(916);r(v);y["default"].configureLocale();var E=(0,d["default"])();E.dispatch(b.initialize());var A=y["default"].translate("Path Analyzer"),O={body:{minWidth:"767px",width:"auto !important"},"#PathExplorerContainer .up":{backgroundColor:"#D6D6D6 !important"},"#PathExplorerContainer a":{color:"#2694c0"},mediaQueries:{"(max-width:991px)":{".sc-togglebutton-toggler":{display:"none !important"},".btn-default":{minWidth:"24px"},".sc .sc-dropdownbutton > .btn":{paddingRight:"4px"},".visualFilters button":{minWidth:"auto !important"},".appBarActionButton > button > .sc-togglebutton-toggler":{display:"inline-block !important"},".modal-body, .modal-overflow .modal-body":{position:"relative"},".sc .sc-dialogWindow.modal":{top:"10%"}}}},w=React.createElement(s.Provider,{store:E},React.createElement("div",null,React.createElement(u.Style,{rules:O}),React.createElement(u.StyleRoot,null,React.createElement(f["default"],{appName:A})))),_=document.getElementById("PathExplorerContainer");l["default"].render(w,_),(0,g.configureSpeakHandlers)()},870:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(871),d=a(c),p=n(872),f=a(p),h=n(868),y=a(h),m=n(554),b=a(m),g=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e="/sitecore/shell/client/applications/pathanalyzer/help/default.aspx?id={7DC058D8-A23E-4277-BA55-7A59423AB707}",t=b["default"].translate("Help"),n=this.props.appName+" "+t;return u["default"].createElement("span",null,u["default"].createElement("div",{id:"AppContainer"},u["default"].createElement(d["default"],{header:this.props.appName}),u["default"].createElement(f["default"],null)),u["default"].createElement(y["default"],{url:e,header:n}))}}]),t}(s.Component);t["default"]=g},871:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{actions:(0,v.bindActionCreators)(A,e)}}function u(e){return{unsupportedBrowser:e.appMain.unsupportedBrowser}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(300),p=r(d),f=n(476),h=r(f),y=n(554),m=(r(y),n(627)),b=r(m),g=n(454),v=n(461),E=n(624),A=a(E),O=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){return p["default"].createElement("header",{className:"sc-applicationHeader",style:w.header},p["default"].createElement("div",{className:"sc-applicationHeader-row1",style:w.headerRow},p["default"].createElement("div",{className:"sc-applicationHeader-content"},p["default"].createElement("div",{className:"sc-applicationHeader-title",style:w.title},p["default"].createElement(b["default"],{actions:this.props.actions,unsupportedBrowser:this.props.unsupportedBrowser}),p["default"].createElement("span",{className:"sc-text"},this.props.header)))))}},{key:"handleHelpButtonClick",value:function(){this.props.actions.toggleHelp()}}]),t}(d.Component),w={title:{"float":"none"},header:{overflow:"hidden",zIndex:"1"},headerRow:{height:"auto"}};t["default"]=(0,g.connect)(u,s)((0,h["default"])(O))},872:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t="300px",n={container:{position:"absolute",width:"100%",bottom:"0",left:"0",top:"104",overflowX:"hidden",padding:"0",backgroundColor:"#ffffff",zIndex:"2"},content:{position:"absolute",bottom:0,top:48,left:0,right:0},mapView:{right:e.contextPaneVisible?t:0},dashboard:{right:e.contextPaneVisible?t:0,bottom:0,overflowX:"hidden",overflowY:"auto"},appBar:{container:{right:e.contextPaneVisible?t:0}},contextPane:{width:t},loading:{display:"block",margin:"200px auto 15px auto"},mapLoading:{display:"block",position:"absolute",top:200}};return n}function s(e){var t=e.mutable.treeData&&e.mutable.treeData.hasData;return{contextPaneVisible:e.contextPane.visible&&t,loading:e.appMain.loading,selectedLayout:e.layoutSelector.selectedLayout,hasMapData:t,mapLoading:e.mapView.loading,unsupportedBrowser:e.appMain.unsupportedBrowser}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l,t.mapStateToProps=s;var c=n(300),d=a(c),p=n(453),f=a(p),h=n(476),y=a(h),m=n(454),b=n(554),g=(a(b),n(873)),v=a(g),E=n(877),A=a(E),O=n(890),w=a(O),_=n(868),x=(a(_),n(906)),P=a(x),C=n(907),S=a(C),k=n(553),R=n(866),T=a(R),D=n(810),M=a(D),L=n(867),N=a(L),j=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidUpdate",value:function(){this.setMapViewLoadingPosition()}},{key:"setMapViewLoadingPosition",value:function(){var e=f["default"].findDOMNode(this.refs.mapLoading);if(e){var t=f["default"].findDOMNode(this.refs.canvas),n=f["default"].findDOMNode(this.refs.contextPane),a=t.offsetWidth;n&&this.props.contextPaneVisible&&(a-=n.offsetWidth);var r=(a-e.offsetWidth)/2;e.style.left=r+"px"}}},{key:"render",value:function(){var e=l(this.props);if(this.props.unsupportedBrowser)return d["default"].createElement(N["default"],null);var t=d["default"].createElement("div",null,d["default"].createElement(M["default"],{style:e.mapLoading,size:"32",key:"loading",ref:"mapLoading"}));if(!this.props.mapLoading){var n=this.props.selectedLayout!==k.layoutKeys.dashboard?d["default"].createElement(A["default"],{key:"mapView",style:[e.content,e.mapView]}):d["default"].createElement(S["default"],{style:[e.content,e.dashboard]});t=this.props.hasMapData?n:d["default"].createElement(T["default"],{style:e.content})}return d["default"].createElement("section",{className:"sc-applicationContent-main",style:e.container},this.props.loading?d["default"].createElement("div",null,d["default"].createElement(M["default"],{style:e.loading,size:"32"})):d["default"].createElement("div",{ref:"canvas"},d["default"].createElement(v["default"],{style:e.appBar}),t,this.props.hasMapData?d["default"].createElement(w["default"],{style:e.contextPane,ref:"contextPane"}):null,d["default"].createElement(P["default"],null)))}}]),t}(c.Component);t["default"]=(0,m.connect)(s)((0,y["default"])(j))},873:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{container:{padding:"7px 15px",margin:"0 0 0 0",background:"#fff",position:"absolute",top:0,left:0,WebkitBoxShadow:"0 4px 4px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 4px 4px rgba(0, 0, 0, 0.1)",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.1)",zIndex:"3"},button:{base:{marginRight:"15px"},text:{"@media (max-width:1200px)":{display:"none"}},icon:{display:"inline-block",margin:"0 10px 0 0"},mapSelectorIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACpUlEQVR42u1ZvU4CQRCmkIKSBzhooKSgpSM+gNpg5TtooLGVChtt9BlMlMSQ0FqZSEV4CDsaCqMU6rlrhmRvw+58w+6ZmNwmE2SZv52fndmxVCpWsYpVrH+5ms1mS8G9gncFUwUHCvb+QNYoFrMvBakFrwouFNQjK27K+shDcRs+Q7zCGSkWM/19rOBbwZysn4Z4BTTSLIbier9FeEsFt9rSZPEpeQD2CiBraOw9RFHcwNfWn1h7dbI655UuaKS+8duVT/lLVHGDZqIP4fiN80oKGunKwOn7DrBGFTdodPgsgZD0eYUz0oOBe+wTYjLfB3PlnBK5AuJvvPJEcqaAkWaGXp1wxCzNCeE3hLfbIdG1AVzTsDUfIuaqLE2X8LvCA5wSXZXBKxv5oz/LPmQsWbI0DcI/ER7gWsEKwKvBRQy+rrI0FcqBc+EBHhUsALwOXMR02MAFI0v3W8yEB1joQwB4PUkR60hLtsJLKMl0QUsEB1jpMALwBnBUSOKNFL+xasea9hKGtkr4Z0L+7AHYjLcYbxR+oxvM3k8cctok4wjg/ywKa9ed61A8sZPYhWfJOLJrgIe/LKztYsYp5LpGfXQ6dDY1AOBfE70FrGL2zIUEV8gcCt4Zf3P88UK2pZixSYm2EoFJj7USWw4wyKGZS4wXXALS4D2aFUI9gDnUTofQiHo0aUfqe9BE9Breo4nizfGkjN2CS56UsozfvQ8SteBwjya9cwM6UVELDhczSdWj6cWYcF8kQyzpwfXzFjIs4qpYo0Uk9Byy1jslS+zRoi/5mdnUpei6AgZdXXCIVeeuX+lQjSsYQ+GETjRaNItZsOKOIpbuygwcLc4pkcfBijuKWBiziKNFicCPaMwijhYlQkb0b5xoijNeyVVWsYpVrGLlv34Amydeekln69UAAAAASUVORK5CYII=')",backgroundSize:"16px 16px"},dateSelectorIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJdJREFUeNrsltsNwDAIA6HqcNl/IXeCPvIgCer5GyGsnOy4JCul2INk73JrV9f+w5IrvYGzct4rn96i94PQTgj1IKHgO+/2OwhlS6FVqJBCGMDA31LIN75ZIJS5yKr/KgEzpBAGMEAKtRXfqBkQSofQzJKiyDCAAVJobUlRZBTZyJICIQxggBRaW1IglBkh8QIY+KZLgAEAKzQZUAuA3agAAAAASUVORK5CYII=')",backgroundSize:"16px 16px"},filterIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEa0lEQVR42u2dPUhVcRyGU8ESLIS+yIhsEKwmCYIQwikraqm2hhZpa9AKGiSSliCNiiCij00ak0gdgiAiqIYCE2poKyILKzIJyY/eA+9a12vnnvM//p8XnkX0nv/5vc+956u4y5YRQgghhBBCCCGEEEIIIYTknObm5mqxVmwT7eKwOC7OiAviuhgQ98Uj8UyMinfivfgsvoufYlr8FrNizsz6Z9P+ne/+m/d+jVG/5iNvY8DbvOA1HPea2r3GZK3VNLfwghvEDnFEnBJXxT3xQnxwOfMF47fX/sL7ctX7dsT72hBj0Y1irzgpboun4ksBy02LL57Bbc8kmU3jUnpX7xO9Ylh8irjocvnkmfV6hg1FKLzOBl8Sr3xcTWMYyTH6q3grnohBv2P6RY84IY6JQ2KPaBOtokU0iQ1itVjlNdaKGp9XVJlq/6zWv7PKf7PBr9Hi12zzNg55mye8hn6vadBrfOs1z6U0g1nP9JJnXBdK6fXiqI9xU4vcuSmfZCXDuyy6fZzcJTaL5QX+FFzufdjlfer2Pg56n/9nZvc8+/o8dqzVxk+WsejkDPuluCO6/E7alLwDIz75rfIM9ngmdzyj6TLmOukuWrMqfqSMhT0Qp/0OWMH1zoLnvMIzO+0ZLvSNNlIREXxs7BMzJRbwwzZ2FPmjO9BDSYdn+6NEBzPuqjZNGx+W2OiEL2NWUlfFZVjpWU+U6ORhKp+6tulfG0rukK2nmsxFWC+el+imL40NfSuxkSbqyE2CphLdfEtjI/MIUFgB5rMQgENAfoeAZyEIwElgmCeBmQrAZWA4l4G5CsCNoHxvBAUlALeCS882jVvBhRFgoQ+Dupbww6CulB4GZSrATM7Pxv/2OLgvoMfBfRV+HLxYZtIQYJx/oFFYxtMQ4DGDLCyP0xDgPIMsLOfTEGB7AMcyWNy50/a0zmaHGGjhGErzciY5C/7FUAtD0lVL2te0nQy2MHRW6sbGWYYbPGcrfXfrHEMOlnNZ3eJEgljLRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKj1oCyo9YAsqPWALKj1gCyo9YAsqPWALKj1gCyo9YAsqPWALKj1gCyo9YAsqPWALKz1mC3hzL76WBMCS4mUP5N5l8OAIk37DxJsPy3/ANKOFJsD9DAfYz8fAESL74YSyD8sdi/pqb0CXoyUCAHiYdrgC7MxBgN5MOV4B1GQiwjkmHK0BNBgLUMOmwJQj7a9gIAhAEIAhAEIAgAEEAggAEAQgCEAQgCEAQgCAAQQCCAAQBCAIQBCAIQBCAIABBAJKjAD+ZcNwCjDDheAWYE+1MOF4BrjDdeAW4y/8JjFOA5GP/oqhmsvEJ8FEcZKLxCTAtLosGpllMASYXWfwvcUNsYYrFFuBWmcW/FqfEGqa3NASoE9fE1F8KnxDDLn0rE1vaIuwUB0yb2MhkCCGEEEIIIYQQEmv+AFK3wQ9K2BacAAAAAElFTkSuQmCC')",backgroundSize:"16px 16px"}},dropdown:{contentPanel:{minWidth:"675px",zIndex:500,textAlign:"left"}},filterDropdown:{contentPanel:{minWidth:"400px",zIndex:500,textAlign:"left"}},visualFilters:{button:{minWidth:"70px",marginRight:0},icon:{base:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAEa0lEQVR42u2dPUhVcRyGU8ESLIS+yIhsEKwmCYIQwikraqm2hhZpa9AKGiSSliCNiiCij00ak0gdgiAiqIYCE2poKyILKzIJyY/eA+9a12vnnvM//p8XnkX0nv/5vc+956u4y5YRQgghhBBCCCGEEEIIIYTknObm5mqxVmwT7eKwOC7OiAviuhgQ98Uj8UyMinfivfgsvoufYlr8FrNizsz6Z9P+ne/+m/d+jVG/5iNvY8DbvOA1HPea2r3GZK3VNLfwghvEDnFEnBJXxT3xQnxwOfMF47fX/sL7ctX7dsT72hBj0Y1irzgpboun4ksBy02LL57Bbc8kmU3jUnpX7xO9Ylh8irjocvnkmfV6hg1FKLzOBl8Sr3xcTWMYyTH6q3grnohBv2P6RY84IY6JQ2KPaBOtokU0iQ1itVjlNdaKGp9XVJlq/6zWv7PKf7PBr9Hi12zzNg55mye8hn6vadBrfOs1z6U0g1nP9JJnXBdK6fXiqI9xU4vcuSmfZCXDuyy6fZzcJTaL5QX+FFzufdjlfer2Pg56n/9nZvc8+/o8dqzVxk+WsejkDPuluCO6/E7alLwDIz75rfIM9ngmdzyj6TLmOukuWrMqfqSMhT0Qp/0OWMH1zoLnvMIzO+0ZLvSNNlIREXxs7BMzJRbwwzZ2FPmjO9BDSYdn+6NEBzPuqjZNGx+W2OiEL2NWUlfFZVjpWU+U6ORhKp+6tulfG0rukK2nmsxFWC+el+imL40NfSuxkSbqyE2CphLdfEtjI/MIUFgB5rMQgENAfoeAZyEIwElgmCeBmQrAZWA4l4G5CsCNoHxvBAUlALeCS882jVvBhRFgoQ+Dupbww6CulB4GZSrATM7Pxv/2OLgvoMfBfRV+HLxYZtIQYJx/oFFYxtMQ4DGDLCyP0xDgPIMsLOfTEGB7AMcyWNy50/a0zmaHGGjhGErzciY5C/7FUAtD0lVL2te0nQy2MHRW6sbGWYYbPGcrfXfrHEMOlnNZ3eJEgljLRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKRwLKj1oCyo9YAsqPWALKj1gCyo9YAsqPWALKj1gCyo9YAsqPWALKj1gCyo9YAsqPWALKz1mC3hzL76WBMCS4mUP5N5l8OAIk37DxJsPy3/ANKOFJsD9DAfYz8fAESL74YSyD8sdi/pqb0CXoyUCAHiYdrgC7MxBgN5MOV4B1GQiwjkmHK0BNBgLUMOmwJQj7a9gIAhAEIAhAEIAgAEEAggAEAQgCEAQgCEAQgCAAQQCCAAQBCAIQBCAIQBCAIABBAJKjAD+ZcNwCjDDheAWYE+1MOF4BrjDdeAW4y/8JjFOA5GP/oqhmsvEJ8FEcZKLxCTAtLosGpllMASYXWfwvcUNsYYrFFuBWmcW/FqfEGqa3NASoE9fE1F8KnxDDLn0rE1vaIuwUB0yb2MhkCCGEEEIIIYQQEmv+AFK3wQ9K2BacAAAAAElFTkSuQmCC')",backgroundPosition:"center",backgroundRepeat:"no-repeat"},active:{borderRight:"1px inset #ffffff",height:"34px",margin:"-8px -12px",width:"34px",borderRadius:"6px 0 0 6px",backgroundColor:"#969696",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACLklEQVR42u2ZPUvDUBiFUz8WpWsnwX8gODh2FBRFHByEolKttrS0o6Pt0MmvLjqJg+IP6NBd0FLn4uCgo7hWB7FoNZ4XjhBF0qQmzS3eA8+S3Pu+5zRfN6lhaGlp/Q+ZptkHRsEk2ABFcAwq4ArcgHvQAC+gBT5Ii9saHHPDORXWKLLmJHv0eWF4CMyAHXABnszveqQR2VcGJ+AQ7NJQAWyRArftcswJ51ywxuOP2k/ct0MPQ26Mj4Mz8MxiDf5SYmIBjIGwD0c4zNoL7FVhb5NexNN4uyKb4J2TamAKDAZ42g7SQ42exNum3YRXy2GMKHT9RSy+Xu0GWlUHi2A4QOPD9FC3GnMa4EtNcAlKYA1EwQgY8NDoAGtG2aPEns3fDNkVaprO9QYe+Ouc864iF9oROKCJPVLitiOOKXNOnTXeXPRt2gWomuqrahdgmg8eVSXeptudjzlFQ4innNOLKqtYCPGSdXtnyCgSQjxkOr29pQMOIb3Tf71HpwIKIT1TXj1okpY1UjckvZJeP9bXuxRCeqz7tTZJ+BxCaif8XmCt+hRCaq52a5UY9ziE1Ip3e6m74lEIqbES1Hp9mS/snUrmLgf9trTUYQiZs6TKK1/MZQgZG1Ptu1HaRYC0oZpgKgSuHZiXMSFVv97tOwiwr/Lnx4KDAAWVA+QdBMjrI6AD6GtAB9Cn0F8C9PwpNNvLR2DbUFk2R+AWzBuqCyYnaFb+Ur0Dp2AO9BtaWmrqE1/DHpkFWhhCAAAAAElFTkSuQmCC')",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"16px 16px"}}},layoutSelector:{button:{minWidth:0},text:{"@media (max-width:1200px)":{display:"none"}},dropDown:{contentPanel:{minWidth:"150px"}}},actions:{button:{minWidth:0,paddingRight:"23px"},dropDown:{contentPanel:{
right:"15px",minWidth:"250px"}}},contextPane:{icon:{margin:"0px",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF9JREFUeNrs2TEKADEIBMAY7m/+/0WmD9ddtdxsZ5dBIYLV3bOCs1d44gHPVVfIu8cIAQAAAAC8fWSjAwA5u9DoAAAAAAAAAAAAAAAAAAAAAAAAAADATwEOHAAfcwQYAI3hBjrsEEjKAAAAAElFTkSuQmCC')",backgroundSize:"16px 16px",backgroundPosition:"center",backgroundRepeat:"no-repeat"},button:{minWidth:"inherit",marginRight:0}}}}function u(e){var t=Object.assign({},g,E);return{actions:(0,m.bindActionCreators)(t,e),dispatch:e}}function c(e){var t=e.mutable.treeData&&e.mutable.treeData.hasData;return{clipboard:e.explorer.clipboard,download:e.explorer.download,mapName:e.explorer.mapName,startDate:e.explorer.startDate,endDate:e.explorer.endDate,appliedPathFilter:e.explorer.appliedPathFilter,appliedMetricFilter:e.explorer.appliedMetricFilter,visualFilters:e.appBar.visualFilters,activeSelector:e.appBar.activeSelector,tree:e.mutable.treeData,layoutSelector:e.layoutSelector,contextPaneVisible:e.contextPane.visible&&t,hasMapData:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.AppBar=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var f=n(300),h=r(f),y=n(454),m=n(461),b=n(637),g=a(b),v=n(624),E=a(v),A=n(638),O=r(A),w=n(628),_=r(w),x=n(640),P=r(x),C=n(796),S=r(C),k=n(798),R=r(k),T=n(476),D=r(T),M=n(580),L=n(554),N=r(L),j=n(790),I=(n(578),n(874)),F=r(I),B=n(553),V=n(629),G=(r(V),n(564)),H=r(G),U=n(579),W=(r(U),n(813)),z=r(W),X=n(817),K=r(X),Y=n(875),Q=r(Y),Z=n(876),J=r(Z),q=n(630),$=r(q),ee=n(634),te=n(543),ne=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return l(t,e),p(t,[{key:"handleSelectorButtonClick",value:function(e){this.props.actions.toggleSelector(e)}},{key:"handleContextPaneButtonClick",value:function(){this.props.actions.toggleContextPane()}},{key:"handleCancelSelection",value:function(e){this.props.actions.toggleSelector(e)}},{key:"render",value:function(){var e=this,t=s(),n=""!==this.props.mapName?(0,te.truncate)(this.props.mapName,23,"...",!1):N["default"].translate("Select a map"),a=this.props.startDate&&this.props.endDate?this.props.startDate.format(j.dateFormat)+" - "+this.props.endDate.format(j.dateFormat):"",r=this.props.appliedPathFilter&&this.props.appliedPathFilter.length>0||this.props.appliedMetricFilter&&this.props.appliedMetricFilter.length>0,o=B.layouts.find(function(t){return t.key===e.props.layoutSelector.selectedLayout});return h["default"].createElement("div",{id:"appbar",style:[t.container,this.props.style.container]},h["default"].createElement("div",{className:"row"},h["default"].createElement("div",{className:"col-xs-12 col-sm-5 col-md-7"},h["default"].createElement(O["default"],{id:M.selectorNames.mapSelector,text:n,title:this.props.mapName,buttonStyle:t.button.base,textStyle:t.button.text,iconStyle:[t.button.icon,t.button.mapSelectorIcon],onClick:this.handleSelectorButtonClick.bind(this,M.selectorNames.mapSelector),isOpen:this.props.activeSelector===M.selectorNames.mapSelector,dropdownStyle:t.dropdown,showArrow:!0,tooltip:this.props.mapName?ee.tooltips.mapSelector:ee.tooltips.mapSelectorNoMap},h["default"].createElement(P["default"],{onCancelSelection:this.handleCancelSelection.bind(this,M.selectorNames.mapSelector)})),h["default"].createElement(O["default"],{id:M.selectorNames.dateRange,text:a,title:a,buttonStyle:t.button.base,textStyle:t.button.text,iconStyle:[t.button.icon,t.button.dateSelectorIcon],onClick:this.handleSelectorButtonClick.bind(this,M.selectorNames.dateRange),isOpen:this.props.activeSelector===M.selectorNames.dateRange,dropdownStyle:t.dropdown,showArrow:!0,tooltip:ee.tooltips.dateSelector},h["default"].createElement(S["default"],{onCancelSelection:this.handleCancelSelection.bind(this,M.selectorNames.dateRange)})),o.key!==B.layoutKeys.dashboard?h["default"].createElement(O["default"],{id:M.selectorNames.visualFilters,buttonStyle:[t.button.base,t.visualFilters.button],textStyle:t.button.text,iconStyle:[t.button.icon,t.button.filterIcon,t.visualFilters.icon.base,r?t.visualFilters.icon.active:{}],onClick:this.handleSelectorButtonClick.bind(this,M.selectorNames.visualFilters),isOpen:this.props.activeSelector===M.selectorNames.visualFilters,dropdownStyle:t.filterDropdown,showArrow:!0,disabled:!this.props.hasMapData,tooltip:ee.tooltips.filter},h["default"].createElement(R["default"],{isOpen:this.props.activeSelector===M.selectorNames.visualFilters,onCancelSelection:this.handleCancelSelection.bind(this,M.selectorNames.visualFilters)})):null),h["default"].createElement("div",{id:"toolbox",className:"col-xs-12 col-sm-7 col-md-5 text-right"},h["default"].createElement(O["default"],{id:M.selectorNames.layoutSelector,title:o.displayName,text:o.displayName,textStyle:t.button.text,buttonStyle:[t.button.base,t.layoutSelector.button],iconStyle:[t.button.icon,o.iconStyle],onClick:this.handleSelectorButtonClick.bind(this,M.selectorNames.layoutSelector),isOpen:this.props.activeSelector===M.selectorNames.layoutSelector,dropdownStyle:(0,H["default"])({},t.dropdown,t.layoutSelector.dropDown),showArrow:!0,disabled:!this.props.hasMapData,tooltip:ee.tooltips.viewSelector},h["default"].createElement(F["default"],d({},this.props.layoutSelector,{actions:this.props.actions}))),h["default"].createElement(K["default"],null),h["default"].createElement(O["default"],{id:"appBarActionButton",buttonStyle:(0,H["default"])({},t.button.base,t.actions.button),onClick:this.handleSelectorButtonClick.bind(this,M.selectorNames.secondaryActions),isOpen:this.props.activeSelector===M.selectorNames.secondaryActions,dropdownStyle:(0,H["default"])({},t.dropdown,t.actions.dropDown),showArrow:!0,disabled:!this.props.hasMapData,tooltip:ee.tooltips.exportButton},h["default"].createElement(z["default"],{actions:this.props.actions})),h["default"].createElement(_["default"],{id:"contextPaneToggleButton",iconClasses:"fa fa-bar-chart",iconStyle:[t.button.icon,t.contextPane.icon],buttonStyle:[t.button.base,t.contextPane.button],onClick:this.handleContextPaneButtonClick.bind(this),isOpen:this.props.contextPaneVisible,disabled:!this.props.hasMapData,tooltip:{"data-tip":{},"data-for":"contextPaneTooltip"}}),h["default"].createElement($["default"],{id:"contextPaneTooltip",position:"top",delayShow:1e3},ee.tooltips.contextPane))),h["default"].createElement(Q["default"],{clipboard:this.props.clipboard,actions:this.props.actions}),h["default"].createElement(J["default"],{download:this.props.download,actions:this.props.actions}))}}]),t}(f.Component);t.AppBar=ne,t["default"]=(0,y.connect)(c,u)((0,D["default"])(ne))},874:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{button:{padding:"5px 0px 5px 5px",height:"34px",marginBottom:"0",clear:"both",backgroundColor:"#fff",":hover":{backgroundColor:"#e3e3e3"}},buttonSelected:{backgroundColor:"#AADBEE"},icon:{width:"16px","float":"left",height:"24px",margin:"0 10px 0 0",backgroundRepeat:"no-repeat",backgroundPosition:"center"},text:{display:"block","float":"left",color:"#474747",lineHeight:"24px",height:"24px",textDecoration:"none",width:"100%",whiteSpace:"nowrap"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(629),h=a(f),y=n(553),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"handleLayoutSelect",value:function(e){this.props.selectedLayout!==e&&this.props.actions.selectLayout(e),this.props.onLayoutSelect&&this.props.onLayoutSelect(e)}},{key:"render",value:function(){var e=this,t=l(),n=y.layouts.map(function(n,a){var r=n.key+"-selector",o=e.props.selectedLayout===n.key;return c["default"].createElement("div",{id:r,key:"button"+a,style:[t.button,o?t.buttonSelected:null]},c["default"].createElement("a",{key:a,href:"javascript:;",title:n.displayName,onClick:e.handleLayoutSelect.bind(e,n.key),style:t.text},c["default"].createElement("div",{style:[t.icon,n.iconStyle],className:(0,h["default"])("sc-icon",n.icon)}),n.displayName))});return c["default"].createElement("div",null,n)}}]),t}(u.Component);t["default"]=(0,p["default"])(m)},875:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=(a(s),n(554)),c=a(u),d=(n(624),n(543),n(596),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return!1}},{key:"copyToClipboard",value:function(e){var t=d3.select(document.body).append("textarea").text(e);t.node().select();var n=!1;try{n=document.execCommand("copy")}catch(a){throw a}finally{return t.remove(),n}}},{key:"componentDidUpdate",value:function(e,t){if(this.props.clipboard&&document)try{if(!this.copyToClipboard(this.props.clipboard))throw new Error(this.notSupported);this.props.actions.copyToClipboardSuccess(this.props.clipboard)}catch(n){this.props.actions.copyToClipboardError(n)}}},{key:"notSupported",get:function(){return c["default"].translate("Copy to clipboard is not supported by your browser. Use export instead.")}}]),t}(s.Component));t["default"]=d},876:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=(a(s),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return!1}},{key:"msDownload",value:function(e,t){var n=new Blob([e],{type:"octet/stream"});URL.createObjectURL(n);navigator.msSaveBlob(n,t)}},{key:"download",value:function(e,t){if(navigator&&navigator.msSaveBlob)return void this.msDownload(e,t);var n=document.createElement("a");n.setAttribute("href","data:text/plain;base64,"+btoa(unescape(encodeURIComponent(e)))),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.download&&document){this.download(this.props.download.data,this.props.download.filename);try{this.props.actions.downloadSuccess(this.props.download)}catch(n){this.props.actions.downloadError(n)}}}}]),t}(s.Component));t["default"]=u},877:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=C.layouts.find(function(t){return t.key===e.layoutSelector.selectedLayout});return{tree:e.mutable.treeData,currentLayout:t.componentName,sortBy:e.mapView.sortBy,sortColIndex:e.mapView.sortColIndex,sortAsc:e.mapView.sortAsc,selectedNodeId:e.mapView.selectedNodeId,pathFilter:e.explorer.appliedPathFilter,metricFilter:e.explorer.appliedMetricFilter,showLabels:e.mapView.showLabels,showLegend:e.mapView.showLegend,compactLayout:e.mapView.compactLayout,enableTransitions:e.mapView.enableTransitions&&e.settings.enableTransitions,enableTransitionsSetting:e.settings.enableTransitions,contextPaneVisible:e.contextPane.visible&&e.mutable.treeData.hasData}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(300),d=n(453),p=r(d),f=n(476),h=r(f),y=(n(543),n(454)),m=(n(461),n(552)),b=(r(m),n(612)),g=(r(b),n(572)),v=(r(g),n(878)),E=r(v),A=n(832),O=r(A),w=n(888),_=r(w),x=n(848),P=a(x),C=n(553),S=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={contextElement:null},e}return l(t,e),u(t,[{key:"componentWillMount",value:function(){this.Layout=this.createLayout()}},{key:"componentDidMount",value:function(){var e={tree:!0,layout:!0,compact:!0,first:!0};this.Layout.handleChanges(e),this.el=p["default"].findDOMNode(this.refs.mapViewContainer)}},{key:"render",value:function(){return React.createElement("div",{style:this.props.style,ref:"mapViewContainer"},this.Layout.render(),React.createElement(O["default"],{ref:"popover",addNodeToFilter:this.handleAddNodeToFilter.bind(this),showButtons:"true"}),React.createElement(_["default"],{showLabelsHandler:this.handleToggleLabels.bind(this),showLegendHandler:this.handleToggleLegend.bind(this)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this._changes={layout:!1};if(this.isLayoutChanged(e)&&(t.layout=!0,t.oldLayout=this.Layout,this.Layout.spatialEngine&&this.Layout.spatialEngine.removeLabels(),this.Layout=this.createLayout(e.currentLayout)),t.tree=this.isTreeChanged(e),t.sort=this.isSortChanged(e),t.selectedNode=this.isSelectedNodeChanged(e),t.filter=this.isFilterChanged(e),t.compact=e.compactLayout!==this.props.compactLayout,t.showLabels=e.showLabels!==this.props.showLabels,t.showLegend=e.showLegend!==this.props.showLegend,t.contextPaneClosed=e.contextPaneVisible!==this.props.contextPaneVisible&&!e.contextPaneVisible,t.selectedNode){this.tree.traverse(function(e){e._pathHighlighted=!1,e._inLink&&(e._inLink._pathHighlighted=!1)},g.VisibilityModes.All);var n=this.tree.findNode(e.selectedNodeId);n&&n.getPath().forEach(function(e){e._pathHighlighted=!0,e._inLink&&(e._inLink._pathHighlighted=!0)})}}},{key:"componentDidUpdate",value:function(e){this.Layout.handleChanges(this._changes)}},{key:"onAction",value:function(e){this.props.dispatch(e)}},{key:"handleToggleLabels",value:function(){this.onAction(P.toggleLabels(!this.props.showLabels))}},{key:"handleToggleLegend",value:function(){this.onAction(P.toggleLegend(!this.props.showLegend))}},{key:"handleAddNodeToFilter",value:function(e){this.onAction(P.addNodeToFilter(e))}},{key:"createLayout",value:function(e){e=e||this.props.currentLayout;var t=E["default"][e];if(!t)throw new Error('Invalid layout name: "'+e+'"');return new t(this)}},{key:"isLayoutChanged",value:function(e){return e.currentLayout!==this.props.currentLayout}},{key:"isTreeChanged",value:function(e){return e.tree!==this.props.tree}},{key:"isSortChanged",value:function(e){return e.sortBy!==this.props.sortBy||e.sortColIndex!==this.props.sortColIndex||e.sortAsc!==this.props.sortAsc}},{key:"isSelectedNodeChanged",value:function(e){return e.selectedNodeId!==this.props.selectedNodeId}},{key:"isFilterChanged",value:function(e){return e.pathFilter!==this.props.pathFilter||e.metricFilter!==this.props.metricFilter}},{key:"Layout",get:function(){return this._layout},set:function(e){this._layout=e}},{key:"tree",get:function(){return this.props.tree.root?this.props.tree:null}},{key:"selectedNode",get:function(){return this.tree?this.tree.findNode(this.props.selectedNodeId):null}},{key:"pathFilter",get:function(){return this.props.pathFilter}},{key:"metricFilter",get:function(){return this.props.metricFilter}}]),t}(c.Component);t["default"]=(0,y.connect)(s)((0,h["default"])(S))},878:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(879),o=a(r),i=n(885),l=a(i),s=n(886),u=a(s),c=n(887),d=a(c);t["default"]={RadialLayout:o["default"],VerticalLayout:l["default"],HorizontalLayout:u["default"],TableLayout:d["default"]}},879:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=(n(300),n(552)),u=a(s),c=n(880),d=a(c),p=60,f=function(e,t,n,a){function r(e,t){return t.nx-t.r-e.nx-e.r}function o(e,t){return t=Math.min(t,e.x+a),t=Math.max(t,e.x-a)}function i(e,t,n,a){if(void 0===e)return n.nx<n.r;if(void 0===a)return t.nx+t.r<n.nx;if(r(e,a)>2*(t.r+n.r))return!0;var i=(r(e,t)+r(t,n)+r(n,a))/3,l=e.nx+e.r+i+t.r,s=l+t.r+i+n.r;return l=o(t,l),s=o(n,s),l!==t.nx||s!==n.nx}function l(e,t,n,a){if(void 0===e)return void(n.nx=Math.min(n.r,a.nx/2));if(void 0===a)return void(t.nx=Math.max(n.nx-t.r,(e.nx+n.nx)/2));var i=(t.nx+n.nx)/2;if(i-2*t.r>e.nx+e.r&&i+2*n.r<a.nx-a.r)return t.nx=i-t.r,void(n.nx=i+n.r);var l=(r(e,a)-2*(t.r+n.r))/3,s=e.nx+e.r+l+t.r,u=s+t.r+l+n.r;t.nx=o(t,s),n.nx=o(n,u)}var s=e[t],c=s.nodes,d=e[t-1].radius+p,f=2*d*Math.PI,h=u["default"].scale.linear().domain([0,n]).range([0,f]);if(1!==c.length){var y=c[0],m=c[c.length-1],b=h(y._x)-y._radius<0||h(m._x)+m._radius>f;if(!b)for(var g=0,v=1;v<c.length;v++){var E=h(c[v]._x),A=c[v]._radius;if(g>E-A){b=!0;break}}if(b){var O=[{x:0,nx:0,r:0}];c.forEach(function(e){return O.push({x:h(e._x),nx:h(e._x),r:e._radius})}),O.push({x:f,nx:f,r:0});for(var w=!0,_=0;w;){for(var x=0,P=-1,C=0;C<O.length-1;C++){var S=r(O[C],O[C+1]);S<x&&i(O[C-1],O[C],O[C+1],O[C+2])&&(x=S,P=C)}P!==-1&&l(O[P-1],O[P],O[P+1],O[P+2]),O[0].nx=0,O[O.length-1].nx=f,_++,w=P!==-1&&_<10}O.shift();for(var k=0;k<c.length;k++)c[k]._x=h.invert(O[k].nx)}}},h=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),l(t,[{key:"updateNodeCoords",value:function(){var e=this.tree.root,t=(0,c.placeTight)(e);e.x=0,e.y=0,e._angle=0;var n=0;t.forEach(function(e){return n=Math.max(n,e.context._x+e.context._radius)});var a=u["default"].scale.linear().domain([0,n]).range([0,360]);t[0].radius=0;for(var r=1;r<t.length;r++){var o=t[r],i=o.nodes,l=Math.max(i[0]._radius,i[i.length-1]._radius);f(t,r,n,l),i.forEach(function(e){return e._angle=a(e._x)});for(var s=0,d=0;d<i.length-1;d++){var h=i[d+1]._angle-i[d]._angle,y=i[d+1]._radius+i[d]._radius,m=180*y/h/Math.PI;s=Math.max(s,m)}o.radius=Math.max(s,t[r-1].radius+p)}(0,c.depthFirst)(this.tree.root,function(e){var n=e._angle*(Math.PI/180),a=t[e.depth].radius;e.x=Math.cos(n)*a,e.y=Math.sin(n)*a})}},{key:"getInitialRootShift",value:function(){var e=this.d3Root.node().getBoundingClientRect();return{x:e.width/2,y:e.height/2}}}]),t}(d["default"]);t["default"]=h},880:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.stretchOut=t.placeTight=t.getParentX=t.depthFirst=void 0;var s=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(s){r=!0,o=s}finally{try{!a&&l["return"]&&l["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(848),d=r(c),p=n(624),f=n(596),h=(n(300),n(552)),y=a(h),m=n(881),b=a(m),g=n(572),v=n(573),E=a(v),A=n(574),O=a(A),w=n(882),_=a(w),x=n(883),P=n(554),C=a(P),S="#2694C0",k="#8CCEE8",R="#D6D6D6",T="#5e5e5e",D=3,M=3,L=.5,N=2,j="#DBDBDB",I="#999999",F="#0277BD",B="white",V="black",G=4,H=.33,U=G-2,W=.75,z=1e3,X=1e3,K=7,Y="M -"+G+" -"+G+" l "+2*G+" 0 a "+G+" "+G+" 0 1 1 0 "+2*G+" l -"+2*G+" 0 z",Q="M -"+U+" 0 L "+U+" 0 z",Z="M -"+U+" 0 L "+U+" 0 M 0 "+U+" L 0 -"+U+"z",J={labelsContainer:{position:"absolute",overflow:"hidden",left:0,top:0,right:0,bottom:0,margin:0,padding:0,pointerEvents:"none"}},q=function ae(e,t){var n=e.children;n&&n.forEach(function(e){ae(e,t)}),t(e)},$=function(e){var t=e[0],n=e[e.length-1];return(t._x+n._x)/2},ee=function(e){var t=[];return q(e,function(e){var n=e.depth,a=t[n];a||(t[n]=a={nodes:[],context:null});var r=a.context;if(a.nodes.push(e),r){var o=e.children;o?(e._x=$(o),r._x+r._radius+e._radius>e._x&&!function(){var t=r._x+r._radius+e._radius-e._x;q(e,function(e){return e._x+=t})}()):e._x=r._x+r._radius+e._radius}else{var i=e.children;i?(e._x=$(i),e._x<e._radius&&!function(){var t=e._radius-e._x;q(e,function(e){return e._x+=t})}()):e._x=e._radius}a.context=e}),t},te=function(e){var t=0;if(e.forEach(function(e){return t=Math.max(t,e.context._x)}),!(t>=z)){var n=y["default"].scale.linear().domain([0,t]).range([0,X]);e.forEach(function(e){e.nodes.forEach(function(e){return e._x=n(e._x)})})}};t.depthFirst=q,t.getParentX=$,t.placeTight=ee,t.stretchOut=te;var ne=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return l(t,e),u(t,[{key:"render",value:function(){return React.createElement("div",{style:this.rootStyle,className:this.rootClass,key:"tree"},React.createElement("svg",{width:"100%",height:"100%"},React.createElement("defs",null,React.createElement("path",{id:"collapser",d:Y,fill:B,stroke:V,strokeWidth:H}),React.createElement("path",{className:"plus-minus",id:"minus",d:Q,stroke:V,strokeWidth:W}),React.createElement("path",{className:"plus-minus",id:"plus",d:Z,stroke:V,strokeWidth:W})),React.createElement("g",{className:"main"},React.createElement("g",{className:"links"}),React.createElement("g",{className:"weights"}),React.createElement("g",{className:"nodes"}))),React.createElement("div",{className:"labels",style:J.labelsContainer}))}},{key:"checkOtherNodeMessage",value:function(){var e=this.tree._synthetic.length;if(this.tree&&e>0){var t=C["default"].translate("{0} less significant nodes were grouped together with other nodes.").replace("{0}",e);this.mapView.onAction((0,p.addMessage)(t,f.messageSeverity.info,"other-nodes-message",f.pathTrimOrNodeGroupMessageId))}}},{key:"handleChanges",value:function(e){var t=this,n=this;if(e.layout||e.first)if(e.oldLayout&&e.oldLayout.isTreeLayout){var a=e.oldLayout;this.gMain=a.gMain,this.gLinks=a.gLinks,this.gWeights=a.gWeights,this.gNodes=a.gNodes,this.zoom=a.zoom,this.spatialEngine=a.spatialEngine}else!function(){var e=function(){o.attr("transform","translate("+y["default"].event.translate+")scale("+y["default"].event.scale+")"),l.zooming(y["default"].event.translate,y["default"].event.scale);var e=n.mapView.Layout.mouseNode,t=n.mapView.Layout.mouseElement;e&&n.mapView.onAction(d.nodeMouseOver(e,n.mapView.Layout.computePopoverPosition(e,t)))},a=function(){l.zoomStart(s.translate(),s.scale()),n.zoomStartPos={translate:s.translate(),scale:s.scale()}},r=function(){n._mapView.movingNodes||n.spatialEngine.showLabels()},o=t.gMain=t.d3Root.select("g.main");t.gLinks=o.select("g.links"),t.gWeights=o.select("g.weights"),t.gNodes=o.select("g.nodes");var i=t.d3Root.select("div.labels"),l=t.spatialEngine=new _["default"](t.mapView,i),s=t.zoom=y["default"].behavior.zoom().scaleExtent([.1,10]);s.on("zoom",e).on("zoomstart",a).on("zoomend",r),t.d3Root.select("svg").call(s).on("dblclick.zoom",function(){y["default"].event.stopPropagation(),y["default"].event.preventDefault()}).on("click.zoom",function(){if(n.zoomStartPos){var e=n.zoomStartPos;if(n.zoomStartPos=null,e.scale!==s.scale()||Math.abs(e.translate[0]-s.translate()[0])>2||Math.abs(e.translate[1]-s.translate()[1])>2)return}var t=n.mapView.Layout,a=t.spatialEngine.spatialIndex,r=y["default"].event.offsetX,o=y["default"].event.offsetY,i=new x.Circle(r,o,K),l=t.spatialEngine.containerToSvg(i),u=a.findOverlaps(l).filter(function(e){return e.node.isVisible()}),c=null,p=void 0;u.forEach(function(e){(!c||x.Circle.distance(e,l)<p)&&(c=e,p=x.Circle.distance(e,l))}),c&&c.node.parent?n.mapView.onAction(d.nodeClick(c.node)):n.mapView.onAction(d.unselectPath())})}();if(this.tree){if(this.tree.visibilityMode=this.compactLayout?g.VisibilityModes.VisibleAndCollapsedChildren:g.VisibilityModes.All,e.tree){var r=this.transitions.treeChangeDuration/2;return this.applyFilter(),this.checkOtherNodeMessage(),this.updateNodeCoords(),this.spatialEngine.nodeCoordsChanged(),void(this.viewHasVisibleElements()?(this.clearView(r),this.resetPanZoom(0,r),this.updateView(r,null,r)):(this.resetPanZoom(),this.updateView(r)))}if(e.layout){var o=this.transitions.layoutChangeDuration;return this.updateNodeCoords(),this.spatialEngine.nodeCoordsChanged(),!e.oldLayout.isTreeLayout&&this.tree._synthetic.length>0&&this.checkOtherNodeMessage(),void(this.viewHasVisibleElements()&&e.oldLayout&&e.oldLayout.isTreeLayout?(this.resetPanZoom(o),this.updateView(o)):(this.resetPanZoom(),this.updateView(o/2)))}return e.selectedNode?(this.updateView(),void this.ensureNodeVisible(this.selectedNode)):e.filter?(this.updateFiltered(),void this.resetPanZoom(this.transitions.filterApplyDuration)):e.showLabels?void(this.mapView.props.showLabels&&!this._mapView.movingNodes?this.spatialEngine.showLabels():this.spatialEngine.removeLabels()):void(e.contextPaneClosed&&this.spatialEngine.refresh())}}},{key:"updateNodeCoords",value:function(){throw new Error("TreeLayout is abstract class and should not be instantiated")}},{key:"updateView",value:function(){function e(e){return e.hasCollapser()&&e._collapsed?"visible":"hidden"}function t(e){return e._collapsed?"#plus":"#minus"}function n(e){return"translate("+G+",0) rotate(-"+e._angle+")"}function a(e){return e._synthetic?T:e._pathHighlighted?S:e._filterHighlighted?k:R}function r(e){return e.parent?e._synthetic?N:e._tree.zeroValue?M:e._pathHighlighted||e._filterHighlighted?D:L:D}function o(e){return e._pathHighlighted?S:j}function i(e){return e._pathHighlighted?F:I}function l(e){var t=e._thickness;return t>2?Math.max(t-2,1):1}function s(){m.gNodes.selectAll("g.node").data(v,E["default"].getId).transition().delay(h).duration(p).attr("transform",function(e){return"translate("+e.x+","+e.y+") rotate("+e._angle+")"}).each("start",function(e,t){0===t&&(m._mapView.movingNodes=!0,m.spatialEngine.removeLabels())}).each("interrupt",function(e,t){0===t&&(m._mapView.movingNodes=!1,m.spatialEngine.showLabels())}).each("end",function(e,t){0===t&&(m._mapView.movingNodes=!1,m.spatialEngine.showLabels())}),m.gNodes.selectAll("g.collapser").data(v,E["default"].getId).attr("visibility",e),m.gNodes.selectAll(".plus-minus").data(v,E["default"].getId).attr("xlink:href",t).transition().delay(h).duration(p).attr("transform",n),m.gNodes.selectAll("circle.node").data(v,E["default"].getId).attr("stroke",a).attr("stroke-width",r),m.gLinks.selectAll("line.link").data(g,O["default"].getId).transition().delay(h).duration(p).style("opacity","1").attr("stroke-linecap","round").attr("stroke",o).attr("stroke-width",function(e){return e._thickness}).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),m.gWeights.selectAll("line.weight").data(g,O["default"].getId).each(function(e){return e.computeWeightLocation()}).attr("stroke",i).transition().delay(h).duration(p).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.x}).attr("y2",function(e){return e.y})}function u(){var s=m.gNodes.selectAll("g.node").data(v,E["default"].getId).enter().append("g").attr("class","node").attr("transform",function(e){return"translate("+(w||e.x)+","+(_||e.y)+") rotate("+e._angle+") scale(0.0001)"}),u=s.filter(function(e){return e._children}),c=u.append("g").attr("class","collapser").attr("style","cursor:pointer").attr("transform",function(e){
return"translate("+e._radius+",0)"}).attr("visibility",e).on("click",function(e){y["default"].event.stopPropagation(),m.mapView.Layout.toggleCollapsed(e),m.mapView.onAction(d.nodeCollapserClick(e))});c.append("use").attr("xlink:href","#collapser").attr("class","collapser"),c.append("use").attr("xlink:href",t).attr("class","plus-minus").attr("transform",n),s.append("circle").attr("class","node").attr("r",function(e){return e._radius}).attr("stroke",a).attr("stroke-width",r).attr("fill",function(e){return e._color}).attr("style","cursor:pointer").attr("id",function(e){return"node-"+e._id}).on("mouseover",function(e){y["default"].event.stopPropagation(),m.mouseNode=e,m.mouseElement=this,m.mapView.onAction(d.nodeMouseOver(e,m.mapView.Layout.computePopoverPosition(e,this)))}).on("mouseout",function(e){y["default"].event.stopPropagation(),m.mouseNode=null,m.mouseElement=null,m.mapView.onAction(d.nodeMouseOut(e))}).on("click",function(e){y["default"].event.stopPropagation(),e.parent?m.mapView.onAction(d.nodeClick(e)):m.mapView.onAction(d.unselectPath())}).on("dblclick",function(e){y["default"].event.stopPropagation(),m.mapView.Layout.toggleCollapsed(e),m.mapView.onAction(d.nodeDblClick(e))});var b=m.gLinks.selectAll("line.link").data(g,O["default"].getId).enter().append("line").attr("x1",function(e){return w||e.source.x}).attr("y1",function(e){return _||e.source.y}).attr("x2",function(e){return w||e.target.x}).attr("y2",function(e){return _||e.target.y}).attr("class","link").attr("stroke",o).attr("stroke-width",1),A=m.gWeights.selectAll("line.weight").data(g,O["default"].getId).enter().append("line").each(function(e){return e.computeWeightLocation()}).attr("x1",function(e){return w||e.source.x}).attr("y1",function(e){return _||e.source.y}).attr("x2",function(e){return w||e.source.x}).attr("y2",function(e){return _||e.source.y}).attr("class","weight").attr("stroke",i).attr("stroke-width",1);if(f)s.transition().delay(h).duration(p).attr("transform",function(e){return"translate("+e.x+","+e.y+") rotate("+e._angle+") scale(1)"}),b.transition().delay(h).duration(p).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}).attr("stroke",o).attr("stroke-linecap","round").attr("stroke-width",function(e){return e._thickness}),A.transition().delay(h).duration(p).attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.x}).attr("y2",function(e){return e.y}).attr("stroke",i).attr("stroke-width",l);else{var x=p;s.transition().tween("fps",m.measureTransitionSpeed()).delay(h).duration(x).attr("transform",function(e){return"translate("+e.x+","+e.y+") rotate("+e._angle+") scale(1)"}).each("start",function(e,t){0===t&&(m._mapView.movingNodes=!0,m.spatialEngine.removeLabels())}).each("interrupt",function(e,t){0===t&&(m._mapView.movingNodes=!1,m.spatialEngine.showLabels())}).each("end",function(e,t){0===t&&(m._mapView.movingNodes=!1,m.spatialEngine.showLabels())}),b.style("opacity","0").transition().delay(h).duration(x).style("opacity","1").attr("stroke-linecap","round").attr("stroke",o).attr("stroke-width",function(e){return e._thickness}),A.transition().delay(function(e){return h>0?e+500*e.target.depth:0}).duration(x).attr("x2",function(e){return w||e.x}).attr("y2",function(e){return _||e.y}).attr("stroke",i).attr("stroke-linecap","round").attr("stroke-width",l)}}function c(){var e=m.gNodes.selectAll("g.node").data(v,E["default"].getId).exit(),t=m.gLinks.selectAll("line.link").data(g,O["default"].getId).exit(),n=m.gWeights.selectAll("line.weight").data(g,O["default"].getId).exit();f?(e.transition().delay(h).duration(p).attr("transform",function(e){return"translate("+w+","+_+") scale(0.0001) rotate("+e._angle+")"}).remove(),t.transition().delay(h).duration(p).attr("x1",w).attr("y1",_).attr("x2",w).attr("y2",_).remove(),n.transition().delay(h).duration(p).attr("x1",w).attr("y1",_).attr("x2",w).attr("y2",_).remove()):(e.style("opacity","1").transition().delay(h).duration(p).style("opacity","0").attr("transform",function(e){return"translate("+e.x+","+e.y+") scale(0.0001) rotate("+e._angle+")"}).remove(),t.style("opacity","1").transition().delay(h).duration(p).style("opacity","0").remove(),n.style("opacity","1").transition().delay(h).duration(p).style("opacity","0").remove())}var p=arguments.length<=0||void 0===arguments[0]?0:arguments[0],f=arguments[1],h=arguments.length<=2||void 0===arguments[2]?0:arguments[2],m=this,b=this.tree.getVisibleElements(),g=b.links,v=b.nodes,A=f||{},w=A.x,_=A.y;s(),u(),c()}},{key:"viewHasVisibleElements",value:function(){return this.gNodes.selectAll("g.node")[0].length>0}},{key:"clearView",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.gNodes.selectAll("g.node"),n=this.gLinks.selectAll("line.link"),a=this.gWeights.selectAll("line.weight");t.each(function(e){e._id=-1}),t.style("opacity","1").transition().duration(e).style("opacity","0").remove(),n.style("opacity","1").transition().duration(e).style("opacity","0").remove(),a.style("opacity","1").transition().duration(e).style("opacity","0").remove()}},{key:"getInitialRootShift",value:function(){}},{key:"resetPanZoom",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments[2],a=this.zoom,r=this.gMain,o=n?[n.x,n.y]:a.translate(),i=s(o,2),l=i[0],u=i[1],c=n?1:a.scale(),d=this.getInitialRootShift(),p=d.x,f=d.y,h=y["default"].scale.linear().range([l,p]),m=y["default"].scale.linear().range([u,f]),b=y["default"].scale.linear().range([c,1]);y["default"].transition().delay(t).duration(e).tween("zoom",function(){return function(e){var t=h(e),n=m(e),o=b(e);a.translate([t,n]).scale(o),r.attr("transform","translate("+t+","+n+")scale("+o+")")}})}},{key:"toggleCollapsed",value:function(e){e.hasCollapser()&&(e._collapsed=!e._collapsed,this.updateView(this.transitions.nodeCollapseDuration,e))}},{key:"updateFiltered",value:function(){this.applyFilter(),this.updateNodeCoords(),this.spatialEngine.nodeCoordsChanged(),this.updateView(this.transitions.filterApplyDuration)}},{key:"computePopoverPosition",value:function(e,t){var n=t.getBoundingClientRect(),a=this.mapView.refs.mapViewContainer.getBoundingClientRect(),r=e._radius*this.zoom.scale(),o=e._radius*this.zoom.scale(),i=n.left+n.width/2-a.left,l=n.top+n.height/2-a.top,s=a.top,u=a.right,c=a.bottom,d=a.left,p=a.width,f=a.height;return{top:s,right:u,bottom:c,left:d,width:p,height:f,dx:r,dy:o,x:i,y:l}}},{key:"ensureNodeVisible",value:function(e){if(e){for(var t=e.parent;t;t=t.parent)if(t._collapsed){t._collapsed=!1,this.updateView(this.transitions.nodeScrollDuration,t);break}if(e._hidden&&e.parent){var n=e.parent.children,a=n?n[n.length-1]:null;a._synthetic&&(e=e.parent)}var r=this,o=this.zoom,i=this.gMain,l=o.scale(),u=this.spatialEngine,c=new x.Circle(e,e._radius+5),p=u.containerBounds,f=u.containerToSvg(p),h=Math.min(f.x+f.w-c.x-c.r,0);0===h&&(h=Math.max(f.x+c.r-c.x,0));var m=Math.min(f.y+f.h-c.y-c.r,0);if(0===m&&(m=Math.max(f.y+c.r-c.y,0)),0!==h||0!==m){var b=o.translate(),g=s(b,2),v=g[0],E=g[1],A=v+h*l,O=E+m*l,w=y["default"].scale.linear().range([v,A]),_=y["default"].scale.linear().range([E,O]);y["default"].transition().duration(this.transitions.nodeScrollDuration).tween("zoom",function(){return function(e){var t=w(e),n=_(e);o.translate([t,n]).scale(l),i.attr("transform","translate("+t+","+n+")scale("+l+")"),u.refresh();var a=r.mapView.Layout.mouseNode,s=r.mapView.Layout.mouseElement;a&&r.mapView.onAction(d.nodeMouseOver(a,r.mapView.Layout.computePopoverPosition(a,s)))}})}}}},{key:"isTreeLayout",get:function(){return!0}}]),t}(b["default"]);t["default"]=ne},881:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(453),s=r(l),u=n(552),c=r(u),d=n(572),p=n(610),f=r(p),h=n(611),y=r(h),m=n(624),b=a(m),g={width:"100%",height:"100%",padding:0,margin:0,overflow:"hidden",backgroundColor:"white"},v="map-view",E=10,A={treeChangeDuration:3e3,sortDuration:3e3,filterDuration:3e3,layoutChangeDuration:3e3,filterApplyDuration:1e3,nodeCollapseDuration:500,nodeScrollDuration:750},O={treeChangeDuration:0,sortDuration:0,filterDuration:0,layoutChangeDuration:0,filterApplyDuration:0,nodeCollapseDuration:0,nodeScrollDuration:0},w=function(){function e(t){o(this,e),this._mapView=t}return i(e,[{key:"render",value:function(){throw new Error("LayoutBase is abstract class and should not be instantiated")}},{key:"handleChanges",value:function(e){}},{key:"measureTransitionSpeed",value:function(){if(!this.mapView.props.enableTransitionsSetting)return null;var e=this;return function(t,n){if(n>0)return null;var a=0,r=new Date;return function(t){if(a++,1===t){var n=new Date,o=n.getTime()-r.getTime(),i=o>0?1e3*a/o:0;i<E?e.mapView.props.dispatch(b.toggleTransitions(!1)):e.mapView.props.dispatch(b.toggleTransitions(!0))}}}}},{key:"applyFilter",value:function(){if(this.tree.removePostFilter(),!this.pathFilter||0===this.pathFilter.length){if(this.metricFilter&&0!==this.metricFilter.length){var e=new y["default"](this.metricFilter);e.filterTree(this.tree)}else this.tree.traverse(function(e){e._hidden=!1,e._filterHighlighted=!1},d.VisibilityModes.All);return void this.tree.applyPostFilter()}this.tree.traverse(function(e){e._filterHighlighted=!1,e._hidden=0!==e.depth,e._collapsed=!1},d.VisibilityModes.All);var t=this.pathFilter.map(function(e){return[e.rid]}),n=new f["default"](t),a=n.getAllMatches(this.tree);if(this.metricFilter&&this.metricFilter.length){var r=new y["default"](this.metricFilter);a=r.filterMatches(a)}n.highlightMatches(this.tree,a),this.tree.applyPostFilter()}},{key:"mapView",get:function(){return this._mapView}},{key:"transitions",get:function(){return this._mapView.props.enableTransitions?A:O}},{key:"tree",get:function(){return this.mapView.tree}},{key:"d3Root",get:function(){var e=s["default"].findDOMNode(this.mapView),t=e.getElementsByClassName(this.rootClass)[0];return c["default"].select(t)}},{key:"compactLayout",get:function(){return this.mapView.props.compactLayout}},{key:"selectedNode",get:function(){return this.mapView.selectedNode}},{key:"pathFilter",get:function(){return this.mapView.pathFilter}},{key:"metricFilter",get:function(){return this.mapView.metricFilter}},{key:"rootStyle",get:function(){return g}},{key:"rootClass",get:function(){return v}},{key:"isTreeLayout",get:function(){return!1}}]),e}();t["default"]=w},882:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(552),l=(a(i),n(883)),s=a(l),u=n(884),c=a(u),d=new l.Rect(0,0,8,10),p="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4IDEwIj48dGl0bGU+dG9vbHRpcC1wb2ludGVyLURGQkU5NTwvdGl0bGU+PHBvbHlnb24gcG9pbnRzPSI4IDAgNCAxMCAwIDAgOCAwIiBzdHlsZT0iZmlsbDojZGZiZTk1Ii8+PC9zdmc+",f=15,h="...",y={label:{position:"absolute","font-size":"12px","max-width":"200px","background-color":"rgba(255,255,175,.65)",border:"1px solid rgba(208,159,98, 1)","border-radius":"2px",padding:"0px 3px",color:"#000",margin:0,"z-index":1},pointer:{position:"absolute",margin:0,"z-index":1}},m=function(){function e(t,n){r(this,e),this.mapView=t,this.container=n}return o(e,[{key:"zooming",value:function(e,t){}},{key:"zoomStart",value:function(e,t){this.removeLabels()}},{key:"nodeCoordsChanged",value:function(){var e=this.spatialIndex=new s["default"];this.tree.traverse(function(t){var n=new l.Circle(t,t._radius);n.node=t,e.add(n)})}},{key:"removeLabels",value:function(){this.container.selectAll("*").remove()}},{key:"refresh",value:function(){this.removeLabels(),this.showLabels()}},{key:"showLabels",value:function(){if(this.mapView.props.showLabels){this.captureZoom();var e=this.containerBounds,t=this.containerToSvg(e),n=this.spatialIndex.findOverlaps(t).filter(function(e){return e.node.isVisible()}),a=this.getSelectedPath();a&&(n=n.filter(function(e){return a.has(e.node)}));var r=this.insertLabels(n);this.selectPlacements(r,t),this.placeLabels(r)}}},{key:"placeLabels",value:function(e){var t=[],n=[],a=new s["default"],r=this.containerToSvg(d);e.forEach(function(e){for(var o=e.svgRect,i=e.nodeCircle,l=0;l<e.placements.length;l++){var s=c["default"][e.placements[l]];if(s.placeRect(o,i,r),!a.hasOverlap(o))return e.rule=s,a.add(o),void t.push(e)}n.push(e)}),this.moveLabels(t),this.removeUnplacedLabels(n)}},{key:"selectPlacements",value:function(e,t){var n=this,a=this.containerToSvg(d),r=function(e){return e.node.isVisible()};e.forEach(function(e){for(var o=[],i=e.svgRect,l=e.nodeCircle,s=0;s<c["default"].length;s++)c["default"][s].placeRect(i,l,a),t.contains(i)&&!n.spatialIndex.hasOverlap(i,r)&&o.push(s);e.placements=o}),e.sort(function(e,t){return t.nodeCircle.node.sc-e.nodeCircle.node.sc})}},{key:"insertLabels",value:function(e){var t=this,n=[];return this.container.selectAll("div.map-label").data(e,function(e){return e.node._id}).enter().append("div").attr("class","map-label").style(y.label).text(function(e){return e.node.name.length<=f?e.node.name:e.node.name.substr(0,f-h.length)+h}).each(function(e){var a=this,r=new l.Rect(0,0,a.offsetWidth,a.offsetHeight);n.push({nodeCircle:e,div:a,svgRect:t.containerToSvg(r)})}),n}},{key:"moveLabels",value:function(e){var t=this;e.forEach(function(e){var n=t.svgToContainer(e.svgRect),a=e.div;a.style.left=n.x+"px",a.style.top=n.y+"px",a.style.opacity=1,e.rect=n}),this.container.selectAll("img").data(e).enter().append("img").attr("src",p).attr("width","8px").attr("height","10px").style(y.pointer).each(function(e){e.rule.placePointer(this,e.rect)})}},{key:"removeUnplacedLabels",value:function(e){this.container.selectAll("div.map-label").data(e.map(function(e){return e.nodeCircle}),function(e){return e.node._id}).remove()}},{key:"captureZoom",value:function(){var e=this.mapView.Layout.zoom;e&&(this.translate=this.mapView.Layout.zoom.translate(),this.scale=this.mapView.Layout.zoom.scale())}},{key:"containerToSvg",value:function(e){if(this.captureZoom(),e instanceof l.Rect)return new l.Rect((e.x-this.translate[0])/this.scale,(e.y-this.translate[1])/this.scale,e.w/this.scale,e.h/this.scale);if(e instanceof l.Circle)return new l.Circle((e.x-this.translate[0])/this.scale,(e.y-this.translate[1])/this.scale,e.r/this.scale);if(e instanceof l.Point)return new l.Point((e.x-this.translate[0])/this.scale,(e.y-this.translate[1])/this.scale);throw"containerToSvg invalid parameter: "+e}},{key:"svgToContainer",value:function(e){if(e instanceof l.Rect)return new l.Rect(e.x*this.scale+this.translate[0],e.y*this.scale+this.translate[1],e.w*this.scale,e.h*this.scale);if(e instanceof l.Circle)return new l.Circle(e.x*this.scale+this.translate[0],e.y*this.scale+this.translate[1],e.r*this.scale);if(e instanceof l.Point)return new l.Point(e.x*this.scale+this.translate[0],e.y*this.scale+this.translate[1]);throw"svgToContainer invalid parameter: "+e}},{key:"getSelectedPath",value:function(){var e=this.mapView.selectedNode;if(!e)return null;for(var t=e.getPath(),n=1;n<t.length;n++)if(!t[n]._inLink._pathHighlighted)return null;return new Set(t)}},{key:"tree",get:function(){return this.mapView.tree}},{key:"containerBounds",get:function(){var e=this.container.node().getBoundingClientRect();return new l.Rect(0,0,e.width,e.height)}}]),e}();t["default"]=m},883:function(e,t){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=100,l=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},s=function(e,t){return!(e.x+e.w<t.x||e.x>t.x+t.w||e.y+e.h<t.y||e.y>t.y+t.h)},u=function(e,t){return!(t.x<e.x||t.x>e.x+e.w||t.y<e.y||t.y>e.y+e.h)},c=function(e,t){if(!s(e,t.box))return!1;if(u(e,t))return!0;var n=void 0,a=void 0;for(t.x<=e.x?(n=new m(e.x,e.y),a=new m(e.x,e.y+e.h)):t.x>=e.x+e.w?(n=new m(e.x+e.w,e.y),a=new m(e.x+e.w,e.y+e.h)):t.y>=e.y+e.h?(n=new m(e.x,e.y+e.h),a=new m(e.x+e.w,e.y+e.h)):(n=new m(e.x,e.y),a=new m(e.x+e.w,e.y));l(n,a)>1;){var r=new m((n.x+a.x)/2,(n.y+a.y)/2);if(l(r,t)<=t.r)return!0;l(n,t)<l(a,t)?a=r:n=r}return!1},d=function(e){return Math.floor(e/i)*i},p=function(e,t){return d(e)+":"+d(t)},f=function(e,t,n){for(var a=t.box,r=d(a.x),o=d(a.x+a.w),l=d(a.y),s=d(a.y+a.h),u={cells:e,item:t,stop:!1},c=r;c<=o;c+=i){u.x=c;for(var f=l;f<=s;f+=i)if(u.y=f,u.id=p(c,f),u.cell=e.get(u.id),n(u),u.stop)return}},h=function(e,t,n){var a=new Set;f(e,t,function(e){var r=e.cell;if(r)for(var o=0;o<r.length;o++){var i=r[o];if(!a.has(i)&&(a.add(i),y(t,i)&&(e.cellItem=i,n(e),e.stop)))return}})},y=function(e,t){var n=e.box,a=t.box;return!!s(n,a)&&(e instanceof g?t instanceof g?l(e,t)<e.r+t.r:c(a,e):!(t instanceof g)||c(n,t))},m=t.Point=function(){function e(t,n){if(r(this,e),this.x=t-0,this.y=n-0,isNaN(this.x)||isNaN(this.y))throw"Invalid parameters in Point constructor"}return o(e,[{key:"toString",value:function(){return"{x:"+this.x+",y:"+this.y+"}"}},{key:"box",get:function(){return new b(this,0,0)}}]),e}(),b=t.Rect=function(e){function t(){if(r(this,t),3===arguments.length){var e=n(this,Object.getPrototypeOf(t).call(this,arguments[0].x,arguments[0].y));e.w=arguments[1],e.h=arguments[2]}else{if(4!==arguments.length)throw"Wrong number of parameters in Rect constructor";var e=n(this,Object.getPrototypeOf(t).call(this,arguments[0],arguments[1]));e.w=arguments[2],e.h=arguments[3]}if(isNaN(e.w)||isNaN(e.h)||e.w<0||e.h<0)throw"Invalid parameters in Rect constructor";return n(e)}return a(t,e),o(t,[{key:"contains",value:function(e){var t=e.box;return this.x<=t.x&&this.x+this.w>=t.x+t.w&&this.y<=t.y&&this.y+this.h>=t.y+t.h}},{key:"toString",value:function(){return"{x:"+this.x+",y:"+this.y+",w:"+this.w+",h:"+this.h+"}"}},{key:"box",get:function(){return this}}]),t}(m),g=t.Circle=function(e){function t(){if(r(this,t),2===arguments.length){var e=n(this,Object.getPrototypeOf(t).call(this,arguments[0].x,arguments[0].y));e.r=arguments[1]}else{if(3!==arguments.length)throw"Wrong number of parameters in Circle constructor";var e=n(this,Object.getPrototypeOf(t).call(this,arguments[0],arguments[1]));e.r=arguments[2]}if(isNaN(e.r)||e.r<0)throw"Invalid parameters in Circle constructor";return n(e)}return a(t,e),o(t,null,[{key:"distance",value:function(e,t){return l(e,t)-e.r-t.r}}]),o(t,[{key:"toString",value:function(){return"{x:"+this.x+",y:"+this.y+",r:"+this.r+"}"}},{key:"box",get:function(){return new b(this.x-this.r,this.y-this.r,2*this.r,2*this.r)}}]),t}(m),v=function(){function e(){r(this,e),this.cells=new Map}return o(e,null,[{key:"itemsOverlap",value:function(e,t){return y(e,t)}}]),o(e,[{key:"add",value:function(e){f(this.cells,e,function(t){var n=new b(t.x,t.y,i,i);y(n,e)&&(t.cell||(t.cell=[],t.cells.set(t.id,t.cell)),t.cell.push(e))})}},{key:"hasOverlap",value:function(e,t){t||(t=function(){return!0});var n=!1;return h(this.cells,e,function(e){t(e.cellItem)&&(e.stop=!0,n=!0)}),n}},{key:"findOverlaps",value:function(e){var t=[];return h(this.cells,e,function(e){t.push(e.cellItem)}),t}}]),e}();t["default"]=v},884:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(n(883),function(e){return Math.sqrt(e*e/2)}),i=function(){function e(t,n,r){a(this,e),this.name=t,this.placeRectFunc=n,this.placePointerFunc=r}return r(e,[{key:"placeRect",value:function(e,t,n){this.placeRectFunc(e,t,n)}},{key:"placePointer",value:function(e,t){this.placePointerFunc(e,t)}}]),e}(),l=new i("centerTop",function(e,t,n){e.x=t.x-e.w/2,e.y=t.y-t.r-n.h-e.h},function(e,t){e.style.left=t.x+t.w/2-e.offsetWidth/2+"px",e.style.top=t.y+t.h-1+"px"}),s=new i("centerBottom",function(e,t,n){e.x=t.x-e.w/2,e.y=t.y+t.r+n.h},function(e,t){e.style.left=t.x+t.w/2-e.offsetWidth/2+"px",e.style.top=t.y-e.offsetHeight+1+"px",e.style.transform="rotate(180deg)"}),u=new i("leftCenter",function(e,t,n){e.x=t.x-t.r-n.h-e.w,e.y=t.y-e.h/2},function(e,t){e.style.left=t.x+t.w-1+"px",e.style.top=t.y+t.h/2-e.offsetHeight/2+"px",e.style.transform="rotate(270deg)"}),c=new i("rightCenter",function(e,t,n){e.x=t.x+t.r+n.h,e.y=t.y-e.h/2},function(e,t){e.style.left=t.x-e.offsetHeight+2+"px",e.style.top=t.y+t.h/2-e.offsetHeight/2+"px",e.style.transform="rotate(90deg)"}),d=new i("leftTop",function(e,t,n){var a=o(t.r),r=a,i=n.h-n.w/2,l=i;e.x=t.x-a-i-e.w,e.y=t.y-r-l-e.h},function(e,t){e.style.left=t.x+t.w-e.offsetWidth/2+"px",e.style.top=t.y+t.h-e.offsetWidth/2-1+"px",e.style.transform="rotate(315deg)"}),p=new i("rightTop",function(e,t,n){var a=o(t.r),r=a,i=n.h-n.w/2,l=i;e.x=t.x+a+i,e.y=t.y-r-l-e.h},function(e,t){e.style.left=t.x-e.offsetWidth/2+"px",e.style.top=t.y+t.h-e.offsetWidth/2-1+"px",e.style.transform="rotate(45deg)"}),f=new i("leftBottom",function(e,t,n){var a=o(t.r),r=a,i=n.h-n.w/2,l=i;e.x=t.x-a-i-e.w,e.y=t.y+r+l},function(e,t){e.style.left=t.x+t.w+1-e.offsetWidth/2+"px",e.style.top=t.y-e.offsetWidth/2-1+"px",e.style.transform="rotate(225deg)"}),h=new i("rightBottom",function(e,t,n){var a=o(t.r),r=a,i=n.h-n.w/2,l=i;e.x=t.x+a+i,e.y=t.y+r+l},function(e,t){e.style.left=t.x-e.offsetWidth/2+"px",e.style.top=t.y-e.offsetWidth/2-1+"px",e.style.transform="rotate(135deg)"}),y=[l,s,u,c,d,p,f,h];t["default"]=y},885:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=(n(300),n(552)),u=(a(s),n(880)),c=a(u),d=60,p=10,f=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),l(t,[{key:"updateNodeCoords",value:function(){var e=(0,u.placeTight)(this.tree.root);(0,u.stretchOut)(e),this.tree.traverse(function(e){e.y=e.depth*d,e.x=e._x,e._angle=90})}},{key:"getInitialRootShift",value:function(){var e=this.d3Root.node().getBoundingClientRect();return{x:e.width/2-this.tree.root.x,y:this.tree.root._radius+p}}}]),t}(c["default"]);t["default"]=f},886:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=(n(300),n(552)),u=(a(s),n(880)),c=a(u),d=60,p=10,f=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),l(t,[{key:"updateNodeCoords",value:function(){var e=(0,u.placeTight)(this.tree.root);(0,u.stretchOut)(e),this.tree.traverse(function(e){e.x=e.depth*d,e.y=e._x,e._angle=0})}},{key:"getInitialRootShift",value:function(){var e=this.d3Root.node().getBoundingClientRect();return{x:this.tree.root._radius+p,y:e.height/2-this.tree.root.y}}}]),t}(c["default"]);t["default"]=f},887:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(848),c=r(u),d=n(624),p=(n(300),n(552)),f=a(p),h=(n(543),n(881)),y=a(h),m=n(596),b=n(612),g=a(b),v=n(572),E=n(575),A=a(E),O=n(610),w=a(O),_=n(611),x=a(_),P=n(554),C=a(P),S=(0,g["default"])("path-visits","path-value","path-valuepervisit"),k=30,R=100,T=98,D=15,M="#D0EBF6",L="#8CCEE8",N="#fff",j="#E3E3E3",I="#6AC0E2",F=["#FFFFFF","#F2F2F2","#E3E3E3","#CCCCCC","#BABABA","#A6A6A6","#999999","#8C8C8C","#737373"],B=["#000","#000","#000","#000","#000","#FFF","#FFF","#FFF","#FFF"],V=500,G=30,H={pathsHeader:{position:"absolute",overflow:"hidden",left:D+"px","white-space":"nowrap","background-color":j,"border-top":"1px solid #969696"},pathHeaderCell:{display:"inline-block",height:k+"px","line-height":k+"px",padding:"0 5px","border-right":"1px solid #f7f7f7","text-align":"center",cursor:"pointer",width:R+"px",position:"relative"},metricsHeader:{"box-shadow":"-5px 0px 5px #ccc",background:"#F0F0F0",position:"absolute","white-space":"nowrap","background-color":j,"border-top":"1px solid #969696"},metricsHeaderCell:{display:"inline-block",height:k+"px","line-height":k+"px",padding:"0 5px","border-right":"1px solid #f7f7f7","text-align":"center",cursor:"pointer",width:T+"px",position:"relative"},firstColumnContainer:{position:"absolute",overflow:"hidden","background-color":"#fff",left:0,top:k+"px",width:D+"px",bottom:0},pathsContainer:{position:"absolute",left:D+"px",bottom:0,overflow:"scroll","background-color":"#f0f0f0"},metricsContainer:{position:"absolute","overflow-x":"hidden","overflow-y":"scroll","background-color":"#f0f0f0","box-shadow":"-5px 0px 5px #ccc"},row:{position:"absolute","white-space":"nowrap",width:"100%","border-bottom":"1px dotted #d6d6d6",height:k+"px",left:0},firstColumnCell:{position:"absolute",display:"inline-block",height:k+"px",width:D+"px","border-bottom":"1px solid white"},pathCell:{display:"inline-block",height:k+"px","line-height":k+"px",padding:"0 5px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","border-bottom":"1px solid #E3E3E3","background-color":N,width:R+"px",cursor:"pointer"},unselectedCellBorder:{"border-color":null,"border-style":null,"border-width":0,"border-bottom":"1px solid #E3E3E3"},clickedCellBorder:{"border-color":"#2694C0","border-style":"solid","border-width":"2px"},metricCell:{display:"inline-block",height:k+"px","line-height":k+"px",padding:"0 5px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","background-color":"#fff","border-bottom":"1px solid #E3E3E3",width:T+"px"}},U=function(e){return e.node().getBoundingClientRect()},W=function(e){return e?"<i style=\"width:10px; height:10px; top:10px;right:10px;position:absolute;display:inline-block;line-height:normal;background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAGUExURQAAAP///6XZn90AAAACdFJOU/8A5bcwSgAAAENJREFUeNpiYAQCBgYQCRBADGAWmA0QQAwQFogNEEAMUBaQDRBADAgAEEBgDRAAEEBITIAAQmICBBASEyCAkJgAAQYADRsAR8j1xfwAAAAASUVORK5CYII=') no-repeat center;\"></i>":"<i style=\"width:10px; height:10px; top:10px;right:10px;position:absolute;display:inline-block;line-height:normal;background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAGUExURQAAAP///6XZn90AAAACdFJOU/8A5bcwSgAAAEFJREFUeNpiYIQDgABiQDABAgiJCRBASEyAAEJiAgQQAwIABBADI5wBEEBABVAWI0AAMUAVASmAAGKAaACRAAEGABHVAEeRYKW7AAAAAElFTkSuQmCC') no-repeat center;\"></i>"},z=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return l(t,e),s(t,[{key:"render",value:function(){return React.createElement("div",{style:this.rootStyle,className:this.rootClass,key:"table"})}},{key:"handleChanges",value:function(e){if(this.tree){if(this.init(),this.updateHeaders(),e.first&&this.tree&&this.initMetricsScales(),e.tree||e.layout){this._savedPath=null,this.initMetricsScales();var t=this.getPaths(),n=this.transitions.treeChangeDuration/2;return this.hasVisiblePaths()?(this.removeVisiblePaths(n),this.insertNew(t,n,n)):this.insertNew(t,n),e.tree&&this.applyFilter(),void this.updateHighlighted(t)}return e.sort&&this.updateExisting(this.getPaths(),this.transitions.sortDuration),e.selectedNode&&this.updateHighlighted(),e.filter?(this._savedPath=null,this.applyFilter(),void this.updateFiltered()):void 0}}},{key:"init",value:function(){if(!this.pathsHeader){var e=this,t=this.firstColumnContainer=this.d3Root.append("div").style(H.firstColumnContainer),n=this.pathsHeader=this.d3Root.append("div").style(H.pathsHeader);n.selectAll("span").data(f["default"].range(0,20)).enter().append("span").html(function(e){return e+1}).style(H.pathHeaderCell).on("click",function(t,n){
f["default"].event.stopPropagation(),e.mapView.onAction(c.columnHeaderClick("path",n))});var a=this.metricsHeader=this.d3Root.append("div").style(H.metricsHeader);a.selectAll("span").data(S).enter().append("span").html(function(e){return e.label}).style(H.metricsHeaderCell).on("click",function(t,n){f["default"].event.stopPropagation(),e.mapView.onAction(c.columnHeaderClick("metric",n))});var r=U(a).height,o=this.pathsContainer=this.d3Root.append("div").style(H.pathsContainer),i=this.metricsContainer=this.d3Root.append("div").style(H.metricsContainer),l=U(o).height-o.node().clientHeight,s=U(i).width-i.node().clientWidth,u=U(a).width+s;t.style("bottom",l+"px"),n.style({right:u+"px"}),a.style("right",s+"px"),i.style({top:r+"px",bottom:l+"px",right:0,width:u+"px"}),o.style({top:r+"px",right:u-s+"px"});var d=o.node().scrollTop;o.on("scroll",function(){var e=this.scrollTop-d;if(0!==e){var a=Math.sign(e);e=Math.max(Math.abs(e),G),this.scrollTop=d+a*e,d=this.scrollTop,i.node().scrollTop=d,t.node().scrollTop=d}n.node().scrollLeft=this.scrollLeft}),i.on("scroll",function(){var e=this.scrollTop-d;if(0!==e){var n=Math.sign(e);e=Math.max(Math.abs(e),G),this.scrollTop=d+n*e,d=this.scrollTop,o.node().scrollTop=d,t.node().scrollTop=d}})}}},{key:"updateHeaders",value:function(){var e=this;this.pathsHeader.selectAll("span").data(f["default"].range(0,20)).html(function(t){var n=t+1;return"path"!==e.sortBy||e.sortColIndex!==t?n:n+W(e.sortAsc)}),this.metricsHeader.selectAll("span").data(f["default"].range(0,S.length)).html(function(t){var n=S[t].label;return"metric"!==e.sortBy||e.sortColIndex!==t?n:n+W(e.sortAsc)})}},{key:"updateHighlighted",value:function(e){e=e||this.getPaths(),this.firstColumnContainer.selectAll("div.table-row").data(e,A["default"].getId).style("background-color",function(e){return e._pathHighlighted?M:e._filterHighlighted?L:N}),this.pathsContainer.selectAll("div.table-row").data(e,A["default"].getId).selectAll("span").data(function(e){return e.nodes}).style("background-color",function(e){return e._filterHighlighted?L:N});var t=[],n=this.selectedNode?this.selectedNode.getPath().length-1:-1;e.forEach(function(e){e._pathHighlighted&&t.push(e)}),this.pathsContainer.selectAll("div.table-row").data(t,A["default"].getId).selectAll("span").data(function(e){return e.nodes}).style("background-color",function(e,t){return t<n?M:e._filterHighlighted?L:N}),this.firstColumnContainer.selectAll("div.table-row").data(t,A["default"].getId).style("background-color",I)}},{key:"removeVisiblePaths",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];this.firstColumnContainer.selectAll("div.table-row").classed("table-row",!1).transition().delay(t).duration(e).style("opacity",0).remove(),this.pathsContainer.selectAll("div.table-row").classed("table-row",!1).transition().delay(t).duration(e).style("opacity",0).remove(),this.metricsContainer.selectAll("div.table-row").classed("table-row",!1).transition().delay(t).duration(e).style("opacity",0).remove()}},{key:"hasVisiblePaths",value:function(){return this.pathsContainer.selectAll("div.table-row")[0].length>0}},{key:"insertNew",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],a=this,r=this.firstColumnContainer.selectAll("div.table-row").data(e,A["default"].getId);r.enter().append("div").attr("class","table-row").style(H.firstColumnCell).style("top",function(e,t){return t*k+1+"px"}).on("click",function(e){f["default"].event.stopPropagation();var t=e.nodes[e.nodes.length-1];a.mapView.onAction(c.nodeClick(t))}).style("opacity",0).transition().delay(n).duration(t).tween("fps",a.measureTransitionSpeed()).style("opacity",1);var o=this.pathsContainer.selectAll("div.table-row").data(e,A["default"].getId);o.enter().append("div").attr("class","table-row").style(H.row).style("top",function(e,t){return t*k+"px"}).selectAll("span").data(function(e){return e.nodes}).enter().append("span").on("mouseover",function(e){f["default"].event.stopPropagation(),a.mouseNode=e,a.mouseElement=this,a.mapView.onAction(c.nodeMouseOver(e,a.mapView.Layout.computePopoverPosition(e,this)))}).on("mouseout",function(e){f["default"].event.stopPropagation(),a.mouseNode=null,a.mouseElement=null,a.mapView.onAction(c.nodeMouseOut(e))}).on("click",function(e){f["default"].event.stopPropagation(),a.mapView.onAction(c.nodeClick(e)),a.unselectAll(),f["default"].select(this).style(H.clickedCellBorder)}).on("dblclick",function(e){f["default"].event.stopPropagation(),a.mapView.onAction(c.nodeDblClick(e))}).style(H.pathCell).style("opacity",0).text(function(e){return e.name}).transition().delay(n).duration(t).style("opacity",1);var i=this.metricsContainer.selectAll("div.table-row").data(e,A["default"].getId);i.enter().append("div").attr("class","table-row").style(H.row).style("top",function(e,t){return t*k+"px"}).selectAll("span").data(function(e){return e.values}).enter().append("span").style(H.metricCell).style("opacity",0).style("background-color",function(e,t){return a.metricsBackgroundScales[t](e)}).style("color",function(e,t){return a.metricsScales[t](e)}).text(function(e,t){return S[t].formatValue(e)}).transition().delay(n).duration(t).style("opacity",1)}},{key:"updateExisting",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this.pathsContainer.selectAll("div.table-row").data(e,A["default"].getId).transition().delay(n).duration(t).style("top",function(e,t){return t*k+"px"}),this.metricsContainer.selectAll("div.table-row").data(e,A["default"].getId).transition().delay(n).duration(t).style("top",function(e,t){return t*k+"px"}),this.firstColumnContainer.selectAll("div.table-row").data(e,A["default"].getId).transition().delay(n).duration(t).style("top",function(e,t){return t*k+1+"px"})}},{key:"removeOld",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];this.pathsContainer.selectAll("div.table-row").data(e,A["default"].getId).exit().transition().delay(n).duration(t).style("opacity",0).remove(),this.metricsContainer.selectAll("div.table-row").data(e,A["default"].getId).exit().transition().delay(n).duration(t).style("opacity",0).remove(),this.firstColumnContainer.selectAll("div.table-row").data(e,A["default"].getId).exit().transition().delay(n).duration(t).style("opacity",0).remove()}},{key:"unselectAll",value:function(){this.pathsContainer.selectAll("div.table-row span").style(H.unselectedCellBorder)}},{key:"sort",value:function(e){var t=this.sortColIndex,n=this.sortAsc;if("path"===this.sortBy){var a=function(e,a){var r=e.nodes.length>t?e.nodes[t].name.toLowerCase():"",o=a.nodes.length>t?a.nodes[t].name.toLowerCase():"",i=r<o?-1:r>o?1:0;return n?i:-i};return e.sort(a)}if("metric"===this.sortBy){var r=function(e,a){var r=e.values[t],o=a.values[t],i=r<o?-1:r>o?1:0;return n?i:-i};return e.sort(r)}return e}},{key:"filter",value:function(e){e=e.filter(function(e){for(var t=0;t<e.nodes.length;t++)if(e.nodes[t]._synthetic)return!1;return!0});var t=void 0,n=void 0;if(this.pathFilter&&this.pathFilter.length){var a=this.pathFilter.map(function(e){return[e.rid]});t=new w["default"](a)}if(this.metricFilter&&this.metricFilter.length&&(n=new x["default"](this.metricFilter)),e=e.filter(function(e){var a=void 0;if(t)return!!(a=t.matchPath(e.nodes))&&(!n||(a=n.filterMatches(a),!!a.length));if(!n)return!0;var r=e.nodes[e.nodes.length-1];return n.matchNode(r)}),e.length>V){var r=C["default"].translate("Table view shows top {0} paths out of {1} total.").replace("{0}",V).replace("{1}",e.length);this.mapView.onAction((0,d.addMessage)(r,m.messageSeverity.info,"table-top",m.pathTrimOrNodeGroupMessageId)),e=e.sort(function(e,t){return t.values[0]+t.values[1]-(e.values[0]+e.values[1])}).slice(0,V)}return e}},{key:"getPaths",value:function(){var e=void 0;return this._savedPath?e=this._savedPath:(e=this.tree.getPaths(S,v.VisibilityModes.All),e=this.filter(e),e.forEach(function(e){e.nodes=e.nodes.slice(1)}),this._savedPath=e),this.performHighlighting(e),this.sort(e)}},{key:"performHighlighting",value:function(e){var t="-1";if(this.selectedNode){var n=new A["default"](this.selectedNode);n.nodes=n.nodes.slice(1),t=A["default"].getId(n)}e.forEach(function(e){e._pathHighlighted=0===A["default"].getId(e).indexOf(t),e._filterHighlighted=!1,e.nodes.forEach(function(t){t._filterHighlighted&&(e._filterHighlighted=!0)})})}},{key:"initMetricsScales",value:function(){var e=[];S.forEach(function(){e.push([])}),this.tree.traverse(function(t){if(t.ec>0&&t.depth>0)for(var n=0;n<S.length;n++)e[n].push(S[n].getValue(t))},v.VisibilityModes.All),this.metricsBackgroundScales=[],this.metricsScales=[];for(var t=0;t<e.length;t++){var n=f["default"].min(e[t]),a=f["default"].max(e[t]),r=f["default"].mean(e[t]),o=[n+.001,.25*r,.75*r,r,1.25*r,1.5*r,1.75*r,a-.001],i=f["default"].scale.threshold().domain(o).range(F);this.metricsBackgroundScales.push(i),i=f["default"].scale.threshold().domain(o).range(B),this.metricsScales.push(i)}}},{key:"updateFiltered",value:function(e){var t=this.getPaths(),n=0===arguments.length?this.transitions.filterDuration/3:e,a=this.pathsContainer.selectAll("div.table-row").data(t,A["default"].getId),r=0;a.exit().size()&&(this.removeOld(t,n),r=n),a.size()&&(this.updateExisting(t,n,r),r+=n),a.enter().size()&&this.insertNew(t,n,r),this.updateHighlighted(t)}},{key:"computePopoverPosition",value:function(e,t){var n=t.getBoundingClientRect(),a=this.mapView.refs.mapViewContainer.getBoundingClientRect(),r=n.width/2,o=n.height/2,i=n.left+n.width/2-a.left,l=n.top+n.height/2-a.top,s=a.top,u=a.right,c=a.bottom,d=a.left,p=a.width,f=a.height;return p-=T*S.length,{top:s,right:u,bottom:c,left:d,width:p,height:f,dx:r,dy:o,x:i,y:l}}},{key:"sortBy",get:function(){return this.mapView.props.sortBy}},{key:"sortColIndex",get:function(){return this.mapView.props.sortColIndex}},{key:"sortAsc",get:function(){return this.mapView.props.sortAsc}}]),t}(y["default"]);t["default"]=z},888:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=C;return{actions:(0,m.bindActionCreators)(t,e)}}function u(e){return{tree:e.mutable.treeData,layout:e.layoutSelector.selectedLayout,showLabels:e.mapView.showLabels,showLegend:e.mapView.showLegend}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(300),p=n(476),f=r(p),h=n(453),y=(r(h),n(454)),m=n(461),b=n(553),g=n(889),v=r(g),E=n(628),A=r(E),O=n(554),w=r(O),_=n(630),x=r(_),P=n(624),C=a(P),S=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props.layout===b.layoutKeys.radial||this.props.layout===b.layoutKeys.horizontal||this.props.layout===b.layoutKeys.vertical;return e?React.createElement("div",{style:k.main,ref:"main"},React.createElement(A["default"],{id:"showLabelsButton",iconStyle:[k.button.icon,k.button.labelIcon],buttonStyle:[k.button.base,k.button.left],onClick:this.props.showLabelsHandler,isOpen:this.props.showLabels,tooltip:{"data-tip":{},"data-for":"labelsTooltip"}}),React.createElement(A["default"],{id:"showLegendButton",iconStyle:[k.button.icon,k.button.legendIcon],buttonStyle:[k.button.base,k.button.right],onClick:this.props.showLegendHandler,isOpen:this.props.showLegend,tooltip:{"data-tip":{},"data-for":"legendTooltip"}}),this.props.showLegend?React.createElement(v["default"],{onClose:this.props.showLegendHandler,actions:this.props.actions}):null,React.createElement(x["default"],{id:"labelsTooltip",position:"right"},this.props.showLabels?w["default"].translate("Hide node labels"):w["default"].translate("Show node labels")),React.createElement(x["default"],{id:"legendTooltip",position:"right"},this.props.showLegend?w["default"].translate("Hide legend"):w["default"].translate("Show legend"))):null}}]),t}(d.Component),k={main:{position:"fixed",zIndex:"2",left:15,right:0,bottom:15,margin:0,padding:0,width:72,height:30,backgroundColor:"#fff",MozBoxShadow:"0px 0px 3px #ccc",WebkitBoxShadow:"0px 0px 3px #ccc",boxShadow:"0px 0px 3px #ccc"},button:{base:{minWidth:"inherit",padding:"0px 10px",lineHeight:"0px",height:"30px",display:"inline",backgroundColor:"transparent !important",backgroundImage:"none",borderRadius:"2px",border:0},right:{},left:{},icon:{display:"inline",fontSize:"16px",width:"16px",height:"16px",margin:"0px",color:"#474747"},legendIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACbUlEQVR42u1ZvYoCMRBeRBDsFp/B7WwWtBFLn8EtZZ/hWuHA8ip9AAufQSy817ARH8DqChErT7zZYw6GsD+TZHLuygY+kM3MZL6YmUwSz6tb3Z7fut1uCzAGzAEbwAFwBtwRZ/y2QZlEtlUGx/uAFTr40MQZdfvPcDwE7AyczkJiK/wPx9uAJS4L1YkjYAGIAD2AD2ggfPwWocwxRf+OfW1XzgeAvTLoDbAGDAzsDVD3pthMxgiknR8CvpSBthID4cRsFdvJWENJ5y/E+BUQF+iMAJ8oe8XfowKdGGX/xrlYk8DZoTN/Kgo26J8AvlPWePJtwkgOJ+WfCGwCdq84HxTodApSatLXYUzaSYmJtgmBpbJsQobOlJEyp8w0TZfT0iTP01QZM/VmDAIzpq1YSbGhDgG6SW019ET+AWKPZqedTnlA83ygMaB1DKTEA90n+hylFVFYG8SOcRbKsLcmNlacqpLO4MAwg2nvAwU7Nv0HW3nCY1rblKhcp7XTOE9wTgQXJSJAU/o8T3BDBKMSEYiIX5s8wQMR7BkM9J6RfZJM8mFBoEdsHfIEaQD7ggR+SVgQ8Gkg5wnS3bchTOBhQaBBd2WXBJqAt2cSsFpChIQ0AfYSsgpiYkeaADuIRdKoAwLsNCqykTkgwN7IREoJBwTYpYRUMSdGQKuYkyinHRDgl9O2BxppAkYHGpsjpQMC+kdKm0N90UaW9GnYMT/Uo4GFwbVKbimBfU3mBF6tUrruxZbulbrziy3dq0UJAqJXi7qXu7YEnFzuvsT1+ks8cCiBXc0nppRgq94jX0bZUb1n1owqtnoP3XWrm+f9ALRTaIqexW/iAAAAAElFTkSuQmCC')",backgroundSize:"16px 16px"},labelIcon:{backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABsElEQVR42u2XP2oCQRSHhYCLRWIV7AN7l+QCgVRKhBiS3QPEyjN4CA+QMrmGjWltU9gZEoh5A1NsHqPz7828t7ADPwRHfn7fOjzGXq9b3UqzyrIsIEvIDnIIyBYy4xRYBoLjzLkEdkQCPBII4AtSQ4Y6FWQvWgK+cNHIjWH/Gn1moY/dhwZ+hbyJOE6e4meQO0gfMsgqgSbPb0DU5HlAnfkkCCfPC4sE8eTJL2GZPLV+T64EKq4N+5UFWE2edzYJVDo07F9Y4AsNyCMRIaDg+wgwvwQqqwz7z8eevOGz+SVQ0V4Dq6d+DnkyXB+M8GwSnhPm37ERIeEJX3j05pFIAZ9VgurYsEmkhCeQmMYIBB0bYolNqADJkw+UGDf2Pl1KtzngXSTg9Qry3Xh/5VI4Q2XqJxwk/gd3SuJR/1FaQy5dC+fCJCaQkW+hFIn7mEIJEpvYQg4Jv8kjSQJ6byE/XpNHioQB3n3ycEscgR+l+InJJbLBp5DIDk8pwQZPIcEOHyMhBj5EQhy8j4RYeBcJ8fAWiXEr4E9IHFoDb5FoB3xDYqru8+pKrG6VpBezbglaf/EvZMrQFedoAAAAAElFTkSuQmCC')",backgroundSize:"16px 16px"}}};t["default"]=(0,y.connect)(u,s)((0,f["default"])(S))},889:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{backgroundColor:"white",bottom:"0px",boxSizing:"border-box",color:"rgb(71, 71, 71)",left:"90px",margin:"0px",padding:"0px",position:"absolute"},headerH5:{textAlign:"center"},"container-connector":{width:"8px",height:"24px",zIndex:"2",position:"absolute",bottom:0,left:"-9px"},"container-connector-svg-polygon":{fill:"#E3E3E3"},"container-body":{borderRadius:"4px",boxShadow:"0px 0px 6px #ccc",height:"130",position:"relative",width:"440px"},"container-body-header":{cursor:"pointer",position:"absolute",right:"10px",top:"6px"},"container-body-header-svg-line":{stroke:"#d6d6d6",strokeWidth:2},"container-body-content":{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-start",position:"relative",top:"30px"},"container-body-content-inner":{padding:"0 15px 10px",width:"33%",height:"85px"},"container-body-content-inner-2":{padding:"0 15px 10px",width:"25%",height:"85px"},"container-body-content-inner-content":{height:"40px"},"container-body-content-inner-content-value-text":{color:"#474747",display:"flex",fontSize:"12px"},"container-body-content-inner-content-visits-text":{color:"#474747",display:"flex",fontSize:"12px"},"container-body-content-inner-content-vv-text":{color:"#474747",display:"flex",fontSize:"12px"},"legend-text-left":{width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"legend-text-right":{textAlign:"right",width:"50%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"legend-gray":{fill:"#DBDBDB"},"legend-grayest":{fill:"#d6d6d6"},"legend-1":{fill:"#DA3B1F"},"legend-2":{fill:"#ec9d8d"},"legend-3":{fill:"#F1EEF6"},"legend-4":{fill:"#90b67d"},"legend-5":{fill:"#698e57"},"legend-6":{fill:"#F1EEF6",stroke:"#5e5e5e",strokeWidth:"1"},header:{borderBottom:"1px solid #e3e3e3",borderRadius:"4px 4px 0 0",top:"0px",height:"32px",lineHeight:"32px",position:"absolute",width:"100%"},"header-how-to-read":{fontSize:"12px",padding:"2px 15px",width:"270px"},"header-how-to-read-h4":{display:"inline"},"footer-help-svg-path":{fill:"#f0f0f0"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(795),m=a(y),b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l();return c["default"].createElement("div",{style:[e.container]},c["default"].createElement("div",{style:[e["container-connector"]]},c["default"].createElement("svg",{viewBox:"0 0 4.81 8.94"},c["default"].createElement("polygon",{points:"4.81 0 4.81 8.94 0 4.47 4.81 0",style:[e["container-connector-svg-polygon"]]}))),c["default"].createElement("div",{style:[e["container-body"]]},c["default"].createElement("div",{style:[e.header]},c["default"].createElement("div",{style:[e["header-how-to-read"]]},c["default"].createElement("h4",{style:[e["header-how-to-read-h4"]]},h["default"].translate("Legend")),c["default"].createElement(m["default"],{anchor:"map-key",actions:this.props.actions}))),c["default"].createElement("div",{style:[e["container-body-header"]],onClick:this.props.onClose},c["default"].createElement("svg",{width:"10",height:"10"},c["default"].createElement("line",{x1:"0",y1:"0",x2:"10",y2:"10",style:[e["container-body-header-svg-line"]]}),c["default"].createElement("line",{x1:"0",y1:"10",x2:"10",y2:"0",style:[e["container-body-header-svg-line"]]}))),c["default"].createElement("div",{style:[e["container-body-content"]]},c["default"].createElement("div",{style:e["container-body-content-inner"]},c["default"].createElement("h5",{style:[e.headerH5]},h["default"].translate("Value")),c["default"].createElement("div",{style:[e["container-body-content-inner-content"]]},c["default"].createElement("svg",{viewBox:"0 0 68 25"},c["default"].createElement("circle",{cx:"4",cy:"16",r:"4",style:[e["legend-gray"]]}),c["default"].createElement("circle",{cx:"18",cy:"14",r:"6",style:[e["legend-gray"]]}),c["default"].createElement("circle",{cx:"36",cy:"12",r:"8",style:[e["legend-gray"]]}),c["default"].createElement("circle",{cx:"58",cy:"10",r:"10",style:[e["legend-gray"]]})),c["default"].createElement("div",{style:[e["container-body-content-inner-content-value-text"]]},c["default"].createElement("div",{style:[e["legend-text-left"]]},h["default"].translate("Low")),c["default"].createElement("div",{style:[e["legend-text-right"]]},h["default"].translate("High"))))),c["default"].createElement("div",{style:e["container-body-content-inner"]},c["default"].createElement("h5",{style:[e.headerH5]},h["default"].translate("Visits")),c["default"].createElement("div",{style:[e["container-body-content-inner-content"]]},c["default"].createElement("svg",{viewBox:"0 0 68 25"},c["default"].createElement("rect",{x:"107.06",y:"45.58",width:"26.22",height:"3",transform:"translate(-45.58 133.29) rotate(-90)",style:[e["legend-grayest"]]}),c["default"].createElement("rect",{x:"125.75",y:"44.08",width:"26.22",height:"6",transform:"translate(-26.89 151.98) rotate(-90)",style:[e["legend-grayest"]]}),c["default"].createElement("rect",{x:"146.34",y:"43.08",width:"26.22",height:"8",transform:"translate(-6.3 172.57) rotate(-90)",style:[e["legend-grayest"]]}),c["default"].createElement("rect",{x:"168.56",y:"42.08",width:"26.22",height:"10",transform:"translate(15.92 194.79) rotate(-90)",style:[e["legend-grayest"]]})),c["default"].createElement("div",{style:[e["container-body-content-inner-content-visits-text"]]},c["default"].createElement("div",{style:[e["legend-text-left"]]},h["default"].translate("Low")),c["default"].createElement("div",{style:[e["legend-text-right"]]},h["default"].translate("High"))))),c["default"].createElement("div",{style:e["container-body-content-inner"]},c["default"].createElement("h5",{style:[e.headerH5]},h["default"].translate("Value per visit")),c["default"].createElement("div",{style:[e["container-body-content-inner-content"],{paddingTop:"10px"}]},c["default"].createElement("svg",{viewBox:"0 0 68 20"},c["default"].createElement("circle",{cx:"6",cy:"6",r:"6",style:[e["legend-1"]]}),c["default"].createElement("circle",{cx:"19.95",cy:"6",r:"6",style:[e["legend-2"]]}),c["default"].createElement("circle",{cx:"33.9",cy:"6",r:"6",style:[e["legend-3"]]}),c["default"].createElement("circle",{cx:"47.85",cy:"6",r:"6",style:[e["legend-4"]]}),c["default"].createElement("circle",{cx:"61.81",cy:"6",r:"6",style:[e["legend-5"]]})),c["default"].createElement("div",{style:[e["container-body-content-inner-content-vv-text"]]},c["default"].createElement("div",{style:[e["legend-text-left"]]},h["default"].translate("Less")),c["default"].createElement("div",{style:[e["legend-text-right"]]},h["default"].translate("More"))))),c["default"].createElement("div",{style:e["container-body-content-inner-2"]},c["default"].createElement("h5",{style:[e.headerH5]},h["default"].translate("Other node")),c["default"].createElement("div",{style:[e["container-body-content-inner-content"],{paddingTop:"10px"}]},c["default"].createElement("svg",{viewBox:"0 0 68 20"},c["default"].createElement("circle",{cx:"34",cy:"8",r:"6",style:[e["legend-6"]]})))))))}}]),t}(u.Component);t["default"]=(0,p["default"])(b)},890:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{}}function u(e){return{actions:(0,m.bindActionCreators)(P,e)}}function c(e){var t=e.reportsPanel.visible?k.panelNames.reports:e.pathInfoPanel.visible?k.panelNames.pathInfo:e.funnelsPanel.visible?k.panelNames.funnels:e.totalsPanel.visible?k.panelNames.totals:k.panelNames.totals,n=(0,E["default"])(e.explorer.favoriteFunnels,{mapId:e.explorer.mapId}),a=n?(0,E["default"])(e.explorer.funnels,{id:n.funnelId}):null,r=(0,O["default"])(e.funnelsPanel);return r.funnels=e.explorer.funnels,r.favoriteFunnel=a,{visible:e.contextPane.visible,explorer:e.explorer,treeData:e.mutable.treeData,pathInfoPanel:e.pathInfoPanel,funnelsPanel:r,totalsPanel:e.totalsPanel,activePanel:t,selectedLayout:e.layoutSelector.selectedLayout}}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextPane=void 0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var f=n(300),h=r(f),y=n(454),m=n(461),b=n(476),g=(r(b),n(629)),v=(r(g),n(583)),E=r(v),A=n(579),O=r(A),w=n(850),_=n(891),x=n(624),P=a(x),C=n(554),S=(r(C),n(628)),k=(r(S),n(591)),R=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this))}return l(t,e),p(t,[{key:"getChildContext",value:function(){return{activePanel:this.props.activePanel,actions:this.props.actions}}},{key:"handlePaneClose",value:function(){this.props.actions.toggleContextPane()}},{key:"render",value:function(){var e=(s(),void 0);return this.props.activePanel===k.panelNames.totals?e=h["default"].createElement(_.TotalsPanel,d({},this.props.explorer,this.props.totalsPanel,{treeData:this.props.treeData})):this.props.activePanel===k.panelNames.reports?e=h["default"].createElement(_.ReportsPanel,{selectedLayout:this.props.selectedLayout,actions:this.props.actions}):this.props.activePanel===k.panelNames.pathInfo?e=h["default"].createElement(_.PathInfoPanel,d({selectedLayout:this.props.selectedLayout},this.props.pathInfoPanel,{treeData:this.props.treeData,actions:this.props.actions})):this.props.activePanel===k.panelNames.funnels&&(e=h["default"].createElement(_.FunnelsPanel,d({selectedLayout:this.props.selectedLayout},this.props.funnelsPanel,{treeData:this.props.treeData,actions:this.props.actions}))),h["default"].createElement(w.OverlayPanel,{visible:this.props.visible,alignment:"right",menuWidth:this.props.style.width?this.props.style.width:"300px",onClose:this.handlePaneClose.bind(this)},e)}}]),t}(f.Component);R.childContextTypes={activePanel:f.PropTypes.string,actions:f.PropTypes.object},t.ContextPane=R,t["default"]=(0,y.connect)(c,u)(R)},891:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(864);Object.defineProperty(t,"Contact",{enumerable:!0,get:function(){return a(r)["default"]}});var o=n(863);Object.defineProperty(t,"ContactList",{enumerable:!0,get:function(){return a(o)["default"]}});var i=n(892);Object.defineProperty(t,"FunnelsPanel",{enumerable:!0,get:function(){return a(i)["default"]}});var l=n(856);Object.defineProperty(t,"ContextPaneNavigation",{enumerable:!0,get:function(){return a(l)["default"]}});var s=n(895);Object.defineProperty(t,"PathInfoPanel",{enumerable:!0,get:function(){return a(s)["default"]}});var u=n(896);Object.defineProperty(t,"ReportsPanel",{enumerable:!0,get:function(){return a(u)["default"]}});var c=n(861);Object.defineProperty(t,"SubPanels",{enumerable:!0,get:function(){return a(c)["default"]}});var d=n(862);Object.defineProperty(t,"SubPanelsItem",{enumerable:!0,get:function(){return a(d)["default"]}});var p=n(904);Object.defineProperty(t,"TotalsPanel",{enumerable:!0,get:function(){return a(p)["default"]}})},892:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FunnelsPanel=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(579),u=(a(s),n(300)),c=a(u),d=n(476),p=a(d),f=n(583),h=a(f),y=n(554),m=a(y),b=n(638),g=(a(b),n(787)),v=(a(g),n(859)),E=a(v),A=n(811),O=a(A),w=n(810),_=a(w),x=n(833),P=a(x),C=n(612),S=a(C),k=n(891),R=n(850),T=n(893),D=a(T),M=n(543),L=n(628),N=a(L),j=n(894),I=a(j),F=n(801),B=a(F);n(807);var V=n(553),G=function(e){function t(){r(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.state={selectedFunnel:null},e}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.funnels&&!(0,M.arraysAreEqual)(e.funnels,this.props.funnels)&&this.setState({funnels:e.funnels}),this.props.selectedFunnel&&e.selectedFunnel&&this.props.selectedFunnel.id!==e.selectedFunnel.id&&this.setState({selectedFunnel:e.selectedFunnel||selectedFunnel})}},{key:"openFunnels",value:function(){window.open((0,M.getMarketingCenterLink)(),"_blank"),this.setState({isOpen:!1})}},{key:"setFilter",value:function(){this.props.actions.setFilter(this.props.matchingFunnel),this.setState({isOpen:!1})}},{key:"handleSelectFunnel",value:function(e){var t=(0,h["default"])(this.props.funnels,{id:e.value});this.setState({selectedFunnel:t}),this.props.actions.selectFunnel(t,this.props.treeData)}},{key:"onFavoriteClick",value:function(){var e=this.selectedFunnelIsFavorite()?null:this.props.selectedFunnel.id;this.props.actions.setFavoriteFunnel(e)}},{key:"selectedFunnelIsFavorite",value:function(){return this.props.selectedFunnel&&this.props.favoriteFunnel&&this.props.selectedFunnel.id===this.props.favoriteFunnel.id}},{key:"render",value:function(){var e=this.props.funnels,t=c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-2 col-md-offset-2"},c["default"].createElement("a",{className:"btn sc-button btn-primary",type:"button",href:(0,M.getMarketingCenterLink)(),target:"_new",title:m["default"].translate("Opens Marketing Control Panel"),style:H.firstFunnelButton},m["default"].translate("Create your first funnel")," ",c["default"].createElement("img",{src:"data:image/gif;base64,R0lGODlhCwALAJEAAP///5mZmf///wAAACH5BAUUAAIALAAAAAALAAsAAAIdlIOJJgEPA3MKKGdRfjRtu3UcFGFXRVpTqh6nZBQAOw==",style:{marginLeft:"3px"}}))));if(this.props.loading&&(t=c["default"].createElement("h3",null,[m["default"].translate("Loading..."),c["default"].createElement(_["default"],{key:"loadingIndicator"})])),!this.props.loading&&e&&e.length>0){var n=e.map(function(e,t){return{label:e.name,value:e.id}}),a=m["default"].translate("Select a funnel");t=c["default"].createElement(B["default"],{style:this.props.style,name:"list",placeholder:a,options:n,clearable:!1,value:this.props.selectedFunnel?this.props.selectedFunnel.id:a,onChange:this.handleSelectFunnel.bind(this)})}var r=void 0,o=this.props.matchingFunnel,i=[];if(this.props.selectedFunnel)if(o&&o.length>0){
var l=o[o.length-1];r=c["default"].createElement("div",{style:H.funnelDetailsContainer},c["default"].createElement(I["default"],{funnel:this.props.selectedFunnel,isFavorite:this.selectedFunnelIsFavorite(),showMetaData:"true",onFavoriteClick:this.onFavoriteClick.bind(this),actions:this.props.actions}),c["default"].createElement(E["default"],{path:o,metrics:(0,S["default"])("sc","sv","vpv"),fixedLabelWidth:75}),c["default"].createElement(P["default"],{node:l,metrics:"sc,sv,vpv,ec,ev,evpv,evp,outcomes,monetaryValue"})),this.props.selectedLayout!==V.layoutKeys.dashboard?i.push(c["default"].createElement("div",{className:"col-md-6",key:"funnelToolbarCol1"},c["default"].createElement(N["default"],{key:"filter",title:m["default"].translate("Set the selected path as filter"),text:m["default"].translate("Set as filter"),buttonStyle:[H.button.base,H.setFilter.button],onClick:this.setFilter.bind(this),isOpen:!1}))):i.push(c["default"].createElement("div",{className:"col-md-6",key:"funnelToolbarCol1"})),i.push(c["default"].createElement("div",{className:"col-md-6",key:"funnelToolbarCol2"},c["default"].createElement(N["default"],{key:"open",title:m["default"].translate("Create and delete funnels in the Marketing Control Panel."),text:m["default"].translate("Open all funnels"),buttonStyle:[H.button.base,H.openFunnels.button],onClick:this.openFunnels.bind(this),isOpen:!1})))}else{var s=m["default"].translate("No data can be found for the selected funnel on the current map."),u=m["default"].translate("Please try selecting a different map or change the date range.");r=c["default"].createElement(O["default"],{title:s,text:u})}return c["default"].createElement("div",null,c["default"].createElement(R.OverlayPanelHeader,{text:m["default"].translate("Map overview")}),c["default"].createElement(R.OverlayPanelContent,null,c["default"].createElement(k.ContextPaneNavigation,null),c["default"].createElement("div",{style:{overflowY:"auto",height:"100%"}},t,r,c["default"].createElement("div",{style:{height:"45px"}}))),c["default"].createElement(D["default"],null,i))}}]),t}(u.Component),H={funnelDetailsContainer:{paddingTop:"10px"},button:{base:{marginRight:"15px",width:"100%",overflow:"hidden"},icon:{display:"inline-block",fontSize:"18px",width:"18px",height:"18px",margin:"0 3px 0 0"}},openFunnels:{icon:{},button:{}},setFilter:{icon:{},button:{}},parentButton:{fontSize:"18px",width:"250px",background:"#fff",borderColor:"#fff",WebkitBoxShadow:"none",boxShadow:"none"},childButton:{fontSize:"14px",width:"250px",background:"#fff",borderColor:"#fff",WebkitBoxShadow:"none",boxShadow:"none",textAlign:"left"},selectorStyle:{position:"relative",height:"auto",lineHeight:"normal",padding:"0px",backgroundColor:"transparent",textAlign:"left",border:"none"},firstFunnelButton:{color:"#ffffff"}};t.FunnelsPanel=G,t["default"]=(0,p["default"])(G)},893:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{footer:{paddingRight:0,boxSizing:"content-box"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l();return c["default"].createElement("div",{className:"sc-ovelaypanel-buttons",style:e.footer},this.props.children)}}]),t}(u.Component);t["default"]=(0,p["default"])(f)},894:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{},title:{fontSize:"18px",marginBottom:"10px",verticalAlign:"baseline"},info:{list:{marginTop:"10px"},label:{textAlign:"left",fontWeight:"bold",width:"100px"},data:{marginLeft:"100px"}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.FunnelInfo=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(559),h=a(f),y=n(554),m=a(y),b=n(790),g=n(791),v=a(g),E=n(795),A=a(E),O=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){if(!this.props.funnel)return null;var e=l(),t=this.props.funnel,n=t.name,a=t.lastUpdatedBy,r=t.lastUpdated,o=[{label:m["default"].translate("Created by")+":",data:a},{label:m["default"].translate("Created on")+":",data:r?(0,h["default"])(r).format(b.dateFormat):""}],i=this,s=null;return this.props.showMetaData&&(s=c["default"].createElement("dl",{className:"dl-horizontal",style:[e.info.list,this.props.style.info.list]},o.map(function(t){return[c["default"].createElement("dt",{style:[e.info.label,i.props.style.info.label]},t.label),c["default"].createElement("dd",{style:[e.info.data,i.props.style.info.data]},t.data)]}))),c["default"].createElement("div",{style:[e.container,this.props.style.container]},c["default"].createElement("div",null,[c["default"].createElement(v["default"],{key:"funnel",isFavorite:this.props.isFavorite,onFavoriteClick:this.props.onFavoriteClick}),c["default"].createElement("span",{key:"title"},c["default"].createElement("span",{style:[e.title,this.props.style.title]},n),c["default"].createElement(A["default"],{key:"funnel-help",anchor:"funnels",actions:this.props.actions}))]),s)}}]),t}(u.Component);O.defaultProps={style:{info:{}}},t.FunnelInfo=O,t["default"]=(0,p["default"])(O)},895:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{toolbar:{},button:{base:{marginRight:"15px",width:"100%",overflow:"hidden"},icon:{display:"inline-block",fontSize:"18px",width:"18px",height:"18px",margin:"0 3px 0 0"}},saveAsFilter:{icon:{},button:{}},setFilter:{icon:{},button:{}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(579),h=a(f),y=n(554),m=a(y),b=n(833),g=a(b),v=n(612),E=a(v),A=n(835),O=a(A),w=n(859),_=a(w),x=n(863),P=a(x),C=n(809),S=(a(C),n(861)),k=a(S),R=n(862),T=a(R),D=n(891),M=n(850),L=n(893),N=a(L),j=n(628),I=a(j),F=n(811),B=(a(F),(0,E["default"])("sc")[0],function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={node:null,path:null,savedFunnels:[]},n}return i(t,e),s(t,[{key:"componentWillMount",value:function(){if(this.props.itemId&&this.props.actions.fetchItemData({itemId:this.props.itemId}),this.props.treeData.root&&this.props.nodeId!==-1){var e=this.props.treeData.findNode(this.props.nodeId);e&&this.setState({node:e,path:e.getPath()})}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.itemId!==e.itemId&&e.itemId&&this.props.actions.fetchItemData({itemId:e.itemId}),e.treeData.root&&e.nodeId!==-1){var t=e.treeData.findNode(e.nodeId);t&&this.setState({node:t,path:t.getPath()})}}},{key:"saveFunnel",value:function(){var e=(0,h["default"])(this.state.savedFunnels);e.push(this.state.node._id),this.setState({savedFunnels:e}),this.props.actions.savePathAsFunnel(this.state.path)}},{key:"setFilter",value:function(){this.props.actions.setFilter(this.state.path.slice(1))}},{key:"render",value:function(){var e=m["default"].translate("No path is found"),t=null,n=this.state.node;n&&(e=c["default"].createElement(g["default"],{node:n,metrics:"sc,sv,vpv,ec,ev,evpv,evp,duration,outcomes,monetaryValue,averageMonetaryValue"}),t=c["default"].createElement(g["default"],{node:n,metrics:"sc,sv,vpv"}));var a=l(),r=this.state.savedFunnels.indexOf(n._id)===-1;return c["default"].createElement("div",null,c["default"].createElement(M.OverlayPanelHeader,{text:m["default"].translate("Selected path overview")}),c["default"].createElement(M.OverlayPanelContent,null,c["default"].createElement(D.ContextPaneNavigation,null),c["default"].createElement(k["default"],null,c["default"].createElement(T["default"],{title:m["default"].translate("Path")},c["default"].createElement(_["default"],{node:n,metrics:(0,E["default"])("sc","sv","vpv"),fixedLabelWidth:75}),t),c["default"].createElement(T["default"],{title:m["default"].translate("Next")},c["default"].createElement(O["default"],{node:n})),c["default"].createElement(T["default"],{title:m["default"].translate("Metrics")},e),c["default"].createElement(T["default"],{title:m["default"].translate("Contacts")},c["default"].createElement(P["default"],{contacts:this.props.contacts,maxContactsToDisplay:3})))),c["default"].createElement(N["default"],null,c["default"].createElement("div",{className:"col-md-6"},c["default"].createElement(I["default"],{id:"action-FilterSimilarPaths",title:m["default"].translate("Set the selected path as filter"),text:m["default"].translate("Set as filter"),buttonStyle:[a.button.base,a.setFilter.button],onClick:this.setFilter.bind(this),isOpen:!1,disabled:n.getPath().length>5})),c["default"].createElement("div",{className:"col-md-6"},c["default"].createElement(I["default"],{id:"action-SaveAsFunnel",title:m["default"].translate("Save this path as a funnel"),text:m["default"].translate("Save as funnel"),buttonStyle:[a.button.base,a.saveAsFilter.button],onClick:this.saveFunnel.bind(this),isOpen:!1,disabled:!r}))))}}]),t}(u.Component));t["default"]=(0,p["default"])(B)},896:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{mapName:e.explorer.mapName,startDate:e.explorer.startDate,endDate:e.explorer.endData,contacts:e.reportsPanel.contacts,treeData:e.mutable.treeData}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReportsPanel=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.mapStateToProps=s;var c=n(300),d=r(c),p=n(454),f=n(579),h=r(f),y=n(638),m=(r(y),n(476)),b=r(m),g=n(629),v=(r(g),n(554)),E=r(v),A=n(787),O=(r(A),n(897)),w=r(O),_=n(898),x=r(_),P=n(891),C=n(850),S=n(893),k=r(S),R=n(628),T=r(R),D=n(801),M=r(D),L=n(848),N=a(L);n(807);var j=n(553),I=function(e){function t(){o(this,t);var e=i(this,Object.getPrototypeOf(t).call(this));return e.state={selectedReport:w["default"][0],node:null,savedFunnels:[]},e}return l(t,e),u(t,[{key:"handleSelectReport",value:function(e){if(!e||!e.value)throw"Report must be specified";var t=e.value;this.setState({selectedReport:t}),this.props.onSelectReport&&this.props.onSelectReport(t)}},{key:"handlePathSelection",value:function(e){e&&(this.setState({node:e}),this.props.dispatch(N.selectPath(e)))}},{key:"saveFunnel",value:function(){var e=(0,h["default"])(this.state.savedFunnels);e.push(this.state.node._id),this.setState({savedFunnels:e}),this.props.actions.savePathAsFunnel(this.state.node.getPath())}},{key:"setFilter",value:function(){this.props.actions.setFilter(this.state.node.getPath().slice(1))}},{key:"render",value:function(){var e=w["default"].map(function(e,t){return{label:e.label,value:e}}),t=!!this.state.node&&this.state.savedFunnels.indexOf(this.state.node._id)===-1,n=E["default"].translate("Select a category"),a=this.state.node&&this.props.selectedLayout!==j.layoutKeys.dashboard?d["default"].createElement(T["default"],{id:"action-FilterSimilarPaths",title:E["default"].translate("Set the selected path as filter"),text:E["default"].translate("Set as filter"),buttonStyle:[F.button.base,F.setFilter.button],onClick:this.setFilter.bind(this),disabled:this.state.node.getPath().length>5,isOpen:!1}):null;return d["default"].createElement("div",null,d["default"].createElement(C.OverlayPanelHeader,{text:E["default"].translate("Map overview")}),d["default"].createElement(C.OverlayPanelContent,null,d["default"].createElement(P.ContextPaneNavigation,null),d["default"].createElement("div",{style:{overflowY:"auto",height:"100%"}},d["default"].createElement(M["default"],{style:this.props.style,name:"list",placeholder:n,options:e,clearable:!1,value:this.state.selectedReport,onChange:this.handleSelectReport.bind(this)}),d["default"].createElement(x["default"],{report:this.state.selectedReport,contacts:this.props.contacts,onPathSelect:this.handlePathSelection.bind(this),actions:this.props.actions}),d["default"].createElement("div",{style:{height:"45px"}}))),d["default"].createElement(k["default"],null,d["default"].createElement("div",{className:"col-md-6"},a),d["default"].createElement("div",{className:"col-md-6"},d["default"].createElement(T["default"],{id:"action-SaveAsFunnel",title:E["default"].translate("Save this path as a funnel"),text:E["default"].translate("Save as funnel"),buttonStyle:[F.button.base,F.saveAsFilter.button],onClick:this.saveFunnel.bind(this),isOpen:!1,disabled:!t}))))}}]),t}(c.Component),F={button:{base:{marginRight:"15px",width:"100%",overflow:"hidden"},icon:{display:"inline-block",fontSize:"18px",width:"18px",height:"18px",margin:"0 3px 0 0"}},saveAsFilter:{icon:{},button:{}},setFilter:{icon:{},button:{}},parentButton:{fontSize:"16px",width:"255px",background:"#fff",border:"0",WebkitBoxShadow:"0 0px 4px rgba(0, 0, 0, 0.2)",MozBoxShadow:"0 0px 4px rgba(0, 0, 0, 0.2)",boxShadow:"0 0px 4px rgba(0, 0, 0, 0.2)",margin:"0px",textAlign:"left"},childButton:{fontSize:"12px",width:"240px",backgroundColor:"#fff",backgroundImage:"none",borderColor:"#fff",WebkitBoxShadow:"none",boxShadow:"none",borderRadius:"0px",textAlign:"left",":hover":{backgroundColor:"#e3e3e3",cursor:"pointer"}},selectorStyle:{position:"relative",height:"auto",lineHeight:"normal",padding:"0px",backgroundColor:"transparent",textAlign:"left",border:"none"}};t.ReportsPanel=I,t["default"]=(0,p.connect)(s)((0,b["default"])(I))},897:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.HighestVisitedAndValuableReport=t.ExitsWithoutValueReport=t.Report=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(572),u=n(612),c=a(u),d=n(610),p=a(d),f=n(554),h=a(f),y=10,m=t.Report=function(){function e(t,n){i(this,e),this._label=t,this.metric="string"==typeof n?(0,c["default"])(n)[0]:n}return l(e,[{key:"traverse",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=[],a=t?s.VisibilityModes.All:s.VisibilityModes.VisibleAndCollapsedChildren;return e.traverse(function(e){e.depth>0&&e.ec>0&&(e._synthetic?e._nodes.forEach(function(e){return n.push(e)}):n.push(e))},a),n}},{key:"sort",value:function(e){var t=this.metric;e.sort(function(e,n){return Math.abs(t.getValue(n))-Math.abs(t.getValue(e))})}},{key:"slice",value:function(e){return e.slice(0,y)}},{key:"create",value:function(e,t,n){var a=this.traverse(e,n).filter(function(e){return null!==e});return a=this.filter(a,e.root),this.sort(a),a&&t&&t.length&&!function(){var e=t.map(function(e){return[e.rid]}),n=new p["default"](e);a=a.filter(function(e){var t=n.matchPath(e.getPath());return null!==t})}(),this.slice(a)}},{key:"filter",value:function(e,t){var n=this.metric;return e.map(function(e){return!e._synthetic&&n.getValue(e)>0?e:null}).filter(function(e){return null!==e})}},{key:"label",get:function(){return this._label}}]),e}(),b=t.ExitsWithoutValueReport=function(e){function t(){return i(this,t),r(this,Object.getPrototypeOf(t).call(this,h["default"].translate("Paths without value"),"ec"))}return o(t,e),l(t,[{key:"filter",value:function(e,t){return e.map(function(e){return e.ec>0&&0===e.ev?e:null}).filter(function(e){return null!==e})}}]),t}(m),g=t.HighestVisitedAndValuableReport=function(e){function t(){i(this,t);var e=r(this,Object.getPrototypeOf(t).call(this,h["default"].translate("Highest visits and value"),"sc"));return e.visitMetric=(0,c["default"])("sc")[0],e.valueMetric=(0,c["default"])("sv")[0],e}return o(t,e),l(t,[{key:"filter",value:function(e,t){var n=(this.visitMetric,this.valueMetric);return e.map(function(e){return n.getValue(e)>0?e:null}).filter(function(e){return null!==e})}},{key:"sort",value:function(e){var t=this.visitMetric,n=this.valueMetric;e.sort(function(e,a){return Math.abs(t.getValue(a))-Math.abs(t.getValue(e))+Math.abs(n.getValue(a))-Math.abs(n.getValue(e))})}}]),t}(m),v=[new m(h["default"].translate("Highest visits"),"sc"),new m(h["default"].translate("Highest value"),"sv"),new g,new m(h["default"].translate("Highest value per visit"),"vpv"),new b,new m(h["default"].translate("Highest exit value potential"),"evp"),new m(h["default"].translate("Highest outcomes"),"outcomes"),new m(h["default"].translate("Highest monetary value"),"monetaryValue")];t["default"]=v},898:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{tree:e.mutable.treeData,filter:e.explorer.appliedPathFilter,metricFilter:e.explorer.appliedMetricFilter}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(300),d=a(c),p=n(476),f=(a(p),n(454)),h=n(899),y=a(h),m=n(596),b=n(833),g=a(b),v=n(612),E=a(v),A=(n(897),n(859)),O=a(A),w=n(835),_=a(w),x=n(811),P=a(x),C=n(903),S=a(C),k=n(863),R=a(k),T=n(809),D=(a(T),n(861)),M=a(D),L=n(862),N=a(L),j=n(554),I=a(j),F=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"createReport",value:function(e){var t=[],n=0;e.tree&&e.tree.root&&(t=e.report.create(e.tree,this.props.filter)),this.props.onPathSelect(t[n]),this.setState({nodes:t,selectedIdx:n}),this.verifyNodeVisible(t,n)}},{key:"componentWillMount",value:function(){this.createReport(this.props)}},{key:"componentDidUpdate",value:function(e,t){this.props.tree===e.tree&&this.props.filter===e.filter&&this.props.metricFilter===e.metricFilter&&this.props.report===e.report||this.createReport(this.props)}},{key:"render",value:function(){var e=this.state.nodes,t=this.state.selectedIdx;if(e&&t>-1&&e[t]){var n=e[t],a=(n.getPath(),[]),o=n.children;o?a=o:n._synthetic&&(a=n._nodes);var i=this.props.report.metric.id,l=(0,y["default"])([i,"sc","sv","vpv"]),s=E["default"].apply(void 0,r(l));return d["default"].createElement("div",null,d["default"].createElement(S["default"],{count:e.length,index:t,onChange:this.handlePathChange.bind(this)}),d["default"].createElement(M["default"],null,d["default"].createElement(N["default"],{title:I["default"].translate("Path")},d["default"].createElement(O["default"],{node:n,metrics:s,fixedLabelWidth:75}),d["default"].createElement(g["default"],{node:n,metrics:l.join(",")})),d["default"].createElement(N["default"],{title:I["default"].translate("Next")},d["default"].createElement(_["default"],{node:n})),d["default"].createElement(N["default"],{title:I["default"].translate("Metrics")},d["default"].createElement(g["default"],{node:n,metrics:"sc,sv,vpv,ec,ev,evpv,evp,duration,outcomes,monetaryValue,averageMonetaryValue"})),d["default"].createElement(N["default"],{title:I["default"].translate("Contacts")},d["default"].createElement(R["default"],{contacts:this.props.contacts,maxContactsToDisplay:3}))))}return d["default"].createElement(P["default"],{title:I["default"].translate("No reports available in this category."),text:I["default"].translate("Please try selecting another category.")})}},{key:"verifyNodeVisible",value:function(e,t){if(e&&e[t]&&e[t]._hidden){var n=I["default"].translate("The path is hidden and cannot be highlighted on the visualization.");this.props.actions.addMessage(n,m.messageSeverity.warning,"other-nodes",m.cantHighlightPathMessageId)}}},{key:"handlePathChange",value:function(e){this.props.onPathSelect(this.state.nodes[e]),this.setState({selectedIdx:e}),this.verifyNodeVisible(this.state.nodes,e)}}]),t}(c.Component);t["default"]=(0,f.connect)(s)(F)},903:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=n(476),c=a(u),d={container:{textAlign:"left",margin:"20px 0 10px 0"},list:{padding:0,margin:"0 0 10px 0px",display:"inline-block"},listItem:{display:"inline"},itemLink:{"float":"left",padding:"0 6px",lineHeight:"20px",textDecoration:"none",backgroundColor:"#ffffff",color:"#474747",cursor:"pointer",borderRadius:"50%",MozBorderRadius:"50%",WebkitBorderRadius:"50%",fontSize:"12px",":hover":{backgroundColor:"#e3e3e3",color:"#474747"}},itemLinkNav:{"float":"left",width:16,height:16,padding:"0",cursor:"pointer",marginTop:2,backgroundSize:"16px 16px",backgroundPosition:"center",backgroundRepeat:"no-repeat",marginLeft:3,":hover":{opacity:.4}},itemLinkNavPrev:{backgroundImage:"url(/sitecore/shell/client/Speak/Assets/img/Speak/Common/32x32/dark_gray/navigate_left.png)"},itemLinkNavNext:{backgroundImage:"url(/sitecore/shell/client/Speak/Assets/img/Speak/Common/32x32/dark_gray/navigate_right.png)"},disabled:{cursor:"not-allowed",opacity:"0.1",backgroundColor:"transparent"}},p=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){if(this.props.count<=0)return null;var e="#2694c0";this.props.highlightColor&&(e=this.props.highlightColor);for(var t=[],n=0;n<this.props.count;n++){var a=React.createElement("li",{key:n,style:d.listItem},React.createElement("a",{key:n,style:[d.itemLink,this.props.index===n?{color:"#fff",backgroundColor:e}:{}],href:"#","data-index":n,onClick:this.handleClick.bind(this)},n+1));t.push(a)}return React.createElement("div",{style:d.container},React.createElement("ul",{style:d.list},React.createElement("li",{style:d.listItem},React.createElement("a",{key:"prev",style:[d.itemLinkNav,d.itemLinkNavPrev,0===this.props.index?d.disabled:{}],href:"#","data-index":this.props.index-1,onClick:this.handleClick.bind(this)})),t,React.createElement("li",{style:d.listItem},React.createElement("a",{key:"next",style:[d.itemLinkNav,d.itemLinkNavNext,this.props.index===this.props.count-1?d.disabled:{}],href:"#","data-index":this.props.index+1,onClick:this.handleClick.bind(this)}))))}},{key:"handleClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.getAttribute("data-index")-0;this.props.onChange&&t>-1&&t<this.props.count&&this.props.onChange(t)}}]),t}(s.Component);t["default"]=(0,c["default"])(p)},904:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(300),u=a(s),c=n(476),d=a(c),p=n(554),f=a(p),h=n(905),y=a(h),m=n(790),b=n(856),g=a(b),v=n(850),E=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return u["default"].createElement("div",null,u["default"].createElement(v.OverlayPanelHeader,{text:f["default"].translate("Map overview")}),u["default"].createElement(v.OverlayPanelContent,null,u["default"].createElement(g["default"],null),u["default"].createElement("div",{style:{overflowY:"auto",height:"100%"}},u["default"].createElement(y["default"],{mapName:this.props.mapName,startDate:this.props.startDate,endDate:this.props.endDate,treeData:this.props.treeData,dateFormat:m.dateFormat}),u["default"].createElement("div",{style:{height:"45px"}}))))}}]),t}(s.Component);t["default"]=(0,d["default"])(E)},905:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){var e={margin:"20px 0 0 0"},t={fontSize:"22px"},n={marginTop:"0"},a={color:"#474747",marginTop:"0",marginBottom:"0"};return{container:e,icon:t,mapName:n,dateRange:a}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(833),m=a(y),b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){if(void 0===this.props.treeData.root)return null;var e=this.props.mapName+" "+h["default"].translate("Map Totals"),t=l();return c["default"].createElement("div",{style:t.container},c["default"].createElement("div",{className:"row",style:{marginBottom:"20px"}},c["default"].createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},c["default"].createElement("p",{className:"sc-text x-large",style:t.mapName},e),c["default"].createElement("p",{className:"sc-text med",style:t.dateRange},this.props.startDate.format(this.props.dateFormat)," - ",this.props.endDate.format(this.props.dateFormat)))),c["default"].createElement(m["default"],{metrics:"sv,sc,vpv,outcomes,monetaryValue,averageMonetaryValue",node:this.props.treeData.root}))}}]),t}(u.Component);t["default"]=(0,p["default"])(b)},906:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{modal:{body:{minHeight:400}},content:{width:"100%"},contentFrame:{width:"100%",height:"100%",border:"none",position:"absolute",top:0,bottom:0,left:0,right:0},label:{paddingLeft:"10px",marginTop:"5px",cursor:"pointer"},checkBox:{marginTop:"0px"},helpBlock:{color:"#969696",fontStyle:"italic"}}}function u(e){return{actions:(0,y.bindActionCreators)(g,e)}}function c(e){return{settings:e.settings}}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var p=n(300),f=r(p),h=n(454),y=n(461),m=n(476),b=(r(m),n(624)),g=a(b),v=n(554),E=r(v),A=n(865),O=r(A),w=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),d(t,[{key:"handleModalClose",value:function(){this.props.actions.toggleSettings&&this.props.actions.toggleSettings()}},{key:"handleChange",value:function(e,t){this.props.actions.changeSetting(t.target.id,t.target.checked)}},{key:"render",value:function(){var e=s(),t=this.props.settings.visible;return f["default"].createElement(O["default"],{id:"settings",isOpen:t,okButtonVisible:!1,closeOnOuterClick:!0,cancelButtonText:E["default"].translate("Close"),onClose:this.handleModalClose.bind(this),onCancel:this.handleModalClose.bind(this),style:e.modal,title:E["default"].translate("Settings")},f["default"].createElement("table",{style:e.content,className:"table"},f["default"].createElement("tbody",null,f["default"].createElement("tr",null,f["default"].createElement("td",null,f["default"].createElement("input",{id:"enableTransitions",type:"checkbox",defaultChecked:this.props.settings.enableTransitions,onChange:this.handleChange.bind(this,"enableTransitions"),style:e.checkBox}),f["default"].createElement("label",{htmlFor:"enableTransitions",style:e.label},E["default"].translate("Enable transition effects"))),f["default"].createElement("td",null,f["default"].createElement("p",{className:"help-block",style:e.helpBlock},E["default"].translate("Applies to table, radial, vertical, and horizontal views.")))),f["default"].createElement("tr",null,f["default"].createElement("td",null,f["default"].createElement("input",{id:"showLabels",type:"checkbox",defaultChecked:this.props.settings.showLabels,onChange:this.handleChange.bind(this,"showLabels"),style:e.checkBox}),f["default"].createElement("label",{htmlFor:"showLabels",style:e.label},E["default"].translate("Show labels by default"))),f["default"].createElement("td",null,f["default"].createElement("p",{className:"help-block",style:e.helpBlock},E["default"].translate("Applies to the radial, vertical, and horizontal views.")))),f["default"].createElement("tr",null,f["default"].createElement("td",null,f["default"].createElement("input",{id:"showLegend",type:"checkbox",defaultChecked:this.props.settings.showLegend,onChange:this.handleChange.bind(this,"showLegend"),style:e.checkBox}),f["default"].createElement("label",{htmlFor:"showLegend",style:e.label},E["default"].translate("Show legend by default"))),f["default"].createElement("td",null,f["default"].createElement("p",{className:"help-block",style:e.helpBlock},E["default"].translate("Applies to the radial, vertical, and horizontal views.")))),f["default"].createElement("tr",null,f["default"].createElement("td",null,f["default"].createElement("input",{id:"showOutcomeMetricsOnDashboard",type:"checkbox",defaultChecked:this.props.settings.showOutcomeMetricsOnDashboard,onChange:this.handleChange.bind(this,"showOutcomeMetricsOnDashboard"),style:e.checkBox}),f["default"].createElement("label",{htmlFor:"showOutcomeMetricsOnDashboard",style:e.label},E["default"].translate("Show outcome metrics"))),f["default"].createElement("td",null,f["default"].createElement("p",{className:"help-block",style:e.helpBlock},E["default"].translate("Applies to the dashboard view.")))),f["default"].createElement("tr",null,f["default"].createElement("td",null,f["default"].createElement("input",{id:"dontShowOnStartup",type:"checkbox",checked:this.props.settings.dontShowOnStartup,onChange:this.handleChange.bind(this,"dontShowOnStartup"),style:e.checkBox}),f["default"].createElement("label",{htmlFor:"dontShowOnStartup",style:e.label},E["default"].translate("Don't show help on startup"))),f["default"].createElement("td",null,f["default"].createElement("p",{className:"help-block",style:e.helpBlock},E["default"].translate("Indicates whether the help dialog shows up on startup.")))),f["default"].createElement("tr",null,f["default"].createElement("td",null,f["default"].createElement("input",{id:"allowBlockedDateSelection",type:"checkbox",checked:this.props.settings.allowBlockedDateSelection,onChange:this.handleChange.bind(this,"allowBlockedDateSelection"),style:e.checkBox}),f["default"].createElement("label",{htmlFor:"allowBlockedDateSelection",style:e.label},E["default"].translate("Allow selection of dates missing data"))),f["default"].createElement("td",null,f["default"].createElement("p",{className:"help-block",style:e.helpBlock},E["default"].translate("Applies to the date range selector.")))))),f["default"].createElement("h5",{style:{position:"absolute",bottom:"0",right:"15px"}},E["default"].translate("All changes are applied automatically.")))}}]),t}(p.Component);t.Settings=w,t["default"]=(0,h.connect)(c,u)(w)},907:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{container:{backgroundColor:"#fff",padding:"30px 15px 15px 15px"}}}function u(e){return{actions:(0,b.bindActionCreators)(k,e)}}function c(e){var t=(0,E["default"])(e.explorer.favoriteFunnels,{mapId:e.explorer.mapId}),n=t?(0,E["default"])(e.explorer.funnels,{id:t.funnelId}):null;return n&&(n.path=(0,g.aggregateFunnel)(n,e.mutable.treeData)),{trendDataLoading:e.dashboard.trendDataLoading,trendData:e.dashboard.trendData,comparisonDataLoading:e.dashboard.comparisonDataLoading,comparisonData:e.dashboard.comparisonData,treeDataLoading:e.dashboard.treeDataLoading,treeData:e.mutable.treeData,mapName:e.explorer.mapName,mapId:e.explorer.mapId,startDate:e.explorer.startDate,endDate:e.explorer.endDate,mapInfo:e.mapSelector.selectedMapInfo,contextPaneVisible:e.contextPane.visible&&e.mutable.treeData.hasData,funnelsLoading:e.dashboard.funnelsLoading,favoriteFunnel:n,showOutcomeMetrics:e.dashboard.showOutcomeMetrics}}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s,t.mapDispatchToProps=u,t.mapStateToProps=c;var p=n(300),f=r(p),h=n(476),y=r(h),m=n(454),b=n(461),g=n(585),v=n(583),E=r(v),A=n(612),O=r(A),w=n(908),_=r(w),x=n(790),P=n(897),C=r(P),S=n(624),k=a(S),R=n(554),T=r(R),D=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({resize:this.props.contextPaneVisible!==e.contextPaneVisible})}},{key:"getSelectedMapMetrics",value:function(){var e=(0,O["default"])("sc","sv","vpv","monetaryValue","outcomes","averageMonetaryValue"),t=this,n=e.map(function(e,n){var a=t.props.treeData.root?e.getValue(t.props.treeData.root):"",r=""!==a?e.formatValue(a):a,o=t.props.comparisonData?e.getValue(t.props.comparisonData):"",i=""!==o?e.formatValue(o):o,l=t.props.trendData?e.getValue(t.props.trendData):null,s=l&&l>0&&""!==a?Math.round((a-l)/l*100)+"%":null;return{id:e.id,label:e.label,value:r,comparisonValue:i,comparisonLoading:t.props.comparisonDataLoading,trendValue:s,trendLoading:t.props.trendDataLoading}});return n}},{key:"getLandingPageNodes",value:function(){var e=[];this.props.treeData&&this.props.treeData.root&&this.props.treeData.root._children&&this.props.treeData.root._children.forEach(function(t){t._synthetic?t._nodes.forEach(function(t){return e.push(t)}):e.push(t)});var t=new O["default"]("sc","sv");return e.sort(function(e,n){var a=t[0].getValue(e)+t[1].getValue(e),r=t[0].getValue(n)+t[1].getValue(n);return a<r?1:a>r?-1:0}),e.slice(0,10)}},{key:"getReportData",value:function(){var e=C["default"][5],t=T["default"].translate("Featured path"),n=void 0;if(this.props.treeData&&this.props.treeData.root){var a=e.create(this.props.treeData,null,!0);a&&a.length>0?n=a:(e=C["default"][2],a=e.create(this.props.treeData,null,!0),a&&a.length>0?n=a:(e=C["default"][0],a=e.create(this.props.treeData,null,!0),a&&a.length>0&&(n=a)))}return n.sort(function(e,t){return t.depth-e.depth}),{title:t,report:e,path:n[0].getPath()}}},{key:"render",value:function(){var e=s(),t=this.getSelectedMapMetrics(),n=this.getLandingPageNodes(),a=this.getReportData();return f["default"].createElement("div",{id:"dashboard",style:[e.container,this.props.style]},f["default"].createElement(_["default"],{loading:this.props.treeDataLoading,metrics:t,title:this.props.mapName,subtitle:this.props.startDate.format(x.dateFormat)+" - "+this.props.endDate.format(x.dateFormat),landingPageNodes:n,reportData:a,mapInfo:this.props.mapInfo,resize:this.state.resize,actions:this.props.actions,treeData:this.props.treeData,funnelsLoading:this.props.funnelsLoading,favoriteFunnel:this.props.favoriteFunnel,showOutcomeMetrics:this.props.showOutcomeMetrics}))}}]),t}(p.Component);t["default"]=(0,m.connect)(c,u)((0,y["default"])(D))},908:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{},title:{container:{paddingBottom:"5px",borderBottom:"1px solid #e2e2e2"},main:{marginTop:0,display:"inline-block",marginBottom:"10px"},sub:{marginTop:0,display:"inline-block",marginBottom:"10px",marginLeft:"15px"}},grid:{row:{marginBottom:"20px"}},featuredPathContainer:{}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(583),h=(a(f),n(554)),y=(a(h),n(909)),m=a(y),b=n(912),g=a(b),v=n(913),E=a(v),A=n(914),O=a(A),w=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=null;return this.props.showOutcomeMetrics&&(t=c["default"].createElement("div",{className:"row",style:e.grid.row},c["default"].createElement("div",{className:"col-sm-4 col-md-4"},c["default"].createElement(m["default"],{metric:this.props.metrics[3],loading:this.props.loading})),c["default"].createElement("div",{className:"col-sm-4 col-md-4"},c["default"].createElement(m["default"],{metric:this.props.metrics[4],loading:this.props.loading})),c["default"].createElement("div",{className:"col-sm-4 col-md-4"},c["default"].createElement(m["default"],{metric:this.props.metrics[5],loading:this.props.loading})))),c["default"].createElement("div",{style:[e.container,this.props.style.container]},c["default"].createElement("div",{className:"row",style:e.grid.row},c["default"].createElement("div",{className:"col-md-12"},c["default"].createElement("div",{style:[e.title.container,this.props.style.title.container]},c["default"].createElement("h3",{style:[e.title.main,this.props.style.title.main]},this.props.title),this.props.subtitle?c["default"].createElement("h4",{style:[e.title.sub,this.props.style.title.sub]},this.props.subtitle):null))),c["default"].createElement("div",{className:"row",style:e.grid.row},c["default"].createElement("div",{className:"col-sm-12 col-md-8"},c["default"].createElement("div",{className:"row",style:e.grid.row},c["default"].createElement("div",{className:"col-sm-4 col-md-4"},c["default"].createElement(m["default"],{metric:this.props.metrics[0],loading:this.props.loading})),c["default"].createElement("div",{className:"col-sm-4 col-md-4"},c["default"].createElement(m["default"],{metric:this.props.metrics[1],loading:this.props.loading})),c["default"].createElement("div",{className:"col-sm-4 col-md-4"},c["default"].createElement(m["default"],{metric:this.props.metrics[2],loading:this.props.loading}))),t,c["default"].createElement("div",{className:"row",style:e.grid.row},c["default"].createElement("div",{className:"col-sm-12 col-md-12"},c["default"].createElement(g["default"],{landingPageNodes:this.props.landingPageNodes,loading:this.props.loading})))),c["default"].createElement("div",{className:"col-sm-12 col-md-4",style:e.featuredPathContainer},c["default"].createElement(O["default"],{favoriteFunnel:this.props.favoriteFunnel,loading:this.props.loading||this.props.funnelsLoading,actions:this.props.actions}),c["default"].createElement(E["default"],{reportData:this.props.reportData,loading:this.props.loading,actions:this.props.actions}))))}}]),t}(u.Component);w.defaultProps={style:{title:{}}},t["default"]=(0,p["default"])(w)},909:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{paddingTop:"10px",paddingBottom:"10px",backgroundColor:"#f2fafd"},valueLabel:{label:{fontSize:"14px",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"0 5px"},value:{fontSize:"26px",fontWeight:"bold",marginBottom:"7px",position:"relative"}},total:{textAlign:"center"},trend:{container:{position:"absolute",right:"-40px",top:"7px",fontSize:"11px",fontWeight:"normal"},indicator:{container:{marginRight:"2px"},arrow:{container:{marginRight:0}}}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(810),h=a(f),y=n(910),m=a(y),b=n(554),g=a(b),v=n(911),E=a(v),A=n(564),O=a(A),w=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=this.props,n=t.loading,a=t.metric,r=a.trendValue&&"0%"===a.trendValue?c["default"].createElement(E["default"],{key:"indicator",direction:"neutral",style:e.trend.indicator}):a.trendValue&&0===a.trendValue.indexOf("-")?c["default"].createElement(E["default"],{key:"indicator",direction:"down",style:e.trend.indicator}):c["default"].createElement(E["default"],{key:"indicator",direction:"up",style:e.trend.indicator}),o=c["default"].createElement("span",{key:"trend",style:e.trend.container},a.trendLoading?c["default"].createElement(h["default"],null):a.trendValue?[r,a.trendValue.replace("-","")]:null),i=a.comparisonLoading?c["default"].createElement(h["default"],null):Number.isNaN(a.comparisonValue)?null:a.comparisonValue;return c["default"].createElement("div",{className:this.props.className,style:[e.container,this.props.style.container]},c["default"].createElement(m["default"],{label:a.label,value:n?c["default"].createElement(h["default"],null):[a.value,o],labelPosition:"Top",textAlignment:"center",style:(0,O["default"])(e.valueLabel,this.props.style.valueLabel)}),c["default"].createElement("div",{style:e.total},g["default"].translate("Total:")," ",i))}}]),t}(u.Component);w.defaultProps={style:{}},t["default"]=(0,p["default"])(w)},910:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{label:{},value:{marginRight:0},row:{display:"block"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(629),h=a(f),y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l(),t=c["default"].createElement("div",{className:(0,h["default"])("sc-ValueLabel-Cell","sc-"+this.props.labelPosition),style:{textAlign:this.props.textAlignment}},c["default"].createElement("div",{className:(0,h["default"])("sc-ValueLabel-Label","sc-ValueLabel-"+this.props.labelSize),style:[{color:this.props.labelColor,textAlign:this.props.textAlignment},e.label,this.props.style.label]},this.props.label)),n=c["default"].createElement("div",{className:(0,h["default"])("sc-ValueLabel-Cell","sc-"+this.props.labelPosition),style:{textAlign:this.props.textAlignment}},c["default"].createElement("div",{className:(0,h["default"])("sc-ValueLabel-Value","sc-ValueLabel-"+this.props.valueSize),style:[{color:this.props.valueColor,textAlign:this.props.textAlignment},e.value,this.props.style.value]},this.props.value));return c["default"].createElement("div",{className:"sc-ValueLabel"},c["default"].createElement("div",{className:"sc-ValueLabel-Row",style:e.row},"Top"===this.props.labelPosition?t:n,"Top"===this.props.labelPosition?n:t))}}]),t}(u.Component);y.defaultProps={labelPosition:"Top",labelSize:"Medium",valueSize:"Medium",textAlignment:"left",style:{}},t["default"]=(0,p["default"])(y)},911:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{},arrow:{container:{},base:{width:"16px",height:"16px"},up:{},down:{},neutral:{width:"20px",height:"20px"}}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=l();return c["default"].createElement("div",{className:"sc-ArrowIndicator",style:[e.container,this.props.style.container]},c["default"].createElement("div",{className:"sc-ArrowIndicator-Arrow",style:[e.arrow.container,this.props.style.arrow.container]},"up"===this.props.direction?c["default"].createElement("svg",{style:[e.arrow.base,e.arrow.up,this.props.style.arrow.base,this.props.style.arrow.up],x:"0px",y:"0px",viewBox:"0 0 80 100",enableBackground:"new 0 0 80 100"},c["default"].createElement("path",{className:"sc-ArrowIndicator-Up",d:"M40,0L0,50h20v50h40V50h20L40,0z"})):"down"===this.props.direction?c["default"].createElement("svg",{style:[e.arrow.base,e.arrow.down,this.props.style.arrow.base,this.props.style.arrow.down],x:"0px",y:"0px",viewBox:"0 0 80 100",enableBackground:"new 0 0 80 100"},c["default"].createElement("path",{className:"sc-ArrowIndicator-Down",d:"M40,100l40-50H60V0L20,0v50H0L40,100z"})):c["default"].createElement("svg",{style:[e.arrow.base,e.arrow.neutral,this.props.style.arrow.base,this.props.style.arrow.neutral],x:"0px",y:"0px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40"},c["default"].createElement("rect",{y:"14",x:"10",className:"sc-ArrowIndicator-Equal",width:"20",height:"4"}),c["default"].createElement("rect",{y:"22",x:"10",className:"sc-ArrowIndicator-Equal",width:"20",height:"4"}))))}}]),t}(u.Component);f.defaultProps={style:{arrow:{}}},t["default"]=(0,p["default"])(f)},912:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{nameTableCell:{maxWidth:"250px",minWidth:"120px"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(554),h=a(f),y=n(613),m=n(836),b=a(m),g=n(612),v=a(g),E=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){for(var e=this.props.landingPageNodes,t=new v["default"]("sc","sv","vpv","ec","ev"),n=[],a=function(a){var r=e[a],o=[r.name];t.forEach(function(e){o.push(e.formatValue(e.getValue(r)))}),n.push(o)},r=0;r<e.length;r++)a(r);return c["default"].createElement(b["default"],{title:h["default"].translate("Top path entries"),loading:this.props.loading,style:l(),headerLabels:[h["default"].translate("Name"),y.metricNames.visits.name,y.metricNames.value.name,h["default"].translate("V.p.v"),y.metricNames.exits.name,y.metricNames.exitValue.name],headerTooltips:[h["default"].translate("Node name"),y.metricNames.visits.desc,y.metricNames.value.desc,y.metricNames.valuePerVisit.name+". "+y.metricNames.valuePerVisit.desc,y.metricNames.exits.desc,y.metricNames.exitValue.desc],rowData:n})}}]),t}(u.Component);t["default"]=(0,p["default"])(E)},913:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{title:{fontSize:"21px",marginBottom:"10px",verticalAlign:"baseline"},subtitle:{fontSize:"12px",marginBottom:"10px"}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=s;var c=n(300),d=a(c),p=n(476),f=a(p),h=n(859),y=a(h),m=n(612),b=a(m),g=n(795),v=a(g),E=n(810),A=a(E),O=n(554),w=a(O),_=n(899),x=a(_),P=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=s(),t=this.props.reportData.report.metric.id,n=(0,x["default"])([t,"sc","sv","vpv"]),a=b["default"].apply(void 0,r(n));return d["default"].createElement("div",{style:[e.container,this.props.style.container]},d["default"].createElement("div",null,d["default"].createElement("span",{style:[e.title,this.props.style.title]},this.props.reportData.title),d["default"].createElement(v["default"],{anchor:"featured-path",actions:this.props.actions})),d["default"].createElement("div",{style:[e.subtitle,this.props.style.subtitle]},w["default"].translate("A path from '{0}' category.").replace("{0}",this.props.reportData.report.label)),this.props.loading?d["default"].createElement(A["default"],null):d["default"].createElement(y["default"],{path:this.props.reportData.path,metrics:a}))}}]),t}(c.Component);P.defaultProps={style:{}},t["default"]=(0,f["default"])(P)},914:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{container:{paddingBottom:"10px"},title:{fontSize:"21px",marginBottom:"10px"}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.getStyles=l;var u=n(300),c=a(u),d=n(476),p=a(d),f=n(583),h=(a(f),n(859)),y=a(h),m=n(612),b=a(m),g=n(833),v=(a(g),n(810)),E=a(v),A=n(554),O=a(A),w=n(894),_=a(w),x=n(811),P=a(x),C=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){if(!this.props.favoriteFunnel||!this.props.favoriteFunnel.path||this.props.favoriteFunnel.path.length<=0)return null;var e=this.props.favoriteFunnel.path,t=e&&e.length>0?c["default"].createElement(y["default"],{path:e,metrics:(0,b["default"])("sc","sv","vpv")}):c["default"].createElement(P["default"],{title:O["default"].translate("No data can be found for this funnel on the current map."),text:O["default"].translate("Please try selecting a different map or changing the date range.")}),n=l();return c["default"].createElement("div",{style:[n.container,this.props.style.container]},this.props.loading?c["default"].createElement(E["default"],null):c["default"].createElement("div",null,c["default"].createElement(_["default"],{funnel:this.props.favoriteFunnel,isFavorite:!0,actions:this.props.actions}),t))}}]),t}(u.Component);C.defaultProps={style:{}},t["default"]=(0,p["default"])(C)},915:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){o()}function o(){var e=document.getElementsByClassName("sc-accountInformation");e&&e.length>0&&Array.prototype.forEach.call(e,function(e){var t=e.getElementsByClassName("logout");t&&t.length>0&&Array.prototype.forEach.call(t,function(e){e.addEventListener("click",i)})})}function i(e){e.preventDefault();var t="/sitecore/shell/api/sitecore/Authentication/Logout?sc_database=master",n=(0,u.getRequestVerificationToken)();if(""===n)return void console.error("request verification token not found");var a="__RequestVerificationToken="+n;return(0,s["default"])(t,{method:"POST",headers:{"X-RequestVerificationToken":n,"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:a,credentials:"same-origin"}).then(u.checkStatus).then(function(e){return e.json()}).then(function(e){e&&(window.location=e.Redirect)})["catch"](function(e){})}Object.defineProperty(t,"__esModule",{value:!0}),t.configureSpeakHandlers=r;var l=n(576),s=a(l),u=n(543)}});