/**!
 *
 * sitecore SPEAK framework
 *
 * Built: Wed Sep 28 2016 15:44:43 GMT+0300 (FLE Daylight Time)
 * PackageVersion: 2.0.57
 *
 */

!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.sc=a():"undefined"!=typeof global?global.sc=a():"undefined"!=typeof self&&(self.sc=a())}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("../models/property"),e=d.Property,f=d.Property.prototype,g=function(){function a(a){this.scUtils=a}return a.prototype.make=function(a){var b=function(){e.apply(this,arguments)};this.scUtils.is.a["function"](a)&&(b=function(){e.apply(this,arguments),a.apply(this,arguments)});for(var c in f)b.prototype[c]=f[c];for(var d in a)b.prototype[d]=a[d];return b},a}();c.PropertyFactory=g},{"../models/property":3}],2:[function(a,b,c){var d=a("./factories/propertyFactory");c.PropertyFactory=d.PropertyFactory;var e=a("./models/property");c.Property=e.Property},{"./factories/propertyFactory":1,"./models/property":3}],3:[function(a,b,c){var d=function(){function a(a,b,c){this.propertyName=c,this.value=a,this.component=b,this.__type="Property",this.initialize.apply(this,arguments)}return a.prototype.initialize=function(){},a.prototype.set=function(){throw new Error("read only property")},a.prototype.get=function(){return this.value},a}();c.Property=d},{}],4:[function(a,b,c){var d="data-sc-component",e="data-sc-id",f="data-sc-app",g="data-sc-require",h="script[type='text/x-sitecore-pagecode']",i="data-sc-template",j="data-sc-properties",k="data-sc-presenter",l="data-sc-pluginId",m="data-sc-hasnested",n="data-sc-id",o="script[type='text/x-sitecore-pluginscript']",p={TYPE:d,ID:e,SCRIPT:g,ROOTSTATICURL:"",TEMPLATE:i,PROPERTIES:j,PRESENTER:k,APP_KEY:f,NESTED:m,ATTR_COMPONENT:"["+n+"]",ATTR_TYPE:"["+d+"]",ATTR_ID:"["+e+"]",ATTR_APP:"["+f+"]",ATTR_SCRIPT:"["+g+"]",ATTR_PAGECODE:h,ATTR_PLUGIN:o,PLUGIN_ID:l,deferred:!1,useBundle:!1,cloak:"data-sc-cloak",defaultPresenter:"scComponentPresenter",lifeCycle:["initialize","initialized","beforeRender","render","afterRender"]};b.exports=p},{}],5:[function(a,b,c){var d=a("../utils/deferred"),e=function(){function a(a,b){this.listOfDeferred=[],this.value=b,this.eventName=a}return a.prototype.defer=function(){var a=new d.Deferred;return this.listOfDeferred.push(a.promise),a},a}();c.DeferEvent=e},{"../utils/deferred":20}],6:[function(a,b,c){var d=function(a){var b={handleEvent:function(b,c){if(!b)throw new Error("You must pass an invocation");var d=b.indexOf(":");if(0>=d)throw new Error("Invocation is malformed (missing 'handler:')");var e={control:c,app:c.app,handler:b.substr(0,d),target:b.substr(d+1)};a.module("pipelines").get("Invoke").execute(e)}};return b};b.exports=d},{}],7:[function(a,b,c){var d=a("../utils/inheritance"),e=a("../utils/app"),f=a("sc-utils"),g=function(a,b,c){return{createApplication:function(g,h){if(!g.registered){var i,j=f.string.uniqueId(),k=b.setupInjectMethod(h),l=a.find(g.key);if(l){var m=l.deps,n=[];m&&f.is.a["function"](l)&&m.forEach(function(a){n.push(requirejs(a))}),f.is.a["function"](l)&&0===Object.keys(l.prototype).length&&(l=l.apply(g,n)),i=d.wrap(c,l),g=new i(g)}else g=new c(g);return f.object.extend(g,e),g.inject=function(){k.apply(this,arguments)},g.el&&(g.el.__domID=j,g.__domID=j),g.registered=!0,g}}}};b.exports=g},{"../utils/app":15,"../utils/inheritance":23,"sc-utils":75}],8:[function(a,b,c){var d=a("../utils/inheritance"),e=function(a){var b=function(a,b){var c={}.constructor!==b.constructor?b.constructor:a.prototype.constructor,d=a.prototype,e=function(a){return function(){a.apply(this,arguments)}}(c);b.constructor!=={}.constructor&&b.prototype&&(d=b.prototype);for(var f in d)d.hasOwnProperty(f)&&b[f]?e.prototype[f]=b[f]:e.prototype[f]=d[f];return e};return{make:function(c,e,f){var g,h=c||a.prototype;return h.make?h.make(e,f):(g=b(a,h),d.wrap(g,e))}}};b.exports=e},{"../utils/inheritance":23}],9:[function(a,b,c){var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("sc-utils"),f=a("./utils/index"),g=a("modulejs"),h=a("./conf"),i=a("./utils/DOM"),j=a("speakevent"),k=a("../../bootjs-loader/src/index"),l=a("../../bootjs-stores/src/index"),m=a("../../bootjs-parsers/src/index"),n=a("../../bootjs-managers/src/index"),o=a("./model/basePresenter"),p=a("./model/baseModel"),q=a("./model/pageCode"),r=a("./factory/component"),s=a("./utils/inject"),t=a("./factory/application"),u=a("./utils/inheritance"),v=a("./utils/context"),w=a("pipelineJS"),x=a("./events/index"),y=a("./version"),z=a("../../bootjs-globalize/src/index"),A={};g.attach(A);var B="undefined"!=typeof window,C=B?window:d,D=C.__SPEAK_LOADED,E=C.__speak_config||{},F=C.__speak_config_culture||[],G=C.Handlebars,H=E.deferred,I=E.lifeCycle||h.lifeCycle,J=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=(B&&E.conf?E.conf:[],{loader:function(a,b){var c=e.array.flatten(a);c.length?requirejs(c,function(){b.apply(this,arguments)}):b()},template:G});B&&!C.console&&(C.log=function(){}),E=e.object.defaults(E,O);var P=E.template,Q=new n.TemplateManager(P),R=new k.Loader(E),S=new l.StoreLocator,T=new n.PluginManager(S.plugin),U=o(T,S.propertyType),V=p(S.propertyType),W=q(S.propertyType),X=r(U),Y=new n.ComponentManager(m.ComponentParser,I,S.definition,S.presenter,X,A),Z=s(R,m.Parser,S),$=t(S.pageCode,Z,W),_=new n.AppManager(S.app,Y.componentPipeline.bind(Y),T.initializeApplication.bind(T),$);A.globalize=new z.SpeakGlobalize(C.Globalize,F,v.current().twoLetterIsoCode),A.init=function(a){D||(D=!0,"loading"===C.document.readyState?C.document.onreadystatechange=function(){C.document.onreadystatechange=null,A.initAndReady(a)}:A.initAndReady(a))},A.initAndReady=function(a){var b=E.context?E.context:void 0;K(A),A.trigger("beforeParsing");var c=m.Parser.parse();A.trigger("afterParsing"),L(A),S.build(c),M(A),A.trigger("beforeLoading"),R.load(S,function(){A.trigger("afterLoading"),N(A),S.markAsLoaded(),_.start(b,function(b,c){1===b.length&&(b=b[0]),A.app=b,A.applications=c,A.trigger("apps:loaded",b),a&&a(b)})})},A.template=Q,A.isDebug=function(){var a=E.debug||e.url.parameterByName("sc_debug");return"string"==typeof a&&(a=parseInt(a,2)),!!a},A.tmpl=Q.tmp,A.uniqueId=e.string.uniqueId,A.async=e.async,A.presenter=S.presenter.create.bind(S.presenter),A.presenter({name:h.defaultPresenter}),A.plugin=S.plugin.create.bind(S.plugin),A.component=S.definition.create.bind(S.definition),A.pageCode=function(){S.pageCode.isPageCode=!0,S.pageCode.create.apply(S.pageCode,arguments)},A.propertyType=S.propertyType.create.bind(S.propertyType),A.exposeComponent=Y.exposeComponent.bind(Y),A.extend=e.object.extend,A.inherit=u.inherit,A.applyPlugins=T.initializeComponent.bind(T),A.utils=e.object.extend(e,f),A.utils.Events=j,A.Context=v,A.Pipelines=A.module("pipelines",w),A.Events=x(A),A.bindable=function(a){return new V(a)},e.object.extend(A,j),B&&(i.addCloak(),H||A.init(J)),A.ready=function(a){J=a},A.parser={before:function(a){K=a},after:function(a){L=a}},A.loaded={before:function(a){M=a},after:function(a){onAfterParseLoad=a}},A.version=y,B&&(window.Sitecore=window.Sitecore||{},Sitecore.Speak?e.object.extend(Sitecore.Speak,A):Sitecore.Speak=A),b.exports=A},{"../../bootjs-globalize/src/index":28,"../../bootjs-loader/src/index":30,"../../bootjs-managers/src/index":33,"../../bootjs-parsers/src/index":45,"../../bootjs-stores/src/index":53,"./conf":4,"./events/index":6,"./factory/application":7,"./factory/component":8,"./model/baseModel":10,"./model/basePresenter":11,"./model/pageCode":12,"./utils/DOM":13,"./utils/context":17,"./utils/index":22,"./utils/inheritance":23,"./utils/inject":24,"./version":27,modulejs:56,pipelineJS:57,"sc-utils":75,speakevent:85}],10:[function(a,b,c){var d=a("../utils/index"),e=a("../utils/class"),f=a("../utils/inheritance"),g=a("../utils/events"),h=a("../utils/deferEvents"),i=function(a){var b=window.SpeakBaseModel=function(a){d.initializeProperties(this,a),this.__parameterTemplates=a||{},this.defineProperties()};return f.extend(b.prototype,e(a)),f.extend(b.prototype,g),f.extend(b.prototype,h.DeferEvents),b};b.exports=i},{"../utils/class":16,"../utils/deferEvents":18,"../utils/events":21,"../utils/index":22,"../utils/inheritance":23}],11:[function(a,b,c){var d=a("../utils/index"),e=a("../utils/inheritance"),f=a("../utils/class"),g=a("../utils/events"),h=a("../utils/DOM"),i=a("../utils/deferEvents"),j=function(a,b){var c=function(a,b,c,d){};return c.prototype.constructor=function(b,c,e,f){if(this.el=e,this._s=f,this.app=c,this.id=b.id,this.name=b.name,this.children=[],this.parent=b.parent,this.__properties={},this.__parameterTemplates=b._properties||{},d.initializeProperties(this,b),this.initialize.apply(this,arguments),a.initializeComponent(this),this.defineProperties(),this.listen)for(var g in this.listen)if(this.listen.hasOwnProperty(g)){if(-1===g.indexOf(":$this"))return;var h=g.replace("$this",this.id);this.app.on(h,this[this.listen[g]],this)}},c.prototype.initialize=function(){},c.prototype.initialized=function(){},c.prototype.render=function(a){if(this.hasTemplate){var b,c=this,d=this.template||this.type||void 0,e=c.serialize?c.serialize():c;return this._s.template.get(d,function(d,f){var g=c._s.tmpl.compile(d);if(b=g(e),!b&&a)return a(b);var i=h.createDomElement(b);return 1===i.length?c.el.appendChild(i[0]):console.log("A component must have only one root Element"),c.el=c.el.firstChild,c.appendTo&&c.appendTo.appendChild(c.el),a?a(b):void 0}),this}},c.prototype.serialize=function(){var a={};for(var b in this)if("template"!==b&&"render"!==b&&"serialize"!==b&&"placeholder"!==b&&"app"!==b){var c=this[b];"function"!=typeof c&&(a[b]=c)}return a},e.extend(c.prototype,f(b)),e.extend(c.prototype,g),e.extend(c.prototype,i.DeferEvents),c};b.exports=j},{"../utils/DOM":13,"../utils/class":16,"../utils/deferEvents":18,"../utils/events":21,"../utils/index":22,"../utils/inheritance":23}],12:[function(a,b,c){var d=a("../utils/index"),e=a("../utils/class"),f=a("../utils/inheritance"),g=a("../utils/events"),h=a("../utils/deferevents"),i=function(a){var b=function(a){d.initializeProperties(this,a),this.__parameterTemplates={},this.defineProperties()};return f.extend(b.prototype,e(a)),f.extend(b.prototype,g),f.extend(b.prototype,h.DeferEvents),b};b.exports=i},{"../utils/class":16,"../utils/deferevents":19,"../utils/events":21,"../utils/index":22,"../utils/inheritance":23}],13:[function(a,b,c){var d=a("sc-utils"),e=a("../conf"),f=d.array.toArray,g="undefined"!=typeof window,h=g?window:b.exports,i=h.document;if(g)var j=i.createElement("table"),k=i.createElement("tr"),l={tr:i.createElement("tbody"),tbody:j,thead:j,tfoot:j,td:k,th:k,"*":i.createElement("div")},m=/^\s*<(\w+|!)[^>]*>/;var n={findApps:function(a){var b=a?a:document;return b.querySelectorAll?f(b.querySelectorAll(e.ATTR_APP)):[]},findComponents:function(a){var b=a?a:document;return b.querySelectorAll?f(b.querySelectorAll(e.ATTR_COMPONENT)):[]},findPageCodes:function(a){var b=a?a:document;return b.querySelectorAll?f(b.querySelectorAll(e.ATTR_PAGECODE)):[]},findPageCode:function(a){var b=a?a:document;return b.querySelector?b.querySelector(e.ATTR_PAGECODE):[]},findPlugins:function(a){var b=a?a:document;return b.querySelectorAll?f(b.querySelectorAll(e.ATTR_PLUGIN)):[]},getDepth:function(a,b){var c=a,d=null,e=0;for(b&&(d=b.id);c.parentNode!==d;)c=c.parentNode,e++;return e},findParentApp:function(a){do if(a=a.parentNode,a.hasAttribute&&a.hasAttribute(e.APP_KEY))return a;while(a.parentNode);return null},findParentComponent:function(a){do{if(a=a.parentNode,a.hasAttribute&&a.hasAttribute(e.ID)&&a.hasAttribute(e.NESTED))return a;if(a.hasAttribute&&a.hasAttribute(e.APP_KEY))return null}while(a.parentNode);return null},findNestedApplications:function(a){return f(a.querySelectorAll(e.ATTR_APP))},createDomElement:function(a){var b,c,d;if(!a)return i.createElement("div");d=m.test(a)&&RegExp.$1,d in l||(d="*"),c=l[d],c.innerHTML=""+a,b=c.childNodes;var e=Array.prototype.slice.call(c.childNodes);return e},addCss:function(a){var b=document.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),document.getElementsByTagName("head")[0].appendChild(b)},addCloak:function(){this.addCss("*["+e.cloak+"] { display:none; !important }")},findMetaLang:function(){var a=document.querySelector("meta[data-sc-name=sitecoreLanguage]");if(a)return a.getAttribute("data-sc-content")},findMetaCulture:function(){var a=document.querySelector("meta[data-sc-name=sitecoreCultureName]");if(a)return a.getAttribute("data-sc-content")},findMetaTwoLetterIsoCode:function(){var a=document.querySelector("meta[data-sc-name=sitecoreCultureTwoLetterIsoCode]");if(a)return a.getAttribute("data-sc-content")},findMetaThreeLetterIsoCode:function(){var a=document.querySelector("meta[data-sc-name=sitecoreCultureThreeLetterIsoCode]");if(a)return a.getAttribute("data-sc-content")},findAntiForgeryToken:function(){var a=i.querySelectorAll("input[name=__RequestVerificationToken]");if(a&&0!==a.length)return a[0].value},findDatabase:function(){var a=i.querySelector("meta[data-sc-name=sitecoreDatabase]");if(a)return a.getAttribute("data-sc-content")},findContentDatabase:function(){var a=i.querySelector("meta[data-sc-name=sitecoreContentDatabase]");if(a)return a.getAttribute("data-sc-content")}};b.exports=n},{"../conf":4,"sc-utils":75}],14:[function(a,b,c){var d={get:function(a,b,c){c=c||{};var d=c.error||function(c){console.log(c),b({error:"Something went wrong when loading: "+a})},e=b;c.complete&&(e=function(){c.complete.apply(this,arguments),b.apply(this,arguments)});var f=c.success||function(){},g=new XMLHttpRequest;c.beforeSend&&c.beforeSend(g),g.open("GET",a,!0),g.onload=function(){var a,b=g.responseText;g.status>=200&&g.status<400?(a={result:b,error:null},f(a),e(a)):(a={result:b,error:g.status},d(a))},g.onerror=d,g.send()}};b.exports=d},{}],15:[function(a,b,c){var d=a("./ajax"),e=a("./DOM"),f=a("sc-utils"),g={closeDialog:function(a){window.top.returnValue=a,window.top.dialogClose(a)},remove:function(a){f.is.a.string(a)&&(a=this.el.querySelector(a)),a=a||this.el;var b=this,c=function(a){var c=function(b){return a===b.el},d=function(a){return!c(a)},e=f.array.find(b.children,c);e&&(e.remove(),b.children=b.children.filter(d))},d=function(a){var c=function(b){return a.__domID===b.__domID},d=function(a){return!c(a)},e=f.array.find(b.components,c);if(e){e.destroy&&e.destroy();var g=b[e.id];g&&(f.is.an.array(g)?b[e.id]=b[e.id].filter(d):delete b[e.id]),b.components=b.components.filter(d)}},g=e.findApps(a);g&&g.forEach(c);var h=e.findComponents(a);return h&&h.forEach(d),a.innerHTML="",b},sendMessage:function(a){window.top.receiveMessage(a,root.getParameterByName("sp"))},findComponent:function(a){var b,c,d=this.components,e=this.children;return d.forEach(function(d){c||d.id!==a||(c=!0,b=d)}),!b&&e&&e.length&&e.forEach(function(d){c||(b=d.findComponent(a),c=!0)}),b},findApplication:function(a){var b,c,d=this.children||[];return a?this.key===a?this:(d.forEach(function(d){if(!c){var e=d.findApplication(a);e&&(c=!0,b=e)}}),b):null},replace:function(a,b){a.el=f.is.a.string(a.el)?this.el.querySelector(a.el):a.el,a.el=a.el||this.el,this.remove(a.el),this.inject(a,b)},append:function(a,b){f.is.an.object(a)?(a.el=f.is.a.string(a.el)?this.el.querySelector(a.el):a.el,a.el=a.el||this.el):a={html:a,el:this.el},a.append=!0,this.inject(a,b)},prepend:function(a,b){f.is.an.object(a)?(a.el=f.is.a.string(a.el)?this.el.querySelector(a.el):a.el,a.el=a.el||this.el):a={html:a,el:this.el},a.prepend=!0,this.inject(a,b)},replaceRendering:function(a,b,c){this.remove(b.el),this.insertRendering(a,b,c)},insertRendering:function(a,b,c){var g=(Sitecore.Speak,this),h="",i=e.findMetaLang(),j=i?i:"",k="core",l={contentDabase:"",database:k,domainName:"",path:"/sitecore/shell/api/sitecore/Layout/RenderItem",lang:j,ajax:{},parameter:void 0};f.is.a["function"](b)?c=b:b&&(l=f.object.extend(l,b)),l.name||(l.name=void 0),l.lang&&(h="&sc_lang="+j);var m=l.path+"?sc_itemid="+a+"&sc_database="+l.database+h;if(l.contentDabase&&(m=m+"&sc_content="+l.contentDabase),l.parameter)if(f.is.a.string(l.parameter))m+="&"+l.parameter;else for(var n in l.parameter)l.parameter.hasOwnProperty(n)&&(m+="&"+n+"="+l.parameter[n]);l.domainName&&(m=l.domainName+m),d.get(m,function(a){g.insertMarkups(a.result,l,c)},b.ajax)},insertMarkups:function(a,b,c){var d={prepend:!1,el:b.el,html:a};d=f.object.extend(d,b),d.el||(d.selector?d.el=document.querySelector(b.selector):d.el=document.body),this.inject(d,c)},parse:function(a,b){var c={parse:!0,el:a};this.inject(c,b)}};b.exports=g},{"./DOM":13,"./ajax":14,"sc-utils":75}],16:[function(a,b,c){var d=a("../utils/propertyHelper"),e=a("sc-utils"),f=a("../../../bootJS-factories/src/index"),g=new f.PropertyFactory(e),h=function(){function a(a,b){b||(b="change"),this.eventName=b+":"+a}return a}(),i=function(a){return{get:function(a){a=e.is.capitalize(a)?a:e.string.capitalize(a);var b=this.__properties[a];return b&&"Property"===b.__type?b.get(a):b},set:function(a,b,c){a=e.is.capitalize(a)?a:e.string.capitalize(a);var d,f=this.__properties[a],g=this.__getComputedValues();d=f&&"Property"===f.__type&&f.isNew?f.isNew(b):f!==b,d&&(c||this.trigger("beforeChange:"+a,this.get(a),new h(a,"beforeChange")),f&&"Property"===f.__type?f.set(b):this.__properties[a]=b,c||(this.__triggerForComputed(g),this.trigger("change:"+a,this.get(a),new h(a))))},__getComputedValues:function(){var a={},b=this;if(this.computed){var c=Object.keys(this.computed);return c.forEach(function(c){a[c]=b[c]}),a}},__triggerForComputed:function(a){if(this.computed){var b=Object.keys(this.computed);b.forEach(function(b){this[b]!==a[b]&&this.trigger("change:"+e.string.capitalize(b),this.get(b),new h(b))},this)}},defineProperties:function(){this.__properties=this.__properties||{};for(var a in this.__parameterTemplates)d.isProperty(this.__parameterTemplates,a)&&this.defineProperty(a,this.__parameterTemplates[a]);if(this.properties)for(var b in this.properties)if(!this.__properties[e.string.capitalize(b)]){var c=this.properties[b];e.is.a["function"](c)?this.defineComputedProperty(b,c):e.is.a.object(c)&&e.is.a["function"](c.get)&&e.is.a["function"](c.set)?this.definePureComputedProperty(b,c):this.defineProperty(b,c)}},defineProperty:function(b,c){var f=this,h=c,i=d.getCustomType(b),j=i.type?a.find(i.type):void 0,k=i.type?i.property:b;if(i.type){var l=g.make(j);this.__properties[e.string.capitalize(k)]=new l(h,this,b)}else this.__properties[e.string.capitalize(k)]=h;Object.defineProperty(this,k,{get:function(){return f.get(k)},set:function(a){f.set(k,a)},enumerable:!0})},defineComputedProperty:function(a,b){var c=this;if(!e.is.a.string(a))throw"please provide a valid name";if(!e.is.a["function"](b))throw"please provide a valid name";this.computed=this.computed||{},this.computed[a]={read:b},Object.defineProperty(this,a,{get:function(){return c.computed[a].read.call(c)},set:function(){throw"this is a readonly property"}})},definePureComputedProperty:function(a,b){var c=this;if(!e.is.a.string(a))throw"please provide a valid name";if(!e.is.an.object(b)&&!e.is.an["function"](b.set)&&!e.is.an["function"](b.get))throw"please provide a valid name";this.computed=this.computed||{},this.computed[a]={read:b.get,write:b.set},Object.defineProperty(this,a,{get:function(){return c.computed[a].read.call(c)},set:function(){var b=c.computed[a].read.call(c);this.trigger("beforeChange:"+a,b,new h(a,"beforeChange")),c.computed[a].write.apply(c,arguments),this.trigger("change:"+a,c.computed[a].read.call(c),new h(a))}})}}};b.exports=i},{"../../../bootJS-factories/src/index":2,"../utils/propertyHelper":25,"sc-utils":75}],17:[function(a,b,c){var d,e,f,g,h,i,j=a("./DOM"),k={current:function(){return d=d||j.findMetaLang(),e=e||j.findDatabase(),f=f||j.findContentDatabase(),d=d||j.findMetaLang(),e=e||j.findDatabase(),f=f||j.findContentDatabase(),g=g||j.findMetaCulture(),h=j.findMetaTwoLetterIsoCode()||g,i=j.findMetaThreeLetterIsoCode()||g,{language:d,database:e,contentDatabase:f,cultureName:g,twoLetterIsoCode:h,threeLetterIsoCode:i}}};b.exports=k},{"./DOM":13}],18:[function(a,b,c){var d=a("../events/deferevent"),e=function(){function a(){}return a.triggerDeferredEvent=function(a,b){var c=new d.DeferEvent(a,b);return this.trigger(c.eventName,c),Promise.all(c.listOfDeferred)},a}();c.DeferEvents=e},{"../events/deferevent":5}],19:[function(a,b,c){b.exports=a(18)},{"../events/deferevent":5}],20:[function(a,b,c){var d=function(){function a(){this.promise=new Promise(function(a,b){this.resolve=a,this.reject=b}.bind(this))}return a}();c.Deferred=d},{}],21:[function(a,b,c){var d=a("sc-utils"),e=/\s+/,f=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},g=function(a,b,c,f){if(!c)return!0;if("object"==typeof c){for(var g in c)a[b].apply(a,[g,c[g]].concat(f));return!1}if(e.test(c)){for(var h=c.split(e),i=0,j=h.length;j>i;i++){var k=h[i];k=k.split(":"),k[1]=d.string.capitalize(k[1]),a[b].apply(a,[k.join(":")].concat(f))}return!1}return!0},h={on:function(a,b,c){if(!g(this,"on",a,[b,c])||!b)return this;if(this._events||(this._events={}),a.indexOf(":")>0){var e=a.split(":");e[1]=d.string.capitalize(e[1]),a=e.join(":")}var f=this._events[a]||(this._events[a]=[]);return f.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!g(this,"once",a,[b,c])||!b)return this;var e=this,f=d["function"].once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,c)},off:function(a,b,c){var e,f,h,i,j,k,l,m;if(!this._events||!g(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;if(a.indexOf(":")>0){var n=a.split(":");n[1]=d.string.capitalize(n[1]),a=n.join(":")}for(i=a?[a]:Object.keys(this._events),j=0,k=i.length;k>j;j++)if(a=i[j],h=this._events[a]){if(this._events[a]=e=[],b||c)for(l=0,m=h.length;m>l;l++)f=h[l],(b&&b!==f.callback&&b!==f.callback._callback||c&&c!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b,c=Array.prototype.slice.call(arguments,1);if(!g(this,"trigger",a,c))return this;if(a.indexOf(":")>0){var d=a.split(":");b=d[0]}var e=this._events[a];if(e&&f(e,c),b){var h=this._events[b];h&&f(h,c)}return this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var f in d)a=d[f],a.off(b,c,this),(e||0===Object.keys(a._events))&&delete this._listeningTo[f];return this}},i={listenTo:"on",listenToOnce:"once"};for(var j in i){var k=i[j],l=j;h[l]=function(a,b,c){var e=this._listeningTo||(this._listeningTo={}),f=a._listenId||(a._listenId=d.string.uniqueId("l"));return e[f]=a,c||"object"!=typeof b||(c=this),a[k](b,c,this),this}}b.exports=h},{"sc-utils":75}],22:[function(a,b,c){var d=a("../conf"),e=a("sc-utils"),f=a("./security"),g=Array.prototype,h=(g.forEach,g.slice,function(a){var b=a.type,c=a.url,d=a.data,e=a.cb,f=new XMLHttpRequest;f.open(b,c,!0),"post"===b.toLowerCase()&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send("post"===b?JSON.stringify(d):null),f.onreadystatechange=function(){4===f.readyState&&(200===f.status||0===f.status?e(f.responseText):console.log("Error: "+f.responseText))}}),i=function(){console.log(arguments)},j=function(a,b){var c=document.createElement("script");c.src=a,c.onload=function(){b()},c.onerror=i,(document.head||document.getElementsByTagName("head")[0]).appendChild(c)},k=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"function"!=typeof proto&&(b[c]=d)}return b},l=function(a){var b={};for(var c in a){var d=a[c];"function"==typeof d&&"initialize"!==c&&"constructor"!==c&&(b[c]=d)}return b},m=function(a,b){for(var c in b)b.hasOwnProperty(c)&&!e.is.a["function"](b[c])&&(a[c]=b[c])},n=function(a){var b=d.ROOTSTATICURL?d.ROOTSTATICURL:window.location.origin+"/",c="/-/speak/v1/bundles/bundle.js?d=0&c=1&n=1&f=";return[b+c+a.join(",").toLowerCase()]},o=function(a,b,c){for(var d,e=a.length,f=b?b:"key",g={},h=[],i=0;e>i;i++)g[a[i][f]]=i,a[i].children=[];for(var j=0;e>j;j++)if(d=a[j],d.parent){var k=g[d.parent];if(void 0!==k){var l=a[k];if(d.parent=l?l:void 0,l){var m=d.PageCodeObject||d;if(l.children.push(m),c){if(l[m[b]])throw new Error("Conflicting id for "+b+" in object "+m.id);l[m[b]]=m}}}}else h.push(d.PageCodeObject||d);return h},p=function(a){return a=a.trim(),/.js$/i.test(a)&&(a=a.slice(0,-3)),a},q={attachScript:j,extractProto:l,xhr:h,extractProperties:k,initializeProperties:m,buildModRequest:n,createTree:o,removeFileExtensionIfNeeded:p,security:f};b.exports=q},{"../conf":4,"./security":26,"sc-utils":75}],23:[function(a,b,c){var d=a("sc-utils"),e=function(a){if(!d.is.an.object(a))return a;for(var b,c,e=1,f=arguments.length;f>e;e++){b=arguments[e];for(c in b)hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a},f={wrap:function(a,b){var c=function(a){return function(){a.apply(this,arguments)}}(a.prototype.constructor);for(var e in a.prototype)a.prototype.hasOwnProperty(e)&&(c.prototype[e]=a.prototype[e]);b.prototype&&(b=b.prototype);for(var f in b)c.prototype[f]&&d.is.a["function"](b[f])?c.prototype[f]=function(a,b){return function(){b.apply(this,arguments),a.apply(this,arguments)}}(a.prototype[f],b[f]):c.prototype[f]=b[f];return c},extend:e};b.exports=f},{"sc-utils":75}],24:[function(a,b,c){var d=a("./DOM"),e=function(a,b,c){var e=[],f=!1;return{setupInjectMethod:function(g){var h=function(e,f,h){var i=f,j=e.el,k=e.html,l=e.append,m=e.replace,n=e.parse,o=e.prepend,p=e.context,q=e.name,r=function(a,b){b&&(i.children=i.children||[],i.children=i.children.concat(b)),h&&h(i),i.trigger("change",i)};if(l||o||m||n||(l=!0),!i||!j||!k&&!n)throw new Error("incorrect parameter passed");if(n)return c.build(b.parse(j)),void a.load(c,function(){c.markAsLoaded(),g.start(p,r)});q&&(k='<div data-sc-app="'+q+'">'+k+"</div>");var s=d.createDomElement(),t=d.createDomElement(k);t.forEach(function(a){s.appendChild(a)}),l||m?(m&&(j.innerHTML=""),t.forEach(function(a){j.appendChild(a)})):t.reverse().forEach(function(a){j.parentNode.insertBefore(a,j)});var u=b.parse(j);c.build(u),a.load(c,function(){c.markAsLoaded(),g.start(p,r)})},i=function(){f=!0;var a=e.shift(),b=function(){a.callback&&a.callback.apply(this,arguments),e.length>0?i():f=!1};h(a.config,a.app,b)};return setInterval(function(){e.length>0&&!f&&i()},100),function(a,b){e.push({config:a,callback:b,app:this})}}}};b.exports=e},{"./DOM":13}],25:[function(a,b,c){var d=[],e=function(a){return a===Object(a)},f=function(a,b){var c,f,g=a[b];return d.forEach(function(a){a===b&&(c=!0)}),c?!1:(g||(g=""),f=g.toString(),Array.isArray(g)?!0:!e(g)&&"[object Function]"!==f&&"[object RegExp]"!==f)},g={isProperty:function(a,b,c){return d=c||[],a.hasOwnProperty(b)&&f(a,b)},getCustomType:function(a){return-1===a.indexOf(":")?{type:void 0,property:a}:{type:a.split(":")[1],property:a.split(":")[0]}}};b.exports=g},{}],26:[function(a,b,c){var d,e=a("./DOM"),f="__RequestVerificationToken",g={antiForgery:{getAntiForgeryToken:function(){return d=d||e.findAntiForgeryToken(),{formKey:f,headerKey:"X-RequestVerificationToken",value:d}}}};b.exports=g},{"./DOM":13}],27:[function(a,b,c){var d="2.0.52";b.exports=d},{}],28:[function(a,b,c){var d=function(){function a(a,b,c){this.DEFAULT_CULTURE="en",a||b||console.log("invalid parameter passed to SpeakGlobalize constructor - culture won't work"),this.globalize=a,this.globalObjectCultureApi=b,this.currentCulture=c||this.DEFAULT_CULTURE,b&&b.length>0&&(this.globalize.load(b),this.globalize.locale(this.currentCulture))}return a.prototype.load=function(a,b){return this.globalize.load.apply(this.globalize,arguments)},a.prototype.locale=function(a){return this.globalize.locale.apply(this.globalize,arguments)},a.prototype.changeCulture=function(a,b){a||console.log("Invalid parameter passed to build method"),b&&(this.currentCulture=b),this.globalObjectCultureApi=a,0===a.length?console.log("No Culture Api was provided"):(this.globalize.load(a),this.globalize.locale(this.currentCulture||"en"))},a.prototype.dateFormatter=function(a){return this.globalize.dateFormatter.apply(this.globalize,arguments)},a.prototype.dateParser=function(a){return this.globalize.dateParser.apply(this.globalize,arguments)},a.prototype.formatDate=function(a){return this.globalize.formatDate.apply(this.globalize,arguments)},a.prototype.parseDate=function(a){return this.globalize.parseDate.apply(this.globalize,arguments)},a.prototype.numberFormatter=function(a){return this.globalize.numberFormatter(a)},a.prototype.numberParser=function(a){return this.globalize.numberParser(a)},a.prototype.formatNumber=function(a,b){return this.globalize.formatNumber(a,b)},a.prototype.parseNumber=function(a,b){return this.globalize.parseNumber(a,b)},a.prototype.currencyFormatter=function(a,b){return this.globalize.currencyFormatter(a,b)},a.prototype.formatCurrency=function(a,b,c){return this.globalize.formatCurrency(a,b,c)},a}();c.SpeakGlobalize=d},{}],29:[function(a,b,c){var d=function(){function a(){}return a.ROOT_STATIC_URL="",a.BUNDLE_QUERY="/-/speak/v1/bundles/bundle.js?d=0&c=1&n=1&f=",a}();c.Config=d},{}],30:[function(a,b,c){var d=a("loaderJS"),e=a("./utils/utils"),f=function(){function a(a){this.bundleSourceInventory={},this.useBundle=a.useBundle,this.loaderWorker=a.loader?a.loader:void 0,this.loaderWorker||(this.loaderWorker=d.use)}return a.prototype.loadAssets=function(a,b,c){var d=a.component[b](),f=a.pageCode[b](),g=a.presenter[b](),h=a.plugin[b](),i=a.definition[b](),j=[];if(j=j.concat(d).concat(f).concat(g).concat(h).concat(i),0===j.length)return c();if("deps"!==b&&this.useBundle){var k=[],l=e.dictionaryContains.bind(null,this.bundleSourceInventory),m=e.saveToDictionary.bind(null,this.bundleSourceInventory,!0),n=e.not(e.isRequirePlugin),o=e.isRequirePlugin,p=e.not(l),q=e.flatten(j,","),r=q.filter(n).filter(p);if(r.length>0){r.forEach(m);var s=e.buildBundleRequest(r);k.push(s)}var t=q.filter(o);return t.length>0&&(k=k.concat(t)),this.loaderWorker(k,function(){c()})}this.loaderWorker(j,c)},a.prototype.load=function(a,b){this.loadAssets(a,"scripts",function(){this.loadAssets(a,"deps",b)}.bind(this))},a}();c.Loader=f},{"./utils/utils":31,loaderJS:55}],31:[function(a,b,c){function d(a){var b=j.Config.ROOT_STATIC_URL?j.Config.ROOT_STATIC_URL:window.location.origin+"/",c=j.Config.BUNDLE_QUERY;return b+c+a.join(",").toLowerCase()}function e(a){return-1!==a.indexOf("!")}function f(a){return function(b,c,d){return!a(b,c,d)}}function g(a,b){return!!a[b]}function h(a,b,c){a[c]=b}function i(a,b){return a.join(b).split(b)}var j=a("../conf");c.buildBundleRequest=d,c.isRequirePlugin=e,c.not=f,c.dictionaryContains=g,c.saveToDictionary=h,c.flatten=i},{"../conf":29}],32:[function(a,b,c){var d=function(){function a(){}return a.CLOAK_ATTR="data-sc-cloak",a}();c.Conf=d},{}],33:[function(a,b,c){var d=a("./manager/app");c.AppManager=d.AppManager;var e=a("./manager/component");c.ComponentManager=e.ComponentManager;var f=a("./manager/template");c.TemplateManager=f.TemplateManager;var g=a("./manager/plugin");c.PluginManager=g.PluginManager},{"./manager/app":34,"./manager/component":35,"./manager/plugin":36,"./manager/template":37}],34:[function(a,b,c){var d=a("sc-utils"),e=a("../utils/tree"),f=a("../utils/lifecycleiterator"),g=d.array.sortByDepth,h=new f.LifeCycleIterator(["initialize","initialized","render"]),i=function(){function a(a,b,c,d){this.applicationStore=a,this.createComponents=b,this.applyApplicationPlugin=c,
this.applicationFactory=d}return a.prototype.start=function(a,b){var c,f=this,i=g(d.object.flatten(this.applicationStore.stores)),j=[],k=[];i.length>0&&(i.forEach(function(b){if(b.registered)return j.push(b),f.createComponents(b,b.el),void f.applyApplicationPlugin(b,a);var c=f.applicationFactory.createApplication(b,f);f.applicationStore.stores[b.key]=c,k.push(c),j.push(c),f.createComponents(c,b.el),f.applyApplicationPlugin(c,a)}),c=e.Tree.create(j,"key"),h.runOn(k),k.forEach(function(b){f.applyApplicationPlugin(b,a)})),b(c,j),k.forEach(function(a){a.registered=!0,a.trigger("appLoaded",a)})},a}();c.AppManager=i},{"../utils/lifecycleiterator":42,"../utils/tree":43,"sc-utils":75}],35:[function(a,b,c){var d=a("../conf"),e=a("sc-utils"),f=a("../utils/tree"),g=a("../utils/class"),h=a("../utils/lifeCycleIterator"),i=e.is.a["function"],j=function(){function a(a,b,c,d,e,f){this.componentParser=a,this.lifeCycle=b,this.definitionStore=c,this.presenterStore=d,this.componentFactory=e,this._s=f}return a.prototype.getInitialValue=function(a,b){var c=a.properties||{},d=g.ClassUtils.extractProperties(b);for(var e in d)d.hasOwnProperty(e)&&(c[e]=d[e]);for(var f in a)a.hasOwnProperty(f)&&(c[f]=a[f]);return c},a.prototype.initializeComponents=function(a,b){var c=[];return a.forEach(function(a){var f=this.exposeComponent(a,b);if(f&&(f.el.hasAttribute(d.Conf.CLOAK_ATTR)&&f.el.removeAttribute(d.Conf.CLOAK_ATTR),c.push(f),!f.parent||f.depricated)){var g=b[f.id];g?e.is.an.array(g)?g.push(f):b[f.id]=[g,f]:b[f.id]=f}},this),c},a.prototype.exposeComponent=function(a,b){if(!a.el||!a.el.__speak){var c,d,f=this.definitionStore.find(a.key)||{},g=this.getInitialValue(a,f),h=e.string.uniqueId(),j=f.deps,k=[];j&&i(f)&&(j.forEach(function(a){k.push(requirejs(a))}),f=f.apply(null,k));var l=this.presenterStore.find(f.presenter||a.presenter);if(l&&l.make?c=l.make(f,a.el,b,g):(d=this.componentFactory.make(l,f,a.el,b,g),c=new d(g,b,a.el,this._s)),a.el&&(a.el.__speak=!0,a.el.__domID=h),a._properties&&a._properties.compositescopeid){var m=a._properties.compositescopeid;c.parent=m.split(".").slice(1).join(".")}else c.parent=a.parent;return c.id=a.id,c.__domID=h,c.type=a.type,c.name=a.name,c.el=a.el,c.app=b,c.template=a.template||a.id,c.isComposite=a.isComposite,c.uid=c.parent?[c.parent,c.id].join("."):c.id,c}},a.prototype.componentPipeline=function(a,b){b||(b=a.el);var c=this.componentParser.parse(b),d=this.lifeCycle.slice(0);if(!e.array.contains(d,"initialize"))throw new Error("you must have a initialize method in your lifeCycle");var g=this.initializeComponents(c,a);a.components=a.components||[],a.components=a.components.concat(g);var i=f.Tree.create(g,"uid","id");d.shift();var j=new h.LifeCycleIterator(d);return j.runOn(g),i},a}();c.ComponentManager=j},{"../conf":32,"../utils/class":39,"../utils/lifeCycleIterator":41,"../utils/tree":43,"sc-utils":75}],36:[function(a,b,c){var d=function(){function a(a){this.pluginIteratee=a}return a.prototype.initializeComponent=function(a){this.pluginIteratee.each(function(b){b.extendComponent&&b.extendComponent(a)})},a.prototype.initializeApplication=function(a,b){this.pluginIteratee.each(function(c){c.extendApplication&&c.extendApplication(a,b)})},a}();c.PluginManager=d},{}],37:[function(a,b,c){var d=a("../utils/ajax"),e=function(){function a(a){if(this.cache={},this.loader=d.AjaxUtils,!a)throw new Error("Template engine has not been set");this.tmp={compile:function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];return a.compile.apply(this,arguments)},original:a}}return a.prototype.get=function(a,b){var c=this.cache[a];return c?void b(c):void this.loader.xhr({type:"GET",url:a,cb:function(c){return this.cache[a]=c,b(c)}.bind(this)})},a}();c.TemplateManager=e},{"../utils/ajax":38}],38:[function(a,b,c){var d=function(){function a(){}return a.xhr=function(a){var b=a.type,c=a.url,d=a.data,e=a.cb,f=new XMLHttpRequest;f.open(b,c,!0),"post"===b.toLowerCase()&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send("post"===b?JSON.stringify(d):null),f.onreadystatechange=function(){4===f.readyState&&(200===f.status||0===f.status?e(f.responseText):console.log("Error: "+f.responseText))}},a}();c.AjaxUtils=d},{}],39:[function(a,b,c){var d=function(){function a(){}return a.extractProperties=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b[c]=d}return b},a}();c.ClassUtils=d},{}],40:[function(a,b,c){var d=function(){function a(a){this.items=[],this.nextIndex=0,this.items=a}return a.prototype.next=function(){return this.nextIndex<this.items.length?this.items[this.nextIndex++]:null},a.prototype.reset=function(){this.nextIndex=0},a}();c.Iterator=d},{}],41:[function(a,b,c){function d(a,b){var c=b[a];c&&c.call(b)}var e=a("./iterator"),f=function(){function a(a){this.lifecycles=a}return a.prototype.runOn=function(a){for(var b,c=new e.Iterator(this.lifecycles),f=new e.Iterator(a),g=f.next();g;){for(b=c.next();b;)d(b,g),b=c.next();c.reset(),g=f.next()}},a}();c.LifeCycleIterator=f},{"./iterator":40}],42:[function(a,b,c){b.exports=a(41)},{"./iterator":40}],43:[function(a,b,c){var d=function(){function a(){}return a.create=function(a,b,c){for(var d,e=a.length,b=b?b:"key",c=c?c:b,f={},g=[],h=0;e>h;h++){var i=a[h];f[i[b]]=h,i.children=[]}for(var j=0;e>j;j++)if(d=a[j],d.parent){var k=f[d.parent];if(void 0!==k){var l=a[k];if(d.parent=l?l:void 0,l){if(l.children.push(d),l[d[c]])throw new Error("Conflicting id for "+d[b]+" in object "+l[b]);l[d[c]]=d}}}else g.push(d);return g},a}();c.Tree=d},{}],44:[function(a,b,c){var d=function(){function a(){}return a.APP_KEY="data-sc-app",a.PLUGIN_KEY="data-sc-pluginId",a.SCRIPT="data-sc-require",a.COMPONENT_KEY="data-sc-id",a.COMPONENT_TYPE="data-sc-component",a.NESTED="data-sc-hasnested",a.TEMPLATE="data-sc-template",a.PROPERTIES="data-sc-properties",a.PRESENTER="data-sc-presenter",a.ATTR_APP="["+a.APP_KEY+"]",a.ATTR_PAGECODE="script[type='text/x-sitecore-pagecode']",a.ATTR_PLUGIN="script[type='text/x-sitecore-pluginscript']",a.ATTR_COMPONENT="["+a.COMPONENT_KEY+"]",a.defaultPresenter="scComponentPresenter",a}();c.Config=d},{}],45:[function(a,b,c){var d=a("./parser/app"),e=a("./parser/plugin"),f=a("./parser/pageCode"),g=a("./parser/component");c.ComponentParser=g.ComponentParser;var h=a("./parser/parserresult"),i=function(){function a(){}return a.parse=function(a){var b=new h.AllElementsParserResult;return b.applications=d.AppParser.parse(a),b.plugins=e.PluginParser.parse(a),b.pageCodes=f.PageCodeParser.parse(a),b.components=g.ComponentParser.parse(a),b},a}();c.Parser=i},{"./parser/app":46,"./parser/component":47,"./parser/pageCode":48,"./parser/parserresult":49,"./parser/plugin":50}],46:[function(a,b,c){var d=a("../conf"),e=a("./parserresult"),f=a("../utils/DOM"),g=function(){function a(){}return a.parse=function(a){return f.DOMUtils.findElements(d.Config.ATTR_APP,a).map(function(a){var b=f.DOMUtils.findParentByAttr(a,[d.Config.APP_KEY]),c=void 0;b&&(c=b.getAttribute(d.Config.APP_KEY)||"app");var g=new e.AppParserResult;return g.el=a,g.key=a.getAttribute(d.Config.APP_KEY)||"app",g.depth=f.DOMUtils.getDepth(a),g.components=[],g.parent=c,g.pageCode=a.querySelector(d.Config.ATTR_PAGECODE),g})},a}();c.AppParser=g},{"../conf":44,"../utils/DOM":51,"./parserresult":49}],47:[function(a,b,c){var d=a("../conf"),e=a("../utils/DOM"),f=a("../utils/Path"),g=a("./parserresult"),h=function(){function a(){}return a.parse=function(a){return e.DOMUtils.findElements(d.Config.ATTR_COMPONENT,a).map(function(a){var b=a.getAttribute(d.Config.COMPONENT_TYPE),c=e.DOMUtils.findParentsByAttr(a,[d.Config.COMPONENT_KEY,d.Config.NESTED],[d.Config.APP_KEY]),h=a.getAttribute(d.Config.PRESENTER),i=a.hasAttribute(d.Config.PRESENTER),j=a.getAttribute(d.Config.SCRIPT),k=a.getAttribute(d.Config.PROPERTIES);if(!j&&!i)return void 0;var l=new g.ComponentParserResult;if(i){if(h){var m=f.PathUtils.parse(h);l.presenter=m.name;var n=f.PathUtils.join(m.basePath,m.name);n.toLowerCase()!==d.Config.defaultPresenter.toLowerCase()&&(l.presenterScript=[n])}}else l.presenter="SpeakPresenter",l.presenterScript=void 0,b=j;if(k)try{k=JSON.parse(k)}catch(o){throw new Error("Cannot parse the value of data-sc-properties to JSON. Please verify your component contains valid JSON")}return l.el=a,l.key=b||"generic",l.id=a.getAttribute(d.Config.COMPONENT_KEY),l.depth=e.DOMUtils.getDepth(a),l.parent=c.length>0?c.map(function(a){return a.getAttribute(d.Config.COMPONENT_KEY)}).join("."):void 0,l.script=j?j.split(","):void 0,l.template=a.getAttribute(d.Config.TEMPLATE),l.hasTemplate=a.hasAttribute(d.Config.TEMPLATE),l.isComposite=a.hasAttribute(d.Config.NESTED),l._properties=k,l}).filter(function(a){return void 0!==a}).sort(function(a,b){return b.depth-a.depth})},a}();c.ComponentParser=h},{"../conf":44,"../utils/DOM":51,"../utils/Path":52,"./parserresult":49}],48:[function(a,b,c){var d=a("../conf"),e=a("../utils/DOM"),f=a("./parserresult"),g=function(){function a(){}return a.parse=function(a){return e.DOMUtils.findElements(d.Config.ATTR_PAGECODE,a).map(function(a){var b=e.DOMUtils.findParentByAttr(a,[d.Config.APP_KEY])||document.body,c=a.getAttribute("src")||a.getAttribute(d.Config.SCRIPT),g=b.getAttribute(d.Config.APP_KEY)||"app",h=new f.PageCodeParserResult;return h.el=a,h.id=b.getAttribute(d.Config.APP_KEY),h.key=g,h.script=[c],h})},a}();c.PageCodeParser=g},{"../conf":44,"../utils/DOM":51,"./parserresult":49}],49:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},e=function(){function a(){}return a}();c.AllElementsParserResult=e;var f=function(){function a(){}return a}();c.ParserResult=f;var g=function(a){function b(){a.apply(this,arguments)}return d(b,a),Object.defineProperty(b.prototype,"isApp",{get:function(){return!0},enumerable:!0,configurable:!0}),b}(f);c.AppParserResult=g;var h=function(a){function b(){a.apply(this,arguments)}return d(b,a),b}(f);c.PluginParserResult=h;var i=function(a){function b(){a.apply(this,arguments)}return d(b,a),b}(f);c.PageCodeParserResult=i;var j=function(a){function b(){a.apply(this,arguments)}return d(b,a),b}(f);c.ComponentParserResult=j},{}],50:[function(a,b,c){var d=a("../conf"),e=a("../utils/DOM"),f=a("./parserresult"),g=function(){function a(){}return a.parse=function(a){return e.DOMUtils.findElements(d.Config.ATTR_PLUGIN,a).map(function(a){var b=new f.PluginParserResult;return b.el=a,b.key=a.getAttribute(d.Config.PLUGIN_KEY),b.script=[a.getAttribute(d.Config.SCRIPT)],b})},a}();c.PluginParser=g},{"../conf":44,"../utils/DOM":51,"./parserresult":49}],51:[function(a,b,c){var d=a("sc-utils"),e=d.array.toArray,f=function(){function a(){}return a.findElements=function(a,b){return void 0===b&&(b=document),e(b.querySelectorAll(a))},a.findParentByAttr=function(a,b,c){for(void 0===c&&(c=[]);a.parentElement;){a=a.parentElement;var d=c.filter(a.hasAttribute.bind(a));if(d.length>0)return null;var e=b.filter(a.hasAttribute.bind(a));if(b.length===e.length)return a}return null},a.findParentsByAttr=function(a,b,c){void 0===c&&(c=[]);for(var d=[];a.parentElement;){a=a.parentElement;var e=c.filter(a.hasAttribute.bind(a));if(e.length>0)return d;var f=b.filter(a.hasAttribute.bind(a));b.length===f.length&&d.unshift(a)}return d},a.getDepth=function(a){for(var b=0;null!==a.parentNode;)a=a.parentNode,b++;return b},a}();c.DOMUtils=f},{"sc-utils":75}],52:[function(a,b,c){var d=function(){function a(){}return a}();c.PathInfo=d;var e=function(){function a(){}return a.parse=function(a){var b=new d;b.basePath=a.substring(0,a.lastIndexOf("/")),b.baseName=a.substring(a.lastIndexOf("/")+1);var c=b.baseName.split(".");return b.ext=c.length>1?"."+c.pop():"",b.name=c.join("."),b},a.join=function(a,b){return""===a||""===b?a+b:a+"/"+b},a}();c.PathUtils=e},{}],53:[function(a,b,c){var d=a("./models/store"),e=function(){function a(){this.app=new d.Store("applications"),this.component=new d.Store("components"),this.definition=new d.Store("definitions"),this.pageCode=new d.Store("pagecodes"),this.plugin=new d.Store("plugins"),this.presenter=new d.Store("presenters"),this.propertyType=new d.Store("properties")}return a.prototype.build=function(a){this.app.build(a.applications),this.component.build(a.components),this.pageCode.build(a.pageCodes),this.plugin.build(a.plugins)},a.prototype.markAsLoaded=function(){this.app.markAsLoaded(),this.component.markAsLoaded(),this.definition.markAsLoaded(),this.pageCode.markAsLoaded(),this.plugin.markAsLoaded()},a.prototype.markAsRegistered=function(){this.app.markAsRegistered()},a}();c.StoreLocator=e},{"./models/store":54}],54:[function(a,b,c){var d=a("sc-utils"),e=d.is.a["function"],f=(function(){function a(){this.loaded=!1}return a}(),function(){function a(a,b){void 0===b&&(b="name"),this.dependencies=[],this.stores={},this.isPageCode=!1,this.name=a,this.key=b}return a.prototype.build=function(a){a.forEach(function(a){var b=this.stores[a.key];if(b){var c=b.el!==a.el;return void(a.isApp&&c&&(b.el=a.el))}if(this.stores[a.key]=a,a.presenterScript&&a.presenterScript.length>0){var d={loaded:!1,script:a.presenterScript};this.dependencies.push(d)}},this)},a.prototype.create=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c,f,g;return 1===arguments.length&&d.is.a.string(a[0])?(c=a[0],this.find(c)):(1===arguments.length?(f=a[0],this.isPageCode&&e(f)||(c=f.name)):2!==arguments.length||d.is.an.array(a[0])?2===arguments.length&&d.is.an.array(a[0])?(g=a[0],f=a[1],e(f)||(c=f.name)):3===arguments.length&&(g=a[0],f=a[1],c=a[2]):(f=a[0],c=a[1]),c||(c="app"),this.stores[c]=f,this.stores[c].deps=g,g&&g.forEach(function(a){this.dependencies.push({script:[a],loaded:!1})},this),this.find(c))},a.prototype.flush=function(){this.dependencies=[],this.stores={}},a.prototype.find=function(a){if(e(a)){var b=a,c=[];return this.each(function(a){b(a)&&c.push(a)}),c[0]}return this.stores[a]},a.prototype.each=function(a){for(var b in this.stores)this.stores.hasOwnProperty(b)&&a(this.stores[b])},a.prototype.deps=function(){var a=[];return this.dependencies.forEach(function(b){b.loaded||a.push(b.script)}),a},a.prototype.keys=function(){var a=[],b=Object.keys(this.stores);for(var c in b)b.hasOwnProperty(c)&&a.push([b[c]]);return a},a.prototype.scripts=function(){var a=[];for(var b in this.stores)this.stores.hasOwnProperty(b)&&this.stores[b].script&&(a=a.concat(this.stores[b].script));return a},a.prototype.markAsLoaded=function(){this.each(function(a){a.scriptLoaded=!0}),this.dependencies.forEach(function(a){a.loaded=!0})},a.prototype.markAsRegistered=function(){this.each(function(a){a.registered=!0})},a.prototype.getNotRegistered=function(){var a={};return this.each(function(b){b.registered||(a[b.key]=b)}),a},a}());c.Store=f},{"sc-utils":75}],55:[function(a,b,c){},{}],56:[function(a,b,c){var d=function(a){return typeof{}==typeof a},e=function(a,b){for(var c in b){if(a[c])throw"key "+c+" already exists in the module";a[c]=b[c]}},f=function(a,b){var c,f;if(c=this.fn=this.fn||{},!a&&!b)throw"Please, pass at least a module name";return c[a]&&!b?c[a]:c[a]||b?(f=d(b)?b:b.apply({},[this]),!c[a]&&b?c[a]=f:e(c[a],f),c[a]):null};b.exports={attach:function(a){a.module||(a.module=f.bind(a))}}},{}],57:[function(a,b,c){var d=a("./model/pipelines");d.Pipeline=a("./model/pipeline");var e=a("./pipelines/Invoke/index"),f=a("./pipelines/ServerInvoke/index");d.add(e),d.add(f),b.exports=d},{"./model/pipeline":58,"./model/pipelines":59,"./pipelines/Invoke/index":64,"./pipelines/ServerInvoke/index":65}],58:[function(a,b,c){var d=a("../utils/index"),e=function(a){var b={processors:[],name:a,add:function(a){if(!(a&&a.priority&&a.execute&&d.isNumber(a.priority)&&d.isFunction(a.execute)))throw"not valid step";this.processors.push(a)},length:function(){return this.processors.length},remove:function(a){this.processors=d.reject(this.processors,function(b){return b.priority===a.priority})},execute:function(a){var b=d.sortBy(this.processors,function(a){return a.priority});b.forEach(function(b){return a.aborted?!1:void b.execute(a)})}};return b};b.exports=e},{"../utils/index":67}],59:[function(a,b,c){var d=a("../utils/index"),e=[],f={get:function(a){var b;return e.forEach(function(c){c.name===a&&(b=c)}),b},add:function(a){if(!a||!a.name||!d.isObject(a))throw new Error("invalid pipeline");e.push(a),this[a.name]=a},remove:function(a){e=d.reject(e,function(b){return b.name===a})},length:function(){return e.length}};b.exports=f},{"../utils/index":67}],60:[function(a,b,c){var d=a("../../utils/index"),e={priority:1e3,execute:function(a){"javascript"===a.handler&&(a.target.indexOf(";")>0?a.target.split(";").forEach(function(b){d.executeContext(b,a)}):d.executeContext(a.target,a))}};b.exports=e},{"../../utils/index":67}],61:[function(a,b,c){var d=(a("../../utils/index"),a("../../utils/command")),e={priority:2e3,execute:function(a){"command"===a.handler&&d.executeCommand(a.target)}};b.exports=e},{"../../utils/command":66,"../../utils/index":67}],62:[function(a,b,c){var d=(a("../../utils/index"),{priority:3e3,execute:function(a){if("serverclick"===a.handler){var b={url:a.target,type:"POST",dataType:"json"},c=function(b){Sitecore.Speak.module("pipelines").get("ServerInvoke").execute({data:b,model:a.model})},d=new XMLHttpRequest;d.open(b.type,b.url,!0),"post"===b.type.toLowerCase()&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var e=Sitecore.Speak.utils.security.antiForgery.getAntiForgeryToken(),f={};f[e.formKey]=e.value,d.send($.param(f)),d.onreadystatechange=function(){4===d.readyState&&(200===d.status?c(JSON.parse(d.responseText)):console.log("Error: "+d.responseText))}}}});b.exports=d},{"../../utils/index":67}],63:[function(a,b,c){var d=(a("../../utils/index"),{priority:4e3,execute:function(a){var b=a.app,c=a.target,d={};if("trigger"===a.handler){if(!b)throw new Error("An application is a required when triggering events");var e=c.indexOf("(");if(e>=0){if(-1===c.indexOf(")",c.length-1))throw"Missing ')'";var f=c.substr(e+1,c.length-e-2);d=JSON.parse(f),c=c.substr(0,e)}d.sender=a.control,b.trigger(c,d)}}});b.exports=d},{"../../utils/index":67}],64:[function(a,b,c){var d=a("../../model/pipeline"),e=new d("Invoke");e.add(a("./1000-HandleJavascript")),e.add(a("./2000-HandleCommand")),e.add(a("./3000-ServerClick")),e.add(a("./4000-TriggerEvent")),b.exports=e},{"../../model/pipeline":58,"./1000-HandleJavascript":60,"./2000-HandleCommand":61,"./3000-ServerClick":62,"./4000-TriggerEvent":63}],65:[function(a,b,c){var d=a("../../model/pipeline"),e=new d("ServerInvoke");b.exports=e},{"../../model/pipeline":58}],66:[function(a,b,c){var d=a("./index"),e=function(a){if(!d.isString(a))throw"provied a correct Path to resolve";for(var b=a.split("."),c=root||window,e=0;e<b.length;e++)if(c=c[b[e]],null==c)throw"Reference '"+a+"' not found";return c},f=function(a){return e(a)},g=function(a,b){if(!a||!d.isString(a))throw new Error("cannot execute command without commandName");var c=f(a);c.canExecute(b)&&c.execute(b)},h={resolve:e,getCommand:f,executeCommand:g};b.exports=h},{"./index":67}],67:[function(a,b,c){var d=Object.prototype.toString,e={lookupIterator:function(a){return e.isFunction(a)?a:function(b){return b[a]}},isFunction:function(a){return"function"==typeof a},isObject:function(a){return"[object Object]"===d.call(a)},isNumber:function(a){return"[object Number]"===d.call(a)},isString:function(a){return"[object String]"===ttoString.call(a)},pluck:function(a,b){return a.map(function(a){return a[b]})},reject:function(a,b,c){return a.filter(function(a,d,e){return!b.call(c,a,d,e)})},sortBy:function(a,b,c){var d=e.lookupIterator(b);return e.pluck(a.map(function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")},executeContext:function(a,b){var c,d=a.split("."),e=d[0];"this"===e?new Function(a).call(b.control):"$component"===e?(c=a.replace("$component","this"),new Function(c).call(b.control.parent)):b.app&&"$app"===e||b.app&&"app"===e?(c="$app"===e?a.replace("$app","this"):a.replace("app","this"),new Function(c).call(b.app)):new Function(a)()}};b.exports=e},{}],68:[function(a,b,c){var d=a("./ises/type"),e={a:{},an:{},not:{a:{},an:{}}},f={arguments:["arguments",d("arguments")],array:["array",d("array")],"boolean":["boolean",d("boolean")],date:["date",d("date")],"function":["function","func","fn",d("function")],"null":["null",d("null")],number:["number","integer","int",d("number")],object:["object",d("object")],regexp:["regexp",d("regexp")],string:["string",d("string")],undefined:["undefined",d("undefined")],empty:["empty",a("./ises/empty")],nullorundefined:["nullOrUndefined","nullorundefined",a("./ises/nullorundefined")],guid:["guid",a("./ises/guid")]};Object.keys(f).forEach(function(a){var b=f[a].slice(0,f[a].length-1),c=f[a][f[a].length-1];b.forEach(function(a){e[a]=e.a[a]=e.an[a]=c,e.not[a]=e.not.a[a]=e.not.an[a]=function(){return c.apply(this,arguments)?!1:!0}})}),c=b.exports=e,c.type=d},{"./ises/empty":69,"./ises/guid":70,"./ises/nullorundefined":71,"./ises/type":72}],69:[function(a,b,c){var d=a("../type");b.exports=function(a){var b=!1;return"null"===d(a)||"undefined"===d(a)?b=!0:"object"===d(a)?b=0===Object.keys(a).length:"boolean"===d(a)?b=a===!1:"number"===d(a)?b=0===a||-1===a:("array"===d(a)||"string"===d(a))&&(b=0===a.length),b}},{"../type":74}],70:[function(a,b,c){var d=a("sc-guid");b.exports=function(a){return d.isValid(a)}},{"sc-guid":73}],71:[function(a,b,c){b.exports=function(a){return null===a||void 0===a||void 0===a}},{}],72:[function(a,b,c){var d=a("../type");b.exports=function(a){return function(b){return d(b)===a}}},{"../type":74}],73:[function(a,b,c){var d="{?[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-4[0-9A-Fa-f]{3}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}}?",e="11111111-1111-1111-1111-111111111111";c.generate=function(){var a=(new Date).getTime(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===b?c:7&c|8).toString(16)});return b},c.match=function(a){var b=new RegExp(d,"g"),c=("string"==typeof a?a:"").match(b);return Array.isArray(c)?c:[]},c.isValid=function(a){if(a===e||a==="{"+e+"}")return!0;var b=new RegExp(d);return b.test(a)}},{}],74:[function(a,b,c){var d=Object.prototype.toString;b.exports=function(a){switch(d.call(a)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===a?"null":void 0===a?"undefined":a===Object(a)?"object":typeof a}},{}],75:[function(a,b,c){a("sc-is");b.exports={is:a("./utils/is"),string:a("./utils/string"),object:a("./utils/object"),array:a("./utils/array"),url:a("./utils/url"),"function":a("./utils/function"),async:a("./utils/async"),date:a("./utils/date")}},{"./utils/array":76,"./utils/async":77,"./utils/date":78,"./utils/function":79,"./utils/is":80,"./utils/object":82,"./utils/string":83,"./utils/url":84,"sc-is":68}],76:[function(a,b,c){var d=a("sc-is"),e=Array.prototype,f=function(a){for(var b=[],c=a.length>>>0;c--;)b[c]=a[c];return b},g=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},h=function(a,b){return b=b||[],d.an.array(a)?(a.forEach(function(a){if(d.an.array(a)){var c=h(a);d.an.array(c)?b=e.concat(b,c):b.push(a)}else b.push(a)}),b):a},i=function(a,b,c){var d,c=c?c:this;return a.forEach(function(e,f){b.call(c,e,f,a)&&(d=e)}),d},j=function(a,b){return a.depth<b.depth?-1:a.depth>b.depth?1:0},k=function(a){return a.sort(j).reverse()};b.exports={toArray:f,contains:g,flatten:h,find:i,sortByDepth:k}},{"sc-is":68}],77:[function(a,b,c){var d=a("./native"),e=d.slice,f=function(a){return function(){var b=e.call(arguments);return a.apply(null,[h].concat(b))}},g=function(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(window,arguments)}},h=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0;a.forEach(function(e){b(e,g(function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length&&c(null))}))})},i=function(a,b,c,d){var e=[];b=b.map(function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})};b.exports={each:h,map:f(i)}},{"./native":81}],78:[function(a,b,c){var d=a("./is"),e=function(a){return 10>a?"0"+a.toString():a.toString()},f={mmss:{expression:"(\\W|^)mm(\\W+s{1,2}\\W|\\W+s{1,2}$)",value:function(a){return e(a.getUTCMinutes())}},mss:{expression:"(\\W|^)m(\\W+s{1,2}\\W|\\W+s{1,2}$)",value:function(a){return a.getUTCMinutes().toString()}},hmm:{expression:"(\\Wh{1,2}\\W+|^h{1,2}\\W+)mm(\\W|$)",value:function(a){return e(a.getUTCMinutes())}},hm:{expression:"(\\Wh{1,2}\\W+|^h{1,2}\\W+)m(\\W|$)",value:function(a){return a.getUTCMinutes().toString()}},ms:{expression:"(\\Wss\\W|^ss\\W)00(\\W|$)",value:function(a){return e(a.getUTCMilliseconds())}},ampm:{expression:"(\\W|^)AM/PM(\\W|$)",value:function(a){return a.getUTCHours()>=12?"PM":"AM"}},ap:{expression:"(\\W|^)A/P(\\W|$)",value:function(a){return a.getUTCHours()>=12?"P":"A"}},yyyy:{expression:"(\\W|^)yyyy(\\W|$)",value:function(a){return a.getUTCFullYear().toString()}},yy:{expression:"(\\W|^)yy(\\W|$)",value:function(a){return e(a.getUTCFullYear()%100)}},mm:{expression:"(\\W|^)mm(\\W|$)",value:function(a){return e(a.getUTCMonth()+1)}},m:{expression:"(\\W|^)m(\\W|$)",value:function(a){return(a.getUTCMonth()+1).toString()}},dd:{expression:"(\\W|^)dd(\\W|$)",value:function(a){return e(a.getUTCDate())}},d:{expression:"(\\W|^)d(\\W|$)",value:function(a){return a.getUTCDate().toString()}},hh:{expression:"(\\W|^)hh(\\W|$)",value:function(a){return e(a.getUTCHours())}},h:{expression:"(\\W|^)h(\\W|$)",value:function(a){return a.getUTCHours()>12?(a.getUTCHours()-12).toString():(0==a.getUTCHours()?12:a.getUTCHours()).toString()}},ss:{expression:"(\\W|^)ss(\\W|$)",value:function(a){return e(a.getUTCSeconds())}},s:{expression:"(\\W|^)s(\\W|$)",value:function(a){return a.getUTCSeconds().toString()}}},g={toISO:function(a){if(!d.a.date(a))return!1;var b=e(a.getFullYear()),c=e(a.getMonth()+1),f=e(a.getDate());return b+c+f},parseISO:function(a){var b,c,e,f,g,h;return d.a.string(a)?(b=parseInt(a.substr(0,4),10),c=parseInt(a.substr(4,2),10)-1,e=parseInt(a.substr(6,2),10),8!==a.indexOf("T")?new Date(Date.UTC(b,c,e,0,0,0,0)):(f=parseInt(a.substr(9,2),10),g=parseInt(a.substr(11,2),10),h=parseInt(a.substr(13,2),10),new Date(Date.UTC(b,c,e,f,g,h)))):null},isISO:function(a){var b;return d.a.date(a)&&(a=a.toString()),d.a.string(a)?(":"===a.charAt(15)&&(a=a.substr(0,15)),8!=a.length&&15!=a.length?!1:(b=this.parseISO(a),d.a.date(b)?isNaN(b.getYear())?!1:!0:!1)):!1},toStringWithFormat:function(a,b){if(this.isISO(a))try{var c=this.parseISO(a);for(var d in f){var e=f[d]?f[d].expression:"",g="$1"+f[d].value(c)+"$2";if(""!=e){var h=new RegExp(e,"g");b=b.replace(h,g)}}return b}catch(i){return!1}return!1}};b.exports=g},{"./is":80}],79:[function(a,b,c){var d=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}};b.exports={once:d}},{}],80:[function(a,b,c){var d=a("sc-is"),e=function(a){return a.charAt(0)===a.charAt(0).toUpperCase()};d.capitalize=e,b.exports=d},{"sc-is":68}],81:[function(a,b,c){var d=Array.prototype;b.exports={arrayProto:d,forEach:d.forEach,slice:d.slice}},{}],82:[function(a,b,c){var d=a("./native"),e=d.forEach,f=d.slice,g=function(a){return e.call(f.call(arguments,1),function(b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a},h=function(a,b,c){var d=function(){return a.apply(this,arguments)};g(d,a);var e=function(){this.constructor=d};if(e.prototype=a.prototype,d.prototype=new e,d.prototype.initialize=b||a.prototype.initialize||function(){},c)for(var f in c)c.hasOwnProperty(f)&&(d.prototype[f]=c[f]);return d.__super__=a.prototype,d},i=function(a){return f.call(arguments,1).forEach(function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},j=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.prototype[c]=b[c]);return a},k=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b};b.exports={extend:g,inherits:h,defaults:i,extendProto:j,flatten:k}},{"./native":81}],83:[function(a,b,c){var d=0,e=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},f=function(a){return a.charAt(0).toLowerCase()+a.slice(1)},g=function(a){var b=++d+"";return a?a+b:b};b.exports={capitalize:e,lowerFirstLetter:f,uniqueId:g}},{}],84:[function(a,b,c){var d=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null==d?"":decodeURIComponent(d[1].replace(/\+/g," "))};b.exports={parameterByName:d}},{}],85:[function(a,b,c){var d=0,e=function(){var a=++d+"";return prefix?prefix+a:a},f=/\s+/,g=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},h=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(f.test(c)){for(var g=c.split(f),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(d));return!1}return!0},i={on:function(a,b,c){if(!h(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!h(this,"once",a,[b,c])||!b)return this;var d=this,e=_.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,k,l;if(!this._events||!h(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:Object.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;l>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=Array.prototype.slice.call(arguments,1);if(!h(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.change;return c&&g(c,b),d&&g(d,arguments),this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var f in d)a=d[f],a.off(b,c,this),(e||0===Object.keys(a._events))&&delete this._listeningTo[f];return this}},j={listenTo:"on",listenToOnce:"once"};for(var k in j){var l=j[k],m=k;i[m]=function(a,b,c){var d=this._listeningTo||(this._listeningTo={}),f=a._listenId||(a._listenId=e("l"));return d[f]=a,c||"object"!=typeof b||(c=this),a[l](b,c,this),this}}b.exports=i},{}]},{},[9])(9)});