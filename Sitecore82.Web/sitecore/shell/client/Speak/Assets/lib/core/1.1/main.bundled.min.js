(function (global) {
  require.config({
    baseUrl: "/",
    paths: {
        bootstrap: "/sitecore/shell/client/Speak/Assets/lib/ui/1.1/bootstrap",
        jqueryui: "/sitecore/shell/client/Speak/Assets/lib/ui/1.1/deps/jQueryUI/jquery-ui-1.10.1.custom",
        dynatree: "/sitecore/shell/client/Speak/Assets/lib/ui/1.1/deps/DynaTree/jquery.dynatree-1.2.4",
        dynatreecss: "/sitecore/shell/client/Speak/Assets/lib/ui/1.1/deps/DynaTree/skin-vista/ui.dynatree"
    },
    shim: {
      'jquery': { exports: 'jQuery' },
      'jqueryui': { deps: ['jquery'] },
      'underscore': { exports: '_' },
      'knockout': { deps: ['underscore'], exports: 'ko' },
      'backbone': { deps: ['jquery', 'underscore'], exports: 'Backbone' },
      'sitecore': { deps: ['backbone', 'knockout'], exports: 'Sitecore.Speak' },
      'dynatree': { deps: ['jqueryui'/*, 'css!dynatreecss'*/] }
    },
    map: {
      '*': {
          'css': '/sitecore/shell/client/Speak/Assets/lib/core/1.1/deps/css.js'
      }
    }
  });

  define("knockout", function () {
    return window.ko;
  });
  define("underscore", function () {
    return window._;
  });
  define("backbone", function () {
    return window.Backbone;
  });
  define("jquery", function () {
    return window.jQuery;
  });
  define("Sitecore", function () {
    return window.Sitecore.Speak;
  });
  //backward compatibility
  define("sitecore", function () {
    return window.Sitecore.Speak;
  });

  require(["sitecore", "jquery"], function (_sc, $) {
    $(function () { _sc.load(global); });
  });
})(this);